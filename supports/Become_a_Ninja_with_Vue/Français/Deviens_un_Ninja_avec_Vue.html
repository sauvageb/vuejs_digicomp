<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="author" content="Ninja Squad">
<meta name="copyright" content="Ninja Squad">
<title>Deviens un ninja avec Vue</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Deviens un ninja avec Vue</h1>
<div class="details">
<span id="author" class="author">Ninja Squad</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#intro">1. Introduction</a></li>
<li><a href="#es2015">2. Une rapide introduction à ECMAScript&#160;2015+</a>
<ul class="sectlevel2">
<li><a href="#_transpileur">2.1. Transpileur</a></li>
<li><a href="#_let">2.2. <code>let</code></a></li>
<li><a href="#_constantes">2.3. Constantes</a></li>
<li><a href="#_raccourcis_pour_la_création_dobjets">2.4. Raccourcis pour la création d&#8217;objets</a></li>
<li><a href="#_affectations_déstructurées">2.5. Affectations déstructurées</a></li>
<li><a href="#_paramètres_optionnels_et_valeurs_par_défaut">2.6. Paramètres optionnels et valeurs par défaut</a></li>
<li><a href="#_rest_operator">2.7. <em>Rest operator</em></a></li>
<li><a href="#_classes">2.8. Classes</a></li>
<li><a href="#_promises">2.9. <em>Promises</em></a></li>
<li><a href="#_arrow_functions">2.10. (<em>arrow functions</em>)</a></li>
<li><a href="#_asyncawait">2.11. Async/await</a></li>
<li><a href="#_set_et_map">2.12. <em>Set</em> et <em>Map</em></a></li>
<li><a href="#_template_de_string">2.13. Template de string</a></li>
<li><a href="#modules">2.14. Modules</a></li>
<li><a href="#_conclusion">2.15. Conclusion</a></li>
</ul>
</li>
<li><a href="#types">3. Un peu plus loin qu&#8217;ES2015+</a>
<ul class="sectlevel2">
<li><a href="#_types_dynamiques_statiques_et_optionnels">3.1. Types dynamiques, statiques et optionnels</a></li>
<li><a href="#_hello_typescript">3.2. Hello TypeScript</a></li>
</ul>
</li>
<li><a href="#typescript">4. Découvrir TypeScript</a>
<ul class="sectlevel2">
<li><a href="#_les_types_de_typescript">4.1. Les types de TypeScript</a></li>
<li><a href="#_valeurs_énumérées_enum">4.2. Valeurs énumérées (<em>enum</em>)</a></li>
<li><a href="#_return_types">4.3. Return types</a></li>
<li><a href="#_interfaces">4.4. Interfaces</a></li>
<li><a href="#_paramètre_optionnel">4.5. Paramètre optionnel</a></li>
<li><a href="#_des_fonctions_en_propriété">4.6. Des fonctions en propriété</a></li>
<li><a href="#_classes_2">4.7. Classes</a></li>
<li><a href="#_utiliser_dautres_bibliothèques">4.8. Utiliser d&#8217;autres bibliothèques</a></li>
</ul>
</li>
<li><a href="#advanced-typescript">5. TypeScript avancé</a>
<ul class="sectlevel2">
<li><a href="#_readonly">5.1. readonly</a></li>
<li><a href="#_keyof">5.2. keyof</a></li>
<li><a href="#_mapped_type">5.3. Mapped type</a></li>
<li><a href="#_union_de_types_et_gardien_de_types">5.4. Union de types et gardien de types</a></li>
</ul>
</li>
<li><a href="#web-components">6. Le monde merveilleux des Web Components</a>
<ul class="sectlevel2">
<li><a href="#_le_nouveau_monde">6.1. Le nouveau Monde</a></li>
<li><a href="#_custom_elements">6.2. Custom elements</a></li>
<li><a href="#_shadow_dom">6.3. Shadow DOM</a></li>
<li><a href="#_template">6.4. Template</a></li>
<li><a href="#_les_bibliothèques_basées_sur_les_web_components">6.5. Les bibliothèques basées sur les Web Components</a></li>
</ul>
</li>
<li><a href="#philosophy">7. La philosophie de Vue</a></li>
<li><a href="#zero-to-something">8. Commencer de zéro</a>
<ul class="sectlevel2">
<li><a href="#_un_framework_évolutif">8.1. Un framework évolutif</a></li>
<li><a href="#_vue_cli">8.2. Vue CLI</a></li>
<li><a href="#_bundlers_webpack_rollup_esbuild">8.3. Bundlers&#160;: Webpack, Rollup, esbuild</a></li>
<li><a href="#_vite">8.4. Vite</a></li>
<li><a href="#_create_vue">8.5. create-vue</a></li>
<li><a href="#_single_file_components">8.6. Single File Components</a></li>
</ul>
</li>
<li><a href="#templates">9. Syntaxe des templates</a>
<ul class="sectlevel2">
<li><a href="#_interpolation">9.1. Interpolation</a></li>
<li><a href="#_utiliser_dautres_composants_dans_un_template">9.2. Utiliser d&#8217;autres composants dans un template</a></li>
<li><a href="#_lien_de_propriété_avec_v_bind">9.3. Lien de propriété avec <code>v-bind</code></a></li>
<li><a href="#_événements_avec_v_on">9.4. Événements avec <code>v-on</code></a></li>
<li><a href="#_templates_et_typescript">9.5. Templates et TypeScript</a></li>
<li><a href="#_résumé">9.6. Résumé</a></li>
</ul>
</li>
<li><a href="#directives">10. Directives</a>
<ul class="sectlevel2">
<li><a href="#_des_conditions_dans_les_templates_avec_v_if">10.1. Des conditions dans les templates avec <code>v-if</code></a></li>
<li><a href="#_masquer_du_contenu_avec_v_show">10.2. Masquer du contenu avec <code>v-show</code></a></li>
<li><a href="#_rendu_unique_avec_v_once">10.3. Rendu unique avec <code>v-once</code></a></li>
<li><a href="#_répéter_des_éléments_avec_v_for">10.4. Répéter des éléments avec <code>v-for</code></a></li>
<li><a href="#_du_contenu_html_avec_v_html">10.5. Du contenu HTML avec <code>v-html</code></a></li>
<li><a href="#_du_contenu_non_interprété_v_pre">10.6. Du contenu non interprété <code>v-pre</code></a></li>
<li><a href="#_autres_directives">10.7. Autres directives</a></li>
</ul>
</li>
<li><a href="#building-components">11. Créer des composants</a>
<ul class="sectlevel2">
<li><a href="#_une_propriété_réactive_avec_ref">11.1. Une propriété réactive avec <code>ref</code></a></li>
<li><a href="#_une_propriété_réactive_avec_reactive">11.2. Une propriété réactive avec <code>reactive</code></a></li>
<li><a href="#_ref_ou_reactive">11.3. <code>ref</code> ou <code>reactive</code></a></li>
<li><a href="#_dériver_une_valeur_avec_computed">11.4. Dériver une valeur avec <code>computed</code></a></li>
<li><a href="#_produire_un_effet_de_bord_avec_watcheffect_et_watch">11.5. Produire un effet de bord avec <code>watchEffect</code> et <code>watch</code></a></li>
<li><a href="#_passer_des_props_aux_composants">11.6. Passer des <code>props</code> aux composants</a></li>
<li><a href="#_des_événements_spécifiques_avec_emit">11.7. Des événements spécifiques avec <code>emit</code></a></li>
<li><a href="#_fonctions_du_cycle_de_vie">11.8. Fonctions du cycle de vie</a></li>
</ul>
</li>
<li><a href="#composition-api">12. API Composition</a>
<ul class="sectlevel2">
<li><a href="#_une_conception_propre_grâce_à_lapi_composition">12.1. Une conception propre grâce à l&#8217;API Composition</a></li>
<li><a href="#_extraire_de_la_logique_commune">12.2. Extraire de la logique commune</a></li>
<li><a href="#_lapi_composition_hors_des_composants">12.3. L&#8217;API Composition hors des composants</a></li>
<li><a href="#_un_exemple_de_la_communauté_vueuse">12.4. Un exemple de la communauté&#160;: VueUse</a></li>
</ul>
</li>
<li><a href="#styles">13. Style des composants</a>
<ul class="sectlevel2">
<li><a href="#_styles_scoped">13.1. Styles <code>scoped</code></a></li>
<li><a href="#_styles_module">13.2. Styles <code>module</code></a></li>
<li><a href="#_v_bind_en_css">13.3. <code>v-bind</code> en CSS</a></li>
<li><a href="#_v_deep_v_global_et_v_slotted">13.4. <code>v-deep</code>, <code>v-global</code> et <code>v-slotted</code></a></li>
<li><a href="#_postcss">13.5. PostCSS</a></li>
<li><a href="#_pre_processeurs_css">13.6. Pre-processeurs CSS</a></li>
</ul>
</li>
<li><a href="#many-ways">14. Les nombreuses façons de définir des composants</a>
<ul class="sectlevel2">
<li><a href="#_api_options">14.1. API Options</a></li>
<li><a href="#_api_de_composition">14.2. API de Composition</a></li>
<li><a href="#_script_setup">14.3. Script setup</a></li>
<li><a href="#_api_classe">14.4. API Classe</a></li>
</ul>
</li>
<li><a href="#script-setup">15. <code>script setup</code></a>
<ul class="sectlevel2">
<li><a href="#_migrer_un_composant">15.1. Migrer un composant</a></li>
<li><a href="#_retour_implicite">15.2. Retour implicite</a></li>
<li><a href="#_defineprops">15.3. <code>defineProps</code></a></li>
<li><a href="#_defineemits">15.4. <code>defineEmits</code></a></li>
<li><a href="#_defineoptions">15.5. <code>defineOptions</code></a></li>
<li><a href="#_fermé_par_défaut_et_defineexpose">15.6. Fermé par défaut et <code>defineExpose</code></a></li>
</ul>
</li>
<li><a href="#tests">16. Tester ton application</a>
<ul class="sectlevel2">
<li><a href="#_tester_cest_douter">16.1. Tester c&#8217;est douter</a></li>
<li><a href="#_tests_unitaires">16.2. Tests unitaires</a></li>
<li><a href="#_vitest">16.3. Vitest</a></li>
<li><a href="#_vuetest_utils">16.4. <code>@vue/test-utils</code></a></li>
<li><a href="#_snapshot_testing">16.5. Snapshot testing</a></li>
<li><a href="#_tests_de_bout_en_bout">16.6. Tests de bout en bout</a></li>
<li><a href="#_cypress">16.7. Cypress</a></li>
</ul>
</li>
<li><a href="#http">17. Envoyer et recevoir des données avec HTTP</a>
<ul class="sectlevel2">
<li><a href="#_obtenir_des_données">17.1. Obtenir des données</a></li>
<li><a href="#_options_avancées">17.2. Options avancées</a></li>
<li><a href="#_intercepteurs">17.3. Intercepteurs</a></li>
<li><a href="#_tests">17.4. Tests</a></li>
</ul>
</li>
<li><a href="#slots">18. Slots</a>
<ul class="sectlevel2">
<li><a href="#_projection_de_contenu_avec_slot">18.1. Projection de contenu avec <code>slot</code></a></li>
<li><a href="#_slots_nommés">18.2. Slots nommés</a></li>
<li><a href="#_contenu_par_défaut">18.3. Contenu par défaut</a></li>
<li><a href="#_slot_props">18.4. <em>Slot props</em></a></li>
<li><a href="#_slots_typés_avec_defineslots">18.5. Slots typés avec <code>defineSlots</code></a></li>
</ul>
</li>
<li><a href="#suspense">19. Suspense</a>
<ul class="sectlevel2">
<li><a href="#_afficher_une_alternative">19.1. Afficher une alternative</a></li>
<li><a href="#_gérer_les_erreurs_avec_onerrorcaptured">19.2. Gérer les erreurs avec <code>onErrorCaptured</code></a></li>
<li><a href="#_événements">19.3. Événements</a></li>
<li><a href="#_suspense_contre_onmounted">19.4. <code>Suspense</code> contre <code>onMounted</code></a></li>
<li><a href="#_script_setup_et_await">19.5. <code>script setup</code> et <code>await</code></a></li>
</ul>
</li>
<li><a href="#router">20. Le routeur</a>
<ul class="sectlevel2">
<li><a href="#_en_route">20.1. En route</a></li>
<li><a href="#_navigation">20.2. Navigation</a></li>
<li><a href="#_paramètres">20.3. Paramètres</a></li>
<li><a href="#_routeur_et_suspense">20.4. Routeur et Suspense</a></li>
<li><a href="#_passer_les_paramètres_comme_props">20.5. Passer les paramètres comme <em>props</em></a></li>
<li><a href="#_redirections">20.6. Redirections</a></li>
<li><a href="#_sélection_de_la_route">20.7. Sélection de la route</a></li>
<li><a href="#_routes_imbriquées">20.8. Routes imbriquées</a></li>
<li><a href="#_gardes_de_navigation">20.9. Gardes de navigation</a></li>
<li><a href="#_meta_information">20.10. Meta information</a></li>
<li><a href="#_tests_avec_vue_router_mock">20.11. Tests avec vue-router-mock</a></li>
</ul>
</li>
<li><a href="#lazy-loading">21. Chargement à la demande</a>
<ul class="sectlevel2">
<li><a href="#_composants_asynchrones">21.1. Composants asynchrones</a></li>
<li><a href="#_composants_asynchrones_et_suspense">21.2. Composants asynchrones et <code>Suspense</code></a></li>
<li><a href="#_chargement_à_la_demande_par_le_routeur">21.3. Chargement à la demande par le routeur</a></li>
<li><a href="#_grouper_plusieurs_composants_dans_le_même_bundle">21.4. Grouper plusieurs composants dans le même <em>bundle</em></a></li>
</ul>
</li>
<li><a href="#forms">22. Formulaires</a>
<ul class="sectlevel2">
<li><a href="#_la_directive_v_model">22.1. La directive <code>v-model</code></a></li>
<li><a href="#_de_meilleurs_formulaires_avec_veevalidate">22.2. De meilleurs formulaires avec VeeValidate</a></li>
<li><a href="#_composants_de_formulaire_personnalisés">22.3. Composants de formulaire personnalisés</a></li>
<li><a href="#_macro_definemodel">22.4. Macro <code>defineModel</code></a></li>
</ul>
</li>
<li><a href="#provide-inject">23. Provide/inject</a>
<ul class="sectlevel2">
<li><a href="#_une_manière_déviter_les_props_passe_plat">23.1. Une manière d&#8217;éviter les <code>props</code> passe-plat</a></li>
<li><a href="#_tester_des_composants_qui_utilisent_inject">23.2. Tester des composants qui utilisent <code>inject</code></a></li>
<li><a href="#_providers_hiérarchiques">23.3. <em>Providers</em> hiérarchiques</a></li>
<li><a href="#_plugins">23.4. Plugins</a></li>
</ul>
</li>
<li><a href="#state-management">24. Gestion d&#8217;état</a>
<ul class="sectlevel2">
<li><a href="#_le_pattern_store">24.1. Le pattern <em>store</em></a></li>
<li><a href="#_les_librairies_flux_like">24.2. Les librairies <em>flux-like</em></a></li>
<li><a href="#_vuex">24.3. Vuex</a></li>
<li><a href="#_pinia">24.4. Pinia</a></li>
<li><a href="#_tester_pinia">24.5. Tester Pinia</a></li>
<li><a href="#_pourquoi_utiliser_un_store">24.6. Pourquoi utiliser un store&#160;?</a></li>
</ul>
</li>
<li><a href="#animations">25. Animations et effets de transition</a>
<ul class="sectlevel2">
<li><a href="#_animations_en_pur_css">25.1. Animations en pur CSS</a></li>
<li><a href="#_transitions_dentréesortie">25.2. Transitions d&#8217;entrée/sortie</a></li>
<li><a href="#_transitions_dans_les_listes">25.3. Transitions dans les listes</a></li>
<li><a href="#_et_plus_encore">25.4. Et plus encore&#160;!</a></li>
</ul>
</li>
<li><a href="#advanced-components">26. Patterns pour composants avancés</a>
<ul class="sectlevel2">
<li><a href="#_références_de_template_avec_ref">26.1. Références de template avec <code>ref</code></a></li>
<li><a href="#_références_de_composant">26.2. Références de composant</a></li>
</ul>
</li>
<li><a href="#custom-directives">27. Directives personnalisées</a>
<ul class="sectlevel2">
<li><a href="#_cycle_de_vie_dune_directive">27.1. Cycle de vie d&#8217;une directive</a></li>
<li><a href="#_valeur_des_directives">27.2. Valeur des directives</a></li>
<li><a href="#_argument_des_directives">27.3. Argument des directives</a></li>
<li><a href="#_modificateurs_des_directives">27.4. Modificateurs des directives</a></li>
</ul>
</li>
<li><a href="#i18n">28. Internationalisation</a>
<ul class="sectlevel2">
<li><a href="#_mise_en_place_de_vue_i18n">28.1. Mise en place de vue-i18n</a></li>
<li><a href="#_traduction_de_textes">28.2. Traduction de textes</a></li>
<li><a href="#_messages_paramétrisés">28.3. Messages paramétrisés</a></li>
<li><a href="#_pluralisation">28.4. Pluralisation</a></li>
<li><a href="#_changer_la_locale">28.5. Changer la locale</a></li>
<li><a href="#_formatage">28.6. Formatage</a></li>
<li><a href="#_autres_fonctionnalités_lazy_loading_support_de_vite_et_plus">28.7. Autres fonctionnalités (lazy-loading, support de Vite et plus)</a></li>
</ul>
</li>
<li><a href="#under-the-hood">29. Sous le capot</a>
<ul class="sectlevel2">
<li><a href="#_les_changements_de_rendu">29.1. Les changements de rendu</a></li>
<li><a href="#_la_compilation_des_templates">29.2. La compilation des templates</a></li>
<li><a href="#_le_dom_virtuel">29.3. Le DOM virtuel</a></li>
<li><a href="#_jsx">29.4. JSX</a></li>
<li><a href="#_réactivité">29.5. Réactivité</a></li>
</ul>
</li>
<li><a href="#performances">30. Performances</a>
<ul class="sectlevel2">
<li><a href="#_premier_chargement">30.1. Premier chargement</a></li>
<li><a href="#_taille_des_ressources">30.2. Taille des ressources</a></li>
<li><a href="#_faire_un_beau_paquet_le_bundle">30.3. Faire un beau paquet&#160;: le <em>bundle</em></a></li>
<li><a href="#_tree_shaking">30.4. <em>Tree-shaking</em></a></li>
<li><a href="#_minification_et_élimination_de_code_mort">30.5. Minification et élimination de code mort</a></li>
<li><a href="#_autres_types_de_ressources">30.6. Autres types de ressources</a></li>
<li><a href="#_compression">30.7. Compression</a></li>
<li><a href="#_chargement_fainéant_le_lazy_loading">30.8. Chargement fainéant&#160;: le <em>lazy-loading</em></a></li>
<li><a href="#_rendu_côté_serveur">30.9. Rendu côté serveur</a></li>
<li><a href="#_cache_pour_rechargement">30.10. Cache pour rechargement</a></li>
<li><a href="#_performances_à_lexécution">30.11. Performances à l&#8217;exécution</a></li>
<li><a href="#_key_dans_v_for">30.12. <code>key</code> dans <code>v-for</code></a></li>
<li><a href="#_v_memo">30.13. <code>v-memo</code></a></li>
<li><a href="#_conclusion_2">30.14. Conclusion</a></li>
</ul>
</li>
<li><a href="#ending">31. Ce n&#8217;est qu&#8217;un au revoir</a></li>
<li><a href="#changelog">Annexe A: Historique des versions</a>
<ul class="sectlevel2">
<li><a href="#_changes_since_last_release_2024_07_26">A.1. Changes since last release - 2024-07-26</a></li>
<li><a href="#_v3_4_0_2023_12_29">A.2. v3.4.0 - 2023-12-29</a></li>
<li><a href="#_v3_3_0_2023_05_12">A.3. v3.3.0 - 2023-05-12</a></li>
<li><a href="#_v3_2_45_2023_01_05">A.4. v3.2.45 - 2023-01-05</a></li>
<li><a href="#_v3_2_37_2022_07_06">A.5. v3.2.37 - 2022-07-06</a></li>
<li><a href="#_v3_2_30_2022_02_10">A.6. v3.2.30 - 2022-02-10</a></li>
<li><a href="#_v3_2_26_2021_12_17">A.7. v3.2.26 - 2021-12-17</a></li>
<li><a href="#_v3_2_19_2021_09_30">A.8. v3.2.19 - 2021-09-30</a></li>
<li><a href="#_v3_2_0_2021_08_10">A.9. v3.2.0 - 2021-08-10</a></li>
<li><a href="#_v3_1_0_2021_06_07">A.10. v3.1.0 - 2021-06-07</a></li>
<li><a href="#_v3_0_11_2021_04_02">A.11. v3.0.11 - 2021-04-02</a></li>
<li><a href="#_v3_0_6_2021_02_26">A.12. v3.0.6 - 2021-02-26</a></li>
<li><a href="#_v3_0_4_2020_12_10">A.13. v3.0.4 - 2020-12-10</a></li>
<li><a href="#_v3_0_0_2020_09_18">A.14. v3.0.0 - 2020-09-18</a></li>
<li><a href="#_v3_0_0_rc_4_2020_07_24">A.15. v3.0.0-rc.4 - 2020-07-24</a></li>
<li><a href="#_v3_0_0_beta_19_2020_07_08">A.16. v3.0.0-beta.19 - 2020-07-08</a></li>
<li><a href="#_v3_0_0_beta_10_2020_05_11">A.17. v3.0.0-beta.10 - 2020-05-11</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="intro">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Alors comme ça on veut devenir un ninja&#160;?!
Ça tombe bien, tu es entre de bonnes mains&#160;!
Pour y parvenir, nous avons un bon bout de chemin à parcourir ensemble,
semé d&#8217;embûches et de connaissances à acquérir.</p>
</div>
<div class="paragraph">
<p>On vit une époque excitante pour le développement web.
Il y a un nouveau Vue&#160;!</p>
</div>
<div class="paragraph">
<p>En tant que développeurs "front",
nous avons à notre disposition de nombreux frameworks JavaScript.
React et Angular sont toujours incroyablement populaires.
Comme tu le sais peut-être, nous sommes assez fans d&#8217;Angular.
Je suis un contributeur régulier au framework,
proche de l&#8217;équipe principale.
Dans notre petite entreprise,
on l&#8217;a utilisé pour construire plusieurs projets,
on a formé des centaines de développeurs (oui, des centaines, littéralement),
et on a même écrit <a href="https://books.ninja-squad.com/angular">un livre</a> sur le sujet.</p>
</div>
<div class="paragraph">
<p>Angular est incroyablement productif une fois maîtrisé.
Mais cela ne nous empêche pas de voir quel outil formidable est Vue.</p>
</div>
<div class="paragraph">
<p>Mon aventure avec Vue a commencé il y a quelques années,
comme une journée "amusons-nous avec Vue&#160;2".
Je voulais juste voir comment Vue fonctionnait
et construire une petite application pour me faire ma propre idée.
Après avoir enseigné Angular pendant des années,
j&#8217;ai immédiatement réalisé à quel point Vue était plus facile à apprendre
tout étant très puissant.
Beaucoup de choses sont similaires entre les deux frameworks,
mais Vue a su trouver un bon équilibre.</p>
</div>
<div class="paragraph">
<p>Donc voilà, j&#8217;aimais bien Vue&#160;2.x.
J&#8217;avais même commencé à écrire ce livre à l&#8217;époque.
Un point m&#8217;ennuyait cependant&#160;:
l&#8217;intégration TypeScript était&#8230;&#8203; pas terrible, dirons-nous.
Et s&#8217;il y a bien une chose que j&#8217;adore quand je travaille avec Angular,
c&#8217;est son intégration presque parfaite avec TypeScript.</p>
</div>
<div class="paragraph">
<p>C&#8217;est pour cela que quand Vue&#160;3.0 a été annoncé
comme une ré-écriture complète en TypeScript en septembre 2018,
j&#8217;étais ravi et ai commencé à travailler à nouveau sur ce que tu es en train de lire.</p>
</div>
<div class="paragraph">
<p>J&#8217;ai suivi le développement de Vue&#160;3 de très près,
relisant chaque commit (si, si, tu as bien lu),
et contribuant même quelques petites corrections de bugs et minifonctionnalités.
Au même moment, nous commencions quelques projets Vue pour nos clients,
et, une chose en entraînant une autre,
je me retrouvais à contribuer au framework,
à la bibliothèque de tests, à la bibliothèque de formulaires,
et partageant mon "temps libre open-source" entre Vue et Angular.</p>
</div>
<div class="paragraph">
<p>Vue a beaucoup de points très intéressants et une vision dont peu de frameworks peuvent se targuer.
Cet ebook est un "effet de bord" de mes contributions open-source,
et de mon envie de partager ce que j&#8217;aime à propos de Vue.
Je trouve fascinant de comprendre comment les différents frameworks résolvent des problèmes similaires,
et j&#8217;espère partager mon enthousiasme avec vous ❤️.</p>
</div>
<div class="paragraph">
<p>L&#8217;ambition de cet ebook est d&#8217;évoluer avec Vue.
Tu recevras des mises à jour (gratuites&#160;!)
avec des bonnes pratiques et de nouvelles fonctionnalités quand elles émergeront
(et avec moins de fautes de frappe, parce qu&#8217;il en reste probablement malgré nos nombreuses relectures&#8230;&#8203;).
J&#8217;adorerais avoir tes retours, si certains chapitres ne sont pas assez clairs,
si tu as repéré une erreur, ou si tu as une meilleure solution pour certains points.</p>
</div>
<div class="paragraph">
<p>Je suis cependant assez confiant sur nos exemples de code,
car ils sont extraits d&#8217;un vrai projet,
et sont couverts par des douzaines de tests unitaires et de bout-en-bout.
C&#8217;était la seule façon d&#8217;écrire un livre sur un framework en gestation et de repérer les problèmes
qui arrivaient inévitablement avec chaque release.</p>
</div>
<div class="paragraph">
<p>Tout le code est écrit en TypeScript,
parce que l&#8217;on croit vraiment que c&#8217;est un outil fantastique.
Tu peux bien sûr écrire tes applications Vue en JavaScript,
mais tu verras que TypeScript n&#8217;est pas très intrusif quand tu écris des applications Vue
et peut t&#8217;amener une énorme plus-value.
Même si, finalement, tu n&#8217;es pas convaincu&#183;e par TypeScript (ou Vue),
je suis à peu près sûr que tu vas apprendre deux-trois trucs en chemin.</p>
</div>
<div class="paragraph">
<p>Si tu as acheté notre cours en ligne, le "pack pro" (merci&#160;!),
tu pourras construire une petite application morceau par morceau, tout au long du livre.
Cette application s&#8217;appelle <strong>PonyRacer</strong>, c&#8217;est une application web où tu peux parier sur des courses de poneys.
Tu peux <a href="https://vue-ponyracer.ninja-squad.com">tester cette application ici</a>&#160;!
Vas-y, je t&#8217;attends.</p>
</div>
<div class="paragraph">
<p>Cool, non&#160;?</p>
</div>
<div class="paragraph">
<p>Mais en plus d&#8217;être amusante, c&#8217;est une application complète.
Tu devras écrire des composants, des formulaires, des tests,
tu devras utiliser le routeur, appeler une API HTTP (fournie), et même faire des WebSockets.
Elle utilise <a href="https://vitejs.dev/">Vite</a>
et intègre tous les morceaux dont tu auras besoin pour construire une vraie application.</p>
</div>
<div class="paragraph">
<p>Chaque exercice viendra avec son squelette, un ensemble d&#8217;instructions et quelques tests.
Quand tous les tests passent, tu as terminé l&#8217;exercice&#160;!</p>
</div>
<div class="paragraph">
<p>Les 6 premiers exercices du Pack Pro sont gratuits
et disponibles à l&#8217;adresse <a href="https://vue-exercises.ninja-squad.com">vue-exercises.ninja-squad.com</a>.
Les autres ne sont accessibles que pour les acheteurs de notre formation en ligne.
À la fin de chaque chapitre,
nous listerons les exercices du Pack Pro liés aux fonctionnalités expliquées dans le chapitre,
en signalant les exercices gratuits avec le symbole suivant&#160;:
<span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>
, et les autres avec le symbole suivant&#160;:
<span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>.</p>
</div>
<div class="paragraph">
<p>Si tu n&#8217;as pas acheté le "pack pro" (tu devrais), ne t&#8217;inquiète pas&#160;:
tu apprendras tout ce dont tu auras besoin.
Mais tu ne construiras pas cette application incroyable avec de beaux poneys en pixel art.
Quel dommage 😊&#160;!</p>
</div>
<div class="paragraph">
<p>Tu te rendras vite compte qu&#8217;au-delà de Vue,
nous avons essayé d&#8217;expliquer les concepts au cœur du framework.
Les premiers chapitres ne parlent même pas de Vue&#160;:
ce sont ceux que j&#8217;appelle les "chapitres conceptuels",
ils te permettront de monter en puissance avec les nouveautés intéressantes de notre domaine.</p>
</div>
<div class="paragraph">
<p>Ensuite, nous construirons progressivement notre connaissance du framework
(et des bibliothèques de l&#8217;écosystème), avec les composants, les templates, les directives,
la nouvelle API de Composition, les formulaires, HTTP, le routeur, les tests&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Et, enfin, nous nous attaquerons à quelques sujets avancés.</p>
</div>
<div class="paragraph">
<p>Terminons cette trop longue introduction
et découvrons les nouveautés introduites dans les dernières versions d&#8217;ECMAScript,
puis intéresserons-nous à TypeScript.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Cet ebook utilise Vue version 3.4.34 dans les exemples.
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="es2015">2. Une rapide introduction à ECMAScript&#160;2015+</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Si tu lis ce livre, on peut imaginer que tu as déjà entendu parler de JavaScript.
Ce que l&#8217;on appelle JavaScript (JS) est une des implémentations d&#8217;une spécification standardisée, appelée ECMAScript.
La version de la spécification que tu connais le plus est probablement la version 5&#160;:
c&#8217;est celle utilisée depuis de nombreuses années.</p>
</div>
<div class="paragraph">
<p>En 2015, une nouvelle version de cette spécification a été validée&#160;:
ECMAScript&#160;2015, ES2015, ou ES6,
puisque c&#8217;est la sixième version de cette spécification.
Et nous avons depuis une nouvelle version chaque année (ES2016, ES2017, etc.),
avec à chaque fois quelques nouvelles fonctionnalités.
Je l&#8217;appellerai désormais systématiquement ES2015, parce que c&#8217;est son petit nom le plus populaire,
ou ES2015+ pour parler de ES2015, ES2016, ES2017, etc.
Elle ajoute une tonne de fonctionnalités à JavaScript, comme les classes,
les constantes, les <em>arrow functions</em>, les générateurs&#8230;&#8203;
Il y a tellement de choses que l&#8217;on ne peut pas tout couvrir, sauf à y consacrer entièrement ce livre.
Mais Vue a été conçu pour bénéficier de cette nouvelle version de JavaScript.
Même si tu peux toujours utiliser ton bon vieux JavaScript, tu auras plein d&#8217;avantages à utiliser ES2015+.
Ainsi, nous allons consacrer ce chapitre à découvrir ES2015+,
et voir comment il peut nous être utile pour construire une application Vue.</p>
</div>
<div class="paragraph">
<p>On va laisser beaucoup d&#8217;aspects de côté, et on ne sera pas exhaustifs sur ce que l&#8217;on verra.
Si tu connais déjà ES2015+, tu peux directement sauter ce chapitre.
Sinon, tu vas apprendre des trucs plutôt incroyables qui te serviront à l&#8217;avenir
même si tu n&#8217;utilises finalement pas Vue&#160;!</p>
</div>
<div class="sect2">
<h3 id="_transpileur">2.1. Transpileur</h3>
<div class="paragraph">
<p>La sixième version de la spécification a atteint son état final en 2015.
Il est donc supporté par les navigateurs modernes,
mais il y a encore des navigateurs qui ne supportent pas toute la spécification,
ou qui la supportent seulement partiellement.
Et bien sûr, avec une spécification maintenant annuelle (ES2016, ES2017, etc.),
certains navigateurs seront toujours en retard.
Ainsi, on peut se demander à quoi bon présenter le sujet s&#8217;il est toujours en pleine évolution&#160;?
Et tu as raison, car rares sont les applications qui peuvent se permettre d&#8217;ignorer les navigateurs devenus obsolètes.
Mais comme tous les développeurs qui ont essayé ES2015+ ont hâte de l&#8217;utiliser dans leurs applications,
la communauté a trouvé une solution&#160;: un transpileur.</p>
</div>
<div class="paragraph">
<p>Un transpileur prend du code source ES2015+ en entrée et génère du code ES5, qui peut tourner dans n&#8217;importe quel navigateur.
Il génère même les fichiers <em>sourcemap</em>, qui permettent de déboguer directement le code ES2015+ depuis le navigateur.
En 2015, il y avait deux outils principaux pour transpiler de l&#8217;ES2015+&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/google/traceur-compiler">Traceur</a>, un projet Google,
historiquement le premier, mais désormais non maintenu.</p>
</li>
<li>
<p><a href="https://babeljs.io/">Babeljs</a>, un projet démarré par Sebastian McKenzie, un jeune développeur de 17 ans (oui, ça fait mal),
et qui a reçu beaucoup de contributions extérieures.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Le code source de Vue était d&#8217;ailleurs transpilé avec Babel, avant de basculer en TypeScript pour la version 3.0.
TypeScript est un langage open source développé par Microsoft.
C&#8217;est un sur-ensemble typé de JavaScript qui compile vers du JavaScript standard, mais nous étudierons cela très bientôt.</p>
</div>
<div class="paragraph">
<p>Pour parler franchement, Babel est biiiiien plus populaire que Traceur aujourd&#8217;hui, on aurait donc tendance à te le conseiller.
Le projet est maintenant le standard de-facto.</p>
</div>
<div class="paragraph">
<p>Si tu veux jouer avec ES2015+, ou le mettre en place dans un de tes projets,
jette un œil à ces transpileurs et ajoute une étape à la construction de ton projet.
Elle prendra tes fichiers sources ES2015+ et générera l&#8217;équivalent en ES5.
Ça fonctionne très bien, mais, évidemment, certaines nouvelles fonctionnalités sont difficiles, voire impossibles à transformer,
parce qu&#8217;elles n&#8217;existent tout simplement pas en ES5.
Néanmoins, l&#8217;état d&#8217;avancement actuel de ces transpileurs est largement suffisant pour les utiliser sans problème,
alors jetons un coup d&#8217;œil à ces nouveautés ES2015+.</p>
</div>
</div>
<div class="sect2">
<h3 id="_let">2.2. <code>let</code></h3>
<div class="paragraph">
<p>Si tu pratiques le JS depuis un certain temps,
tu dois savoir que la déclaration de variable avec <code>var</code> peut être délicate.
Dans à peu près tous les autres langages,
une variable existe à partir de la ligne contenant la déclaration de cette variable.
Mais, en JS, il y a un concept nommé <em>hoisting</em> ("remontée") qui déclare la variable au tout début de la fonction,
même si tu l&#8217;as écrite plus loin.</p>
</div>
<div class="paragraph">
<p>Ainsi, déclarer une variable <code>name</code> dans le bloc <code>if</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonyFullName(pony) {
  if (pony.isChampion) {
    var name = 'Champion ' + pony.name;
    return name;
  }
  return pony.name;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>est équivalent à la déclarer tout en haut de la fonction&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonyFullName(pony) {
  var name;
  if (pony.isChampion) {
    name = 'Champion ' + pony.name;
    return name;
  }
  // name is still accessible here
  return pony.name;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>ES2015 introduit un nouveau mot-clé pour la déclaration de variable, <code>let</code>,
qui se comporte enfin comme on pourrait s&#8217;y attendre&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonyFullName(pony) {
  if (pony.isChampion) {
    let name = 'Champion ' + pony.name;
    return name;
  }
  // name is not accessible here
  return pony.name;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;accès à la variable <code>name</code> est maintenant restreint à son bloc.
<code>let</code> a été pensé pour remplacer définitivement <code>var</code> à long terme,
donc tu peux abandonner ce bon vieux <code>var</code> au profit de <code>let</code>.
La bonne nouvelle est que ça doit être indolore, et que si ça ne l&#8217;est pas,
c&#8217;est que tu as mis le doigt sur un défaut de ton code&#160;!</p>
</div>
</div>
<div class="sect2">
<h3 id="_constantes">2.3. Constantes</h3>
<div class="paragraph">
<p>Tant que l&#8217;on est sur le sujet des nouveaux mot-clés et des variables,
il y en a un autre qui peut être intéressant.
ES2015 introduit aussi <code>const</code> pour déclarer des&#8230;&#8203; constantes&#160;!
Si tu déclares une variable avec <code>const</code>, elle doit obligatoirement être initialisée,
et tu ne pourras plus lui affecter de nouvelles valeurs ensuite.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const poniesInRace = 6;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">poniesInRace = 7; // SyntaxError</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme pour les variables déclarées avec <code>let</code>,
les constantes ne sont pas hoisted ("remontées") et sont bien déclarées dans leur bloc.</p>
</div>
<div class="paragraph">
<p>Il y a un détail qui peut cependant surprendre le profane.
Tu peux initialiser une constante avec un objet et modifier par la suite le contenu de l&#8217;objet.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const PONY = {};
PONY.color = 'blue'; // works</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais tu ne peux pas assigner à la constante un nouvel objet&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const PONY = {};</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">PONY = {color: 'blue'}; // SyntaxError</code></pre>
</div>
</div>
<div class="paragraph">
<p>Même chose avec les tableaux&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const PONIES = [];
PONIES.push({ color: 'blue' }); // works</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">PONIES = []; // SyntaxError</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_raccourcis_pour_la_création_dobjets">2.4. Raccourcis pour la création d&#8217;objets</h3>
<div class="paragraph">
<p>Ce n&#8217;est pas un nouveau mot-clé, mais ça peut te faire tiquer en lisant du code ES2015.
Il y a un nouveau raccourci pour créer des objets,
quand la propriété de l&#8217;objet que tu veux créer a le même nom que la variable utilisée comme valeur pour l&#8217;attribut.</p>
</div>
<div class="paragraph">
<p>Exemple&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function createPony() {
  const name = 'Rainbow Dash';
  const color = 'blue';
  return { name: name, color: color };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>peut être simplifié en&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function createPony() {
  const name = 'Rainbow Dash';
  const color = 'blue';
  return { name, color };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu peux aussi utiliser un autre raccourci,
quand tu veux déclarer une méthode dans un objet&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function createPony() {
  return {
    run: () =&gt; {
      console.log('Run!');
    }
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>qui peut être simplifié en&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function createPony() {
  return {
    run() {
      console.log('Run!');
    }
  };
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_affectations_déstructurées">2.5. Affectations déstructurées</h3>
<div class="paragraph">
<p>Celui-là aussi peut te faire tiquer en lisant du code ES2015.
Il y a maintenant un raccourci pour affecter des variables à partir d&#8217;objets ou de tableaux.</p>
</div>
<div class="paragraph">
<p>En ES5&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">var httpOptions = { timeout: 2000, isCache: true };
// later
var httpTimeout = httpOptions.timeout;
var httpCache = httpOptions.isCache;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Maintenant, en ES2015, tu peux écrire&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const httpOptions = { timeout: 2000, isCache: true };
// later
const { timeout: httpTimeout, isCache: httpCache } = httpOptions;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et tu auras le même résultat.
Cela peut être perturbant,
parce que la clé est la propriété à lire dans l&#8217;objet et la valeur est la variable à affecter.
Mais cela fonctionne plutôt bien&#160;!
Et même mieux&#160;:
si la variable que tu veux affecter a le même nom que la propriété de l&#8217;objet à lire,
tu peux écrire simplement&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const httpOptions = { timeout: 2000, isCache: true };
// later
const { timeout, isCache } = httpOptions;
// you now have a variable named 'timeout'
// and one named 'isCache' with correct values</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le truc cool est que ça marche aussi avec des objets imbriqués&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const httpOptions = { timeout: 2000, cache: { age: 2 } };
// later
const {
  cache: { age }
} = httpOptions;
// you now have a variable named 'age' with value 2</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et la même chose est possible avec des tableaux&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const timeouts = [1000, 2000, 3000];
// later
const [shortTimeout, mediumTimeout] = timeouts;
// you now have a variable named 'shortTimeout' with value 1000
// and a variable named 'mediumTimeout' with value 2000</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bien entendu, cela fonctionne avec des tableaux de tableaux, des tableaux dans des objets, etc.</p>
</div>
<div class="paragraph">
<p>Un cas d&#8217;usage intéressant de cette fonctionnalité est la possibilité de retourner de multiples valeurs.
Imagine une fonction <code>randomPonyInRace</code> qui retourne un poney et sa position dans la course.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function randomPonyInRace() {
  const pony = { name: 'Rainbow Dash' };
  const position = 2;
  // ...
  return { pony, position };
}

const { position, pony } = randomPonyInRace();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cette nouvelle fonctionnalité de déstructuration assigne la <code>position</code> retournée par la méthode à la variable <code>position</code>
et le poney à la variable <code>pony</code>. Et, si tu n&#8217;as pas usage de la position, tu peux écrire&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function randomPonyInRace() {
  const pony = { name: 'Rainbow Dash' };
  const position = 2;
  // ...
  return { pony, position };
}

const { pony } = randomPonyInRace();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et tu auras seulement une variable <code>pony</code>.</p>
</div>
<div class="paragraph">
<p>Il est aussi possible d&#8217;assigner une valeur à la variable déstructurée
si elle est <code>undefined</code> dans l&#8217;objet&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function randomPonyInRace() {
  const pony = { name: 'Rainbow Dash' };
  const position = undefined;
  // ...
  return { pony, position };
}

const { position = 1 } = randomPonyInRace();</code></pre>
</div>
</div>
<div class="paragraph">
<p>La variable <code>position</code> contient alors 1 dans ce cas.</p>
</div>
</div>
<div class="sect2">
<h3 id="_paramètres_optionnels_et_valeurs_par_défaut">2.6. Paramètres optionnels et valeurs par défaut</h3>
<div class="paragraph">
<p>JS a la particularité de permettre aux développeurs d&#8217;appeler une fonction avec un nombre d&#8217;arguments variables&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>si tu passes plus d&#8217;arguments que déclarés par la fonction,
les arguments supplémentaires sont tout simplement ignorés (pour être tout à fait exact,
tu peux quand même les utiliser dans la fonction avec la variable spéciale <code>arguments</code>).</p>
</li>
<li>
<p>si tu passes moins d&#8217;arguments que déclarés par la fonction,
les paramètres manquants auront la valeur <code>undefined</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ce dernier cas est celui qui nous intéresse.
Souvent, on passe moins d&#8217;arguments quand les paramètres sont optionnels, comme dans l&#8217;exemple suivant&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonies(size, page) {
  size = size || 10;
  page = page || 1;
  // ...
  server.get(size, page);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les paramètres optionnels ont la plupart du temps une valeur par défaut.
L&#8217;opérateur OR (<code>||</code>) va retourner l&#8217;opérande de droite si celui de gauche est <code>undefined</code>,
comme cela serait le cas si le paramètre n&#8217;avait pas été fourni par l&#8217;appelant
(pour être précis, si l&#8217;opérande de gauche est <em>falsy</em>, c&#8217;est-à-dire <code>undefined</code>, <code>0</code>, <code>false</code>, <code>""</code>, etc.).
Avec cette astuce, la fonction <code>getPonies</code> peut ainsi être invoquée&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getPonies(20, 2);
getPonies(); // same as getPonies(10, 1);
getPonies(15); // same as getPonies(15, 1);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cela fonctionnait, mais ce n&#8217;était pas évident de savoir que les paramètres étaient optionnels,
sauf à lire le corps de la fonction.
ES2015 offre désormais une façon plus formelle de déclarer des paramètres optionnels,
dès la déclaration de la fonction&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonies(size = 10, page = 1) {
  // ...
  server.get(size, page);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Maintenant, il est limpide que la valeur par défaut de <code>size</code> sera 10 et celle de <code>page</code> sera <code>1</code> s&#8217;ils ne sont pas fournis.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Il y a cependant une subtile différence, car <code>0</code> ou <code>""</code> sont alors des valeurs valides,
et ne seront pas remplacées par les valeurs par défaut, comme <code>size = size || 10</code> l&#8217;aurait fait.
C&#8217;est donc plutôt équivalent à <code>size = size === undefined ? 10 : size;</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>La valeur par défaut peut aussi être un appel de fonction&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonies(size = defaultSize(), page = 1) {
  // the defaultSize method will be called if size is not provided
  // ...
  server.get(size, page);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>ou même d&#8217;autres variables, d&#8217;autres variables globales,
ou d&#8217;autres paramètres de la même fonction&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getPonies(size = defaultSize(), page = size - 1) {
  // if page is not provided, it will be set to the value
  // of the size parameter minus one.
  // ...
  server.get(size, page);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ce mécanisme de valeur par défaut ne s&#8217;applique pas qu&#8217;aux paramètres de fonction,
mais aussi aux valeurs de variables, par exemple dans le cas d&#8217;une affectation déstructurée&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const { timeout = 1000 } = httpOptions;
// you now have a variable named 'timeout',
// with the value of 'httpOptions.timeout' if it exists
// or 1000 if not</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rest_operator">2.7. <em>Rest operator</em></h3>
<div class="paragraph">
<p>ES2015 introduit aussi une nouvelle syntaxe pour déclarer un nombre variable de paramètres dans une fonction.
Comme on le disait précédemment, tu peux toujours passer des arguments supplémentaires à un appel de fonction,
et y accéder avec la variable spéciale <code>arguments</code>.
Tu peux faire quelque chose comme&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function addPonies(ponies) {
  for (var i = 0; i &lt; arguments.length; i++) {
    poniesInRace.push(arguments[i]);
  }
}

addPonies('Rainbow Dash', 'Pinkie Pie');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais tu seras d&#8217;accord pour dire que ce n&#8217;est ni élégant, ni évident&#160;:
le paramètre <code>ponies</code> n&#8217;est jamais utilisé,
et rien n&#8217;indique que l&#8217;on peut fournir plusieurs poneys.</p>
</div>
<div class="paragraph">
<p>ES2015 propose une syntaxe bien meilleure, grâce au <em>rest operator</em> <code>&#8230;&#8203;</code> ("opérateur de reste").</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function addPonies(...ponies) {
  for (const pony of ponies) {
    poniesInRace.push(pony);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>ponies</code> est désormais un véritable tableau, sur lequel on peut itérer.
La boucle <code>for &#8230;&#8203; of</code> utilisée pour l&#8217;itération est aussi une nouveauté d&#8217;ES2015.
Elle permet d&#8217;être sûr de n&#8217;itérer que sur les valeurs de la collection,
et non pas sur ses propriétés comme <code>for &#8230;&#8203; in</code>.
Ne trouves-tu pas que notre code est maintenant bien plus beau et lisible&#160;?</p>
</div>
<div class="paragraph">
<p>Le <em>rest operator</em> peut aussi fonctionner avec des affectations déstructurées&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const [winner, ...losers] = poniesInRace;
// assuming 'poniesInRace' is an array containing several ponies
// 'winner' will have the first pony,
// and 'losers' will be an array of the other ones</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le <em>rest operator</em> ne doit pas être confondu avec le <em>spread operator</em> ("opérateur d&#8217;étalement"),
même si, on te l&#8217;accorde, ils se ressemblent dangereusement&#160;!
Le <em>spread operator</em> est son opposé&#160;: il prend un tableau et l&#8217;étale en arguments variables.
Le seul cas d&#8217;utilisation qui me vient à l&#8217;esprit serait pour les fonctions comme <code>min</code> ou <code>max</code>,
qui peuvent recevoir des arguments variables, et que tu voudrais appeler avec un tableau&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const ponyPrices = [12, 3, 4];
const minPrice = Math.min(...ponyPrices);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_classes">2.8. Classes</h3>
<div class="paragraph">
<p>Une des fonctionnalités les plus emblématiques&#160;:
ES2015 introduit les classes en JavaScript&#160;!
Tu pourras dorénavant facilement faire de l&#8217;héritage de classes en JavaScript.
C&#8217;était déjà possible, avec l&#8217;héritage prototypal, mais ce n&#8217;était pas une tâche aisée, surtout pour les débutants&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Maintenant, c&#8217;est les doigts dans le nez, regarde&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Pony {
  constructor(color) {
    this.color = color;
  }

  toString() {
    return `${this.color} pony`;
    // see that? It is another cool feature of ES2015, called template literals
    // we'll talk about these quickly!
  }
}

const bluePony = new Pony('blue');
console.log(bluePony.toString()); // blue pony</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les déclarations de classes, contrairement aux déclarations de fonctions,
ne sont pas <em>hoisted</em> ("remontées"), donc tu dois déclarer une classe avant de l&#8217;utiliser.
Tu as probablement remarqué la fonction spéciale <code>constructor</code>.
C&#8217;est le constructeur, la fonction appelée à la création d&#8217;un nouvel objet avec le mot-clé <code>new</code>.
Dans l&#8217;exemple, il requiert une couleur,
et nous créons une nouvelle instance de la classe <code>Pony</code> avec la couleur "blue".
Une classe peut aussi avoir des méthodes, appelables sur une instance, comme la méthode <code>toString()</code> dans l&#8217;exemple.</p>
</div>
<div class="paragraph">
<p>Une classe peut aussi avoir des attributs et des méthodes statiques&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Pony {
  static defaultSpeed() {
    return 10;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ces méthodes statiques ne peuvent être appelées que sur la classe directement&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const speed = Pony.defaultSpeed();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Une classe peut avoir des accesseurs (<em>getters, setters</em>), si tu veux implémenter du code sur ces opérations&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Pony {
  get color() {
    console.log('get color');
    return this._color;
  }

  set color(newColor) {
    console.log(`set color ${newColor}`);
    this._color = newColor;
  }
}
const pony = new Pony();
pony.color = 'red';
// 'set color red'
console.log(pony.color);
// 'get color'
// 'red'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et, bien évidemment, si tu as des classes, l&#8217;héritage est possible en ES2015.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Animal {
  speed() {
    return 10;
  }
}
class Pony extends Animal {}
const pony = new Pony();
console.log(pony.speed()); // 10, as Pony inherits the parent method</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Animal</code> est appelée la classe de base et <code>Pony</code> la classe dérivée.
Comme tu peux le voir, la classe dérivée possède toutes les méthodes de la classe de base.
Mais elle peut aussi les redéfinir&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Animal {
  speed() {
    return 10;
  }
}
class Pony extends Animal {
  speed() {
    return super.speed() + 10;
  }
}
const pony = new Pony();
console.log(pony.speed()); // 20, as Pony overrides the parent method</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir,
le mot-clé <code>super</code> permet d&#8217;invoquer la méthode de la classe de base,
avec <code>super.speed()</code> par exemple.</p>
</div>
<div class="paragraph">
<p>Ce mot-clé <code>super</code> peut aussi être utilisé dans les constructeurs,
pour invoquer le constructeur de la classe de base&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Animal {
  constructor(speed) {
    this.speed = speed;
  }
}
class Pony extends Animal {
  constructor(speed, color) {
    super(speed);
    this.color = color;
  }
}
const pony = new Pony(20, 'blue');
console.log(pony.speed); // 20</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_promises">2.9. <em>Promises</em></h3>
<div class="paragraph">
<p>Les <em>promises</em> ("promesses") ne sont pas si nouvelles,
et tu les connais ou les utilises peut-être déjà,
parce qu&#8217;elles existaient déjà via des bibliothèques tierces.
Mais, comme nous les utiliserons beaucoup avec Vue,
et même si tu n&#8217;utilises que du pur JS sans Vue,
on pense que c&#8217;est important de s&#8217;y attarder un peu.</p>
</div>
<div class="paragraph">
<p>L&#8217;objectif des <em>promises</em> est de simplifier la programmation asynchrone.
Notre code JS est plein d&#8217;asynchronisme, comme des requêtes AJAX,
et, en général, on utilise des <em>callbacks</em> pour gérer le résultat et l&#8217;erreur.
Mais le code devient vite confus, avec des <em>callbacks</em> dans des <em>callbacks</em>,
qui le rendent illisible et peu maintenable. Les <em>promises</em> sont plus pratiques que les <em>callbacks</em>,
parce qu&#8217;elles permettent d&#8217;écrire du code à plat, et le rendent ainsi plus simple à comprendre.
Prenons un cas d&#8217;utilisation simple, où on doit récupérer un utilisateur, puis ses droits,
puis mettre à jour un menu quand on a récupéré tout ça.</p>
</div>
<div class="paragraph">
<p>Avec des <em>callbacks</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login, function (user) {
  getRights(user, function (rights) {
    updateMenu(rights);
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Avec des <em>promises</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(function (user) {
    return getRights(user);
  })
  .then(function (rights) {
    updateMenu(rights);
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p>J&#8217;aime cette version, parce qu&#8217;elle s&#8217;exécute comme elle se lit&#160;:
je veux récupérer un utilisateur, puis ses droits, puis mettre à jour le menu.</p>
</div>
<div class="paragraph">
<p>Une <em>promise</em> est un objet <em>thenable</em>, ce qui signifie simplement qu&#8217;il a une méthode <code>then</code>.
Cette méthode prend deux arguments&#160;: un callback de succès et un callback d&#8217;erreur.
Une <em>promise</em> a trois états&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>pending</em> ("en cours")&#160;: quand la <em>promise</em> n&#8217;est pas réalisée,
par exemple quand l&#8217;appel serveur n&#8217;est pas encore terminé.</p>
</li>
<li>
<p><em>fulfilled</em> ("réalisée")&#160;: quand la <em>promise</em> s&#8217;est réalisée avec succès,
par exemple quand l&#8217;appel HTTP serveur a retourné un status 200-OK.</p>
</li>
<li>
<p><em>rejected</em> ("rejetée")&#160;: quand la <em>promise</em> a échoué,
par exemple si l&#8217;appel HTTP serveur a retourné un status 404-NotFound.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Quand la promesse est réalisée (<em>fulfilled</em>),
alors le callback de succès est invoqué, avec le résultat en argument.
Si la promesse est rejetée (<em>rejected</em>), alors le callback d&#8217;erreur est invoqué,
avec la valeur rejetée ou une erreur en argument.</p>
</div>
<div class="paragraph">
<p>Alors, comment crée-t-on une <em>promise</em>&#160;?
C&#8217;est simple, il y a une nouvelle classe <code>Promise</code>,
dont le constructeur attend une fonction avec deux paramètres, <code>resolve</code> et <code>reject</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const getUser = function (login) {
  return new Promise(function (resolve, reject) {
    // async stuff, like fetching users from server, returning a response
    if (response.status === 200) {
      resolve(response.data);
    } else {
      reject('No user');
    }
  });
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Une fois la <em>promise</em> créée, tu peux enregistrer des <em>callbacks</em>,
via la méthode <code>then</code>.
Cette méthode peut recevoir deux arguments,
les deux <em>callbacks</em> que tu veux voir invoqués en cas de succès ou en cas d&#8217;échec.
Dans l&#8217;exemple suivant, nous passons simplement un seul <em>callback</em> de succès,
ignorant ainsi une erreur potentielle&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(function (user) {
    console.log(user);
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quand la promesse sera réalisée,
le callback de succès (qui se contente ici de tracer l&#8217;utilisateur en console) sera invoqué.</p>
</div>
<div class="paragraph">
<p>La partie la plus cool, c&#8217;est que le code peut s&#8217;écrire à plat.
Si par exemple ton <em>callback</em> de succès retourne lui aussi une <em>promise</em>, tu peux écrire&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(function (user) {
    return getRights(user) // getRights is returning a promise
      .then(function (rights) {
        return updateMenu(rights);
      });
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p>ou plus élégamment&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(function (user) {
    return getRights(user); // getRights is returning a promise
  })
  .then(function (rights) {
    return updateMenu(rights);
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p>Un autre truc cool est la gestion d&#8217;erreur&#160;:
tu peux définir une gestion d&#8217;erreur par <em>promise</em> ou globale à toute la chaîne.</p>
</div>
<div class="paragraph">
<p>Une gestion d&#8217;erreur par <em>promise</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(
    function (user) {
      return getRights(user);
    },
    function (error) {
      console.log(error); // will be called if getUser fails
      return Promise.reject(error);
    }
  )
  .then(
    function (rights) {
      return updateMenu(rights);
    },
    function (error) {
      console.log(error); // will be called if getRights fails
      return Promise.reject(error);
    }
  )</code></pre>
</div>
</div>
<div class="paragraph">
<p>Une gestion d&#8217;erreur globale pour toute la chaîne&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(function (user) {
    return getRights(user);
  })
  .then(function (rights) {
    return updateMenu(rights);
  })
  .catch(function (error) {
    console.log(error); // will be called if getUser or getRights fails
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu devrais sérieusement t&#8217;intéresser aux <em>promises</em>,
parce que ça va devenir la nouvelle façon d&#8217;écrire des APIs,
et toutes les bibliothèques vont bientôt les utiliser.
Même les bibliothèques standards&#160;:
c&#8217;est le cas de la nouvelle <a href="https://fetch.spec.whatwg.org/">Fetch API</a> par exemple.</p>
</div>
</div>
<div class="sect2">
<h3 id="_arrow_functions">2.10. (<em>arrow functions</em>)</h3>
<div class="paragraph">
<p>Un truc que j&#8217;adore dans ES2015 est la nouvelle syntaxe <em>arrow function</em> ("fonction flèche"),
utilisant l&#8217;opérateur <em>fat arrow</em> ("grosse flèche")&#160;: <code>&#8658;</code>.
C&#8217;est très utile pour les <em>callbacks</em> et les fonctions anonymes&#160;!</p>
</div>
<div class="paragraph">
<p>Prenons notre exemple précédent avec des <em>promises</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(function (user) {
    return getRights(user); // getRights is returning a promise
  })
  .then(function (rights) {
    return updateMenu(rights);
  })</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il peut être réécrit avec des <em>arrow functions</em> comme ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(user =&gt; getRights(user))
  .then(rights =&gt; updateMenu(rights))</code></pre>
</div>
</div>
<div class="paragraph">
<p>N&#8217;est-ce pas super cool&#160;?!</p>
</div>
<div class="paragraph">
<p>Note que le <code>return</code> est implicite s&#8217;il n&#8217;y a pas de bloc&#160;:
pas besoin d&#8217;écrire <code>user &#8658; return getRights(user)</code>.
Mais, si nous avions un bloc, nous aurions besoin d&#8217;un <code>return</code> explicite&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">getUser(login)
  .then(user =&gt; {
    console.log(user);
    return getRights(user);
  })
  .then(rights =&gt; updateMenu(rights))</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et les <em>arrow functions</em> ont une particularité bien agréable que n&#8217;ont pas les fonctions normales&#160;:
le <code>this</code> reste attaché lexicalement,
ce qui signifie que ces <em>arrow functions</em> n&#8217;ont pas un nouveau <code>this</code> comme les fonctions normales.
Prenons un exemple où on itère sur un tableau avec la fonction <code>map</code> pour y trouver le maximum.</p>
</div>
<div class="paragraph">
<p>En ES5&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">var maxFinder = {
  max: 0,
  find: function (numbers) {
    // let's iterate
    numbers.forEach(function (element) {
      // if the element is greater, set it as the max
      if (element &gt; this.max) {
        this.max = element;
      }
    });
  }
};

maxFinder.find([2, 3, 4]);
// log the result
console.log(maxFinder.max);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ça semble pas mal, non&#160;? Mais en fait ça ne marche pas&#8230;&#8203;
Si tu as de bons yeux, tu as remarqué que le <code>forEach</code> dans la fonction <code>find</code> utilise <code>this</code>,
mais ce <code>this</code> n&#8217;est lié à aucun objet.
Donc <code>this.max</code> n&#8217;est en fait pas le <code>max</code> de l&#8217;objet <code>maxFinder</code>&#8230;&#8203;
On pourrait corriger ça facilement avec un alias&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">var maxFinder = {
  max: 0,
  find: function (numbers) {
    var self = this;
    numbers.forEach(function (element) {
      if (element &gt; self.max) {
        self.max = element;
      }
    });
  }
};

maxFinder.find([2, 3, 4]);
// log the result
console.log(maxFinder.max);</code></pre>
</div>
</div>
<div class="paragraph">
<p>ou en <em>bindant</em> le <code>this</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">var maxFinder = {
  max: 0,
  find: function (numbers) {
    numbers.forEach(
      function (element) {
        if (element &gt; this.max) {
          this.max = element;
        }
      }.bind(this)
    );
  }
};

maxFinder.find([2, 3, 4]);
// log the result
console.log(maxFinder.max);</code></pre>
</div>
</div>
<div class="paragraph">
<p>ou en le passant en second paramètre de la fonction <code>forEach</code> (ce qui est justement sa raison d&#8217;être)&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">var maxFinder = {
  max: 0,
  find: function (numbers) {
    numbers.forEach(function (element) {
      if (element &gt; this.max) {
        this.max = element;
      }
    }, this);
  }
};

maxFinder.find([2, 3, 4]);
// log the result
console.log(maxFinder.max);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais il y a maintenant une solution bien plus élégante avec les <em>arrow functions</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const maxFinder = {
  max: 0,
  find: function (numbers) {
    numbers.forEach(element =&gt; {
      if (element &gt; this.max) {
        this.max = element;
      }
    });
  }
};

maxFinder.find([2, 3, 4]);
// log the result
console.log(maxFinder.max);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les <em>arrow functions</em> sont donc idéales pour les fonctions anonymes en <em>callback</em>&#160;!</p>
</div>
</div>
<div class="sect2">
<h3 id="_asyncawait">2.11. Async/await</h3>
<div class="paragraph">
<p>Nous discutions des promesses précédemment,
et il est intéressant de connaître un autre mot-clé
introduit pour les gérer de façon plus synchrone&#160;: <code>await</code>.</p>
</div>
<div class="paragraph">
<p>Cette fonctionnalité n&#8217;est pas introduite par ECMAScript&#160;2015, mais par ECMAScript&#160;2017,
et pour utiliser <code>await</code>,
ta fonction doit être marquée comme <code>async</code>.
Quand tu utilises le mot-clé <code>await</code> devant une promesse,
tu pauses l&#8217;exécution de la fonction <code>async</code>,
attends la résolution de la promesse,
puis reprends l&#8217;exécution de la fonction <code>async</code>.
La valeur retournée est la valeur résolue par la promesse.</p>
</div>
<div class="paragraph">
<p>On peut donc écrire notre exemple précédent en utilisant <code>async/await</code> comme ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">async function getUserRightsAndUpdateMenu() {
  // getUser is a promise
  const user = await getUser(login);
  // getRights is a promise
  const rights = await getRights(user);
  updateMenu(rights);
}
await getUserRightsAndUpdateMenu();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et notre code a l&#8217;air complètement synchrone&#160;!
Une autre fonctionnalité assez cool de <code>async/await</code>
est la possibilité d&#8217;utiliser un simple <code>try/catch</code> pour gérer les erreurs&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">async function getUserRightsAndUpdateMenu() {
  try {
    // getUser is a promise
    const user = await getUser(login);
    // getRights is a promise
    const rights = await getRights(user);
    updateMenu(rights);
  } catch (e) {
    // will be called if getUser, getRights or updateMenu fails
    console.log(e);
  }
}
await getUserRightsAndUpdateMenu();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que, même si le code ressemble à du code synchrone,
il reste asynchrone.
L&#8217;exécution de la fonction est mise en pause puis reprise,
mais, comme avec les callbacks,
cela ne bloque pas le fil d&#8217;exécution&#160;:
les autres événements peuvent être gérés
pendant que l&#8217;exécution est mise en pause.</p>
</div>
</div>
<div class="sect2">
<h3 id="_set_et_map">2.12. <em>Set</em> et <em>Map</em></h3>
<div class="paragraph">
<p>On va faire court&#160;: on a maintenant de vraies collections en ES2015. Youpi \o/&#160;!</p>
</div>
<div class="paragraph">
<p>On utilisait jusque-là de simples objets JavaScript pour jouer le rôle de <em>map</em> ("dictionnaire"),
c&#8217;est-à-dire un objet JS standard, dont les clés étaient nécessairement des chaînes de caractères.
Mais nous pouvons maintenant utiliser la nouvelle classe <em>Map</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const cedric = { id: 1, name: 'Cedric' };
const users = new Map();
users.set(cedric.id, cedric); // adds a user
console.log(users.has(cedric.id)); // true
console.log(users.size); // 1
users.delete(cedric.id); // removes the user</code></pre>
</div>
</div>
<div class="paragraph">
<p>On a aussi une classe <code>Set</code> ("ensemble")&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const cedric = { id: 1, name: 'Cedric' };
const users = new Set();
users.add(cedric); // adds a user
console.log(users.has(cedric)); // true
console.log(users.size); // 1
users.delete(cedric); // removes the user</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu peux aussi itérer sur une collection, avec la nouvelle syntaxe <code>for &#8230;&#8203; of</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">for (const user of users) {
  console.log(user.name);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu verras que cette syntaxe <code>for &#8230;&#8203; of</code> est aussi supportée par Vue
pour itérer sur une collection dans un template.</p>
</div>
</div>
<div class="sect2">
<h3 id="_template_de_string">2.13. Template de string</h3>
<div class="paragraph">
<p>Construire des strings a toujours été pénible en JavaScript,
où nous devions généralement utiliser des concaténations&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const fullname = 'Miss ' + firstname + ' ' + lastname;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les templates de string sont une nouvelle fonctionnalité mineure, mais bien pratique,
où on doit utiliser des accents graves (<em>backticks</em> <code>`</code>) au lieu des habituelles apostrophes (<em>quote</em> <code>'</code>)
ou apostrophes doubles (<em>double-quotes</em> <code>"</code>),
fournissant un moteur de template basique avec support du multiligne&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const fullname = `Miss ${firstname} ${lastname}`;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le support du multiligne est particulièrement adapté à l&#8217;écriture de morceaux d&#8217;HTML,
comme nous le ferons dans nos composants Vue&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const template = `&lt;div&gt;
  &lt;h1&gt;Hello&lt;/h1&gt;
&lt;/div&gt;`;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Une dernière fonctionnalité est la possibilité de les "tagger".
Tu peux définir une fonction, et l&#8217;appliquer sur une chaîne de caractères template.
Ici <code>askQuestion</code> ajoute un point d&#8217;interrogation à la fin de la chaîne de caractère&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const askQuestion = strings =&gt; strings + '?';
const template = askQuestion`Hello there`;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais quelle est la différence avec une fonction classique alors&#160;?
Une fonction de tag reçoit en fait plusieurs paramètres&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>un tableau des morceaux statiques de la chaîne de caractères</p>
</li>
<li>
<p>les valeurs résultant de l&#8217;évaluation des expressions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Par exemple, si l&#8217;on a la chaîne de caractère template
contenant les expressions suivantes&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const person1 = 'Cedric';
const person2 = 'Agnes';
const template = `Hello ${person1}! Where is ${person2}?`;</code></pre>
</div>
</div>
<div class="paragraph">
<p>alors la fonction de tag reçoit les différents morceaux statiques et dynamiques.
Ici, nous avons une fonction de tag qui passe en majuscule les noms des protagonistes&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const uppercaseNames = (strings, ...values) =&gt; {
  // `strings` is an array with the static parts ['Hello ', '! Where is ', '?']
  // `values` is an array with the evaluated expressions ['Cedric', 'Agnes']
  const names = values.map(name =&gt; name.toUpperCase());
  // `names` now has ['CEDRIC', 'AGNES']
  // let's merge the `strings` and `names` arrays
  return strings.map((string, i) =&gt; `${string}${names[i] ? names[i] : ''}`).join('');
};
const result = uppercaseNames`Hello ${person1}! Where is ${person2}?`;
// returns 'Hello CEDRIC! Where is AGNES?'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Passons à l&#8217;un des grands changements introduits&#160;: les modules.</p>
</div>
</div>
<div class="sect2">
<h3 id="modules">2.14. Modules</h3>
<div class="paragraph">
<p>Il a toujours manqué en JavaScript une façon standard de ranger ses fonctions dans un espace de nommage,
et de charger dynamiquement du code.
Node.js a été un leader sur le sujet, avec un écosystème très riche de modules utilisant la convention CommonJS.
Côté navigateur,
il y a aussi l&#8217;API <a href="https://github.com/amdjs/amdjs-api/blob/master/AMD.md">AMD</a> (Asynchronous Module Definition),
utilisée par <a href="http://requirejs.org/">RequireJS</a>.
Mais aucun n&#8217;était un vrai standard, ce qui nous conduit à des débats incessants sur la meilleure solution.</p>
</div>
<div class="paragraph">
<p>ES2015+ a pour objectif de créer une syntaxe avec le meilleur des deux mondes,
sans se préoccuper de l&#8217;implémentation utilisée.
Le comité Ecma TC39
(qui est responsable des évolutions d&#8217;ES2015+ et auteur de la spécification du langage)
voulait une syntaxe simple (c&#8217;est indéniablement l&#8217;atout de CommonJS),
mais avec le support du chargement asynchrone (comme AMD),
et avec quelques bonus comme la possibilité d&#8217;analyser statiquement
le code par des outils et une gestion claire des dépendances cycliques.
Cette nouvelle syntaxe se charge de déclarer ce que tu exportes depuis tes modules,
et ce que tu importes dans d&#8217;autres modules.</p>
</div>
<div class="paragraph">
<p>Cette gestion des modules est fondamentale dans Vue,
parce que tout y est défini dans des modules,
qu&#8217;il faut importer dès que l&#8217;on veut les utiliser.
Supposons que l&#8217;on veuille exposer une fonction pour parier sur un poney donné dans une course
et une fonction pour lancer la course.</p>
</div>
<div class="paragraph">
<p>Dans <code>races.service.js</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export function bet(race, pony) {
  // ...
}
export function start(race) {
  // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu le vois, c&#8217;est plutôt simple&#160;:
le nouveau mot-clé <code>export</code> fait son travail et exporte les deux fonctions.</p>
</div>
<div class="paragraph">
<p>Maintenant, supposons qu&#8217;un composant de notre application veuille appeler ces deux fonctions.</p>
</div>
<div class="paragraph">
<p>Dans un autre fichier&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { bet, start } from './races.service';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// later
bet(race, pony1);
start(race);</code></pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est ce que l&#8217;on appelle un <em>named export</em> ("export nommé").
Ici, on importe les deux fonctions,
et on doit spécifier le nom du fichier contenant ces deux fonctions, ici 'races.service'.
Évidemment, on peut importer une seule des deux fonctions, si besoin avec un alias&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { start as startRace } from './races.service';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// later
startRace(race);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et si tu veux importer toutes les fonctions du module, tu peux utiliser le caractère joker <code>*</code>.</p>
</div>
<div class="paragraph">
<p>Comme tu le ferais dans d&#8217;autres langages, il faut utiliser le caractère joker <code>*</code> avec modération,
seulement si tu as besoin de toutes les fonctions ou la plupart.
Et comme tout ceci sera prochainement géré par ton IDE préféré qui prendra en charge la gestion automatique des imports,
on n&#8217;aura plus à se soucier d&#8217;importer les seules bonnes fonctions.</p>
</div>
<div class="paragraph">
<p>Avec un caractère joker, tu dois utiliser un alias,
et j&#8217;aime plutôt ça, parce que ça rend le reste du code plus lisible&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import * as racesService from './races.service';</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// later
racesService.bet(race, pony1);
racesService.start(race);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si ton module n&#8217;expose qu&#8217;une seule fonction, ou valeur, ou classe,
tu n&#8217;as pas besoin d&#8217;utiliser un <em>named export</em>,
et tu peux bénéficier de l&#8217;export par défaut, avec le mot-clé <code>default</code>.
C&#8217;est pratique pour les classes notamment&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// pony.js
export default class Pony {}
// races.service.js
import Pony from './pony';</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note l&#8217;absence d&#8217;accolade pour importer un export par défaut.
Tu peux l&#8217;importer avec l&#8217;alias que tu veux, mais pour être cohérent,
c&#8217;est mieux de l&#8217;importer avec le nom du module
(sauf évidemment si tu importes plusieurs modules portant le même nom,
auquel cas, tu devras donner un alias pour les distinguer).
Et, bien sûr, tu peux mélanger l&#8217;export par défaut et l&#8217;export nommé,
mais un module ne pourra avoir qu&#8217;un seul export par défaut.</p>
</div>
<div class="paragraph">
<p>En Vue, tu utiliseras beaucoup de ces imports dans ton application.
Chaque composant et service sera une classe, généralement isolée dans son propre fichier et exportée,
et ensuite importée à la demande dans chaque autre composant.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conclusion">2.15. Conclusion</h3>
<div class="paragraph">
<p>Voilà qui conclue notre rapide introduction à ES2015+.
On a zappé quelques parties, mais si tu as bien assimilé ce chapitre,
tu n&#8217;auras aucun problème à coder ton application en ES2015+.
Si tu veux approfondir,
je te recommande chaudement <a href="https://exploringjs.com/">Exploring JS</a>
par Axel Rauschmayer,
ou <a href="https://leanpub.com/understandinges6">Understanding ES6</a>
par Nicholas C. Zakas.
Ces deux ebooks peuvent être lus gratuitement en ligne,
mais pense à soutenir ces auteurs qui ont fait un beau travail&#160;!
En l&#8217;occurrence, j&#8217;ai relu récemment <a href="http://speakingjs.com">Speaking JS</a>,
le précédent livre d&#8217;Axel, et j&#8217;ai encore appris quelques trucs,
donc si tu veux rafraîchir tes connaissances en JS, je te le conseille vivement&#160;!</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="types">3. Un peu plus loin qu&#8217;ES2015+</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_types_dynamiques_statiques_et_optionnels">3.1. Types dynamiques, statiques et optionnels</h3>
<div class="paragraph">
<p>Tu sais probablement que les applications Vue peuvent être écrites en ES5, ES2015+, ou TypeScript.
Et tu te demandes peut-être qu&#8217;est-ce que TypeScript, et ce qu&#8217;il apporte de plus.</p>
</div>
<div class="paragraph">
<p>JavaScript est dynamiquement typé.
Tu peux donc faire des trucs comme&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">let pony = 'Rainbow Dash';
pony = 2;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et ça fonctionne.
Ça offre plein de possibilités&#160;:
tu peux ainsi passer n&#8217;importe quel objet à une fonction,
tant que cet objet a les propriétés requises par la fonction&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony = { name: 'Rainbow Dash', color: 'blue' };
const horse = { speed: 40, color: 'black' };
const printColor = animal =&gt; console.log(animal.color);
// works as long as the object has a `color` property</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cette nature dynamique est formidable,
mais elle est aussi un handicap dans certains cas,
comparée à d&#8217;autres langages plus fortement typés.
Le cas le plus évident est quand tu dois appeler
une fonction inconnue d&#8217;une autre API en JS&#160;:
tu dois lire la documentation (ou pire le code de la fonction)
pour deviner à quoi doivent ressembler les paramètres.
Dans notre exemple précédent,
la méthode <code>printColor</code> attend un paramètre avec une propriété <code>color</code>,
mais encore faut-il le savoir.
Et c&#8217;est encore plus difficile dans notre travail quotidien,
où on multiplie les utilisations de bibliothèques et services développés par d&#8217;autres.
Un des co-fondateurs de Ninja Squad se plaint souvent du manque de type en JS,
et déclare qu&#8217;il n&#8217;est pas aussi productif,
et qu&#8217;il ne produit pas du code aussi bon qu&#8217;il le ferait
dans un environnement plus statiquement typé.
Et il n&#8217;a pas entièrement tort,
même s&#8217;il trolle aussi par plaisir&#160;!
Sans les informations de type,
les IDEs n&#8217;ont aucun indice pour savoir si tu écris quelque chose de faux
et les outils ne peuvent pas t&#8217;aider à trouver des bugs dans ton code.
Bien sûr, nos applications sont testées
et Vue a toujours facilité les tests,
mais c&#8217;est pratiquement impossible d&#8217;avoir une parfaite couverture de tests.</p>
</div>
<div class="paragraph">
<p>Cela nous amène au sujet de la maintenabilité.
Le code JS peut être difficile à maintenir,
malgré les tests et la documentation.
Refactoriser une grosse application JS n&#8217;est pas chose aisée,
comparativement à ce qui peut être fait dans des langages statiquement typés.
La maintenabilité est un sujet important,
et les types aident les outils, ainsi que les développeurs,
à éviter les erreurs lors de l&#8217;écriture et la modification de code.</p>
</div>
<div class="paragraph">
<p>Vue commença comme un pur framework JavaScript,
mais les contributeurs voulaient nous aider à écrire du meilleur JS
en ajoutant des informations de type à notre code.
Ce n&#8217;est pas un nouveau concept pour JS,
c&#8217;était même le sujet de la spécification ECMAScript&#160;4,
qui a été abandonnée.</p>
</div>
<div class="paragraph">
<p>C&#8217;est pourquoi Vue supporte TypeScript, le langage de Microsoft, depuis Vue&#160;2.0.
Le support de TypeScript dans Vue&#160;2.0 n&#8217;était cependant pas parfait.
Quand Vue&#160;3.0 a été annoncé,
l&#8217;une des grandes nouveautés était le support amélioré de TypeScript&#160;:
en fait, le framework lui-même est maintenant écrit en TypeScript.</p>
</div>
</div>
<div class="sect2">
<h3 id="_hello_typescript">3.2. Hello TypeScript</h3>
<div class="paragraph">
<p>Je pense que c&#8217;était la meilleure chose à faire pour plusieurs raisons.
TypeScript est très populaire, avec une communauté et un écosystème actifs.
Nous l&#8217;utilisons beaucoup pour construire nos applications <em>front-end</em>,
et, honnêtement, c&#8217;est un très bon langage.</p>
</div>
<div class="paragraph">
<p>TypeScript est un projet de Microsoft,
mais ce n&#8217;est pas le Microsoft de l&#8217;ère Ballmer et Gates.
C&#8217;est le Microsoft de Nadella, celui qui s&#8217;ouvre à la communauté,
et donc, à l&#8217;open-source.</p>
</div>
<div class="paragraph">
<p>Mais la raison principale de parier sur TypeScript est le système de types qu&#8217;il offre.
C&#8217;est un système optionnel qui vient t&#8217;aider sans t&#8217;entraver.
De fait, après avoir codé quelque temps avec,
il est difficile de revenir à du pur JavaScript.
Tu peux toujours écrire des applications Vue juste en utilisant JavaScript,
mais TypeScript améliore vraiment l&#8217;expérience.</p>
</div>
<div class="paragraph">
<p>Comme je le disais, j&#8217;aime beaucoup ce langage,
et on jettera un coup d&#8217;œil à TypeScript dans le chapitre suivant.
Tu pourras ainsi lire et comprendre n&#8217;importe quel code Vue,
et tu pourras décider de l&#8217;utiliser, ou pas, ou juste un peu, dans tes applications.</p>
</div>
<div class="paragraph">
<p>Si tu te demandes "mais pourquoi avoir du code fortement typé
dans une application Vue&#160;?".
D&#8217;après notre expérience, la raison principale est la facilité de refactoring.
On a généralement des types qui représentent nos entités métiers&#160;:
un <code>User</code>, un <code>Account</code>, une <code>Invoice</code>, etc.
Mais il est assez rare d&#8217;avoir une modélisation parfaite au premier essai.
Au cours du temps, les entités évoluent, grossissent, se divisent en d&#8217;autres entités.
Les champs sont renommés, et dans une application JavaScript,
tu n&#8217;as pas vraiment de garantie que tu n&#8217;as pas cassé la moitié de tes pages&#8230;&#8203;
C&#8217;est là où TypeScript brille&#160;:
le compilateur va te guider dans les changements à faire
et tu dormiras paisiblement la nuit.</p>
</div>
<div class="paragraph">
<p>C&#8217;est pourquoi nous allons passer un peu de temps à apprendre TypeScript (TS).
Et peut-être qu&#8217;un jour le système de type sera approuvé par le comité
de standardisation, et il sera normal d&#8217;avoir de vrais types en JS.</p>
</div>
<div class="paragraph">
<p>Il est temps désormais de se lancer dans TypeScript&#160;!</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="typescript">4. Découvrir TypeScript</h2>
<div class="sectionbody">
<div class="paragraph">
<p>TypeScript, qui existe depuis 2012,
est un sur-ensemble de JavaScript,
ajoutant quelques trucs à ES5.
Le plus important étant le système de type,
lui donnant même son nom.
Depuis la version 1.5, sortie en 2015,
cette bibliothèque essaie d&#8217;être un sur-ensemble d&#8217;ES2015,
incluant toutes les fonctionnalités vues précédemment
et quelques nouveautés, comme les décorateurs.
Écrire du TypeScript ressemble à écrire du JavaScript.
Par convention les fichiers sources TypeScript ont l&#8217;extension <code>.ts</code>,
et seront compilés en JavaScript standard, en général lors du build,
avec le compilateur TypeScript. Le code généré reste très lisible.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">npm install -g typescript
tsc test.ts</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais commençons par le début.</p>
</div>
<div class="sect2">
<h3 id="_les_types_de_typescript">4.1. Les types de TypeScript</h3>
<div class="paragraph">
<p>La syntaxe pour ajouter des informations de type en TypeScript est basique&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">let variable: type;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les différents types sont simples à retenir&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const ponyNumber: number = 0;
const ponyName: string = 'Rainbow Dash';</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dans ces cas, les types sont facultatifs,
car le compilateur TS peut les deviner depuis leur valeur
(c&#8217;est ce que l&#8217;on appelle l&#8217;inférence de type).</p>
</div>
<div class="paragraph">
<p>Le type peut aussi être défini dans ton application,
avec, par exemple, la classe suivante <code>Pony</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony: Pony = new Pony();</code></pre>
</div>
</div>
<div class="paragraph">
<p>TypeScript supporte aussi ce que certains langages
appellent des types génériques, par exemple avec un <code>Array</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const ponies: Array&lt;Pony&gt; = [new Pony()];</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cet <code>Array</code> ne peut contenir que des poneys,
ce qu&#8217;indique la notation générique <code>&lt;&gt;</code>.
On peut se demander quel est l&#8217;intérêt d&#8217;imposer cela.
Ajouter de telles informations de type aidera
le compilateur à détecter des erreurs&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">ponies.push('hello'); // error TS2345
// Argument of type 'string' is not assignable to parameter of type 'Pony'.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et comment faire si tu as besoin d&#8217;une variable
pouvant recevoir plusieurs types&#160;?
TS a un type spécial pour cela, nommé <code>any</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">let changing: any = 2;
changing = true; // no problem</code></pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est pratique si tu ne connais pas le type d&#8217;une valeur,
soit parce qu&#8217;elle vient d&#8217;un bout de code dynamique,
ou en sortie d&#8217;une bibliothèque obscure.</p>
</div>
<div class="paragraph">
<p>Si ta variable ne doit recevoir que des valeurs de type <code>number</code> ou <code>boolean</code>,
tu peux utiliser l&#8217;union de types&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">let changing: number | boolean = 2;
changing = true; // no problem</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_valeurs_énumérées_enum">4.2. Valeurs énumérées (<em>enum</em>)</h3>
<div class="paragraph">
<p>TypeScript propose aussi des valeurs énumérées&#160;: <code>enum</code>.
Par exemple, une course de poneys dans ton application
peut être soit <code>ready</code>, <code>started</code> ou <code>done</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">enum RaceStatus {
  Ready,
  Started,
  Done
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const race = new Race();
race.status = RaceStatus.Ready;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Un <code>enum</code> est en fait une valeur numérique, commençant à 0.
Tu peux cependant définir la valeur que tu veux&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">enum Medal {
  Gold = 1,
  Silver,
  Bronze
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Depuis TypeScript&#160;2.4,
tu peux même donner une valeur sous forme de chaîne de caractères&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">enum RacePosition {
  First = 'First',
  Second = 'Second',
  Other = 'Other'
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cependant, pour être tout à fait honnêtes,
nous n&#8217;utilisons pas d&#8217;enum dans nos projets&#160;:
on utilise des unions de types.
Elles sont plus simples et couvrent à peu près les mêmes usages&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">let color: 'blue' | 'red' | 'green';
// we can only give one of these values to `color`
color = 'blue';</code></pre>
</div>
</div>
<div class="paragraph">
<p>TypeScript permet même de créer ses propres types,
on pourrait donc faire comme suit&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">type Color = 'blue' | 'red' | 'green';
const ponyColor: Color = 'blue';</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_return_types">4.3. Return types</h3>
<div class="paragraph">
<p>Tu peux aussi spécifier le type de retour d&#8217;une fonction&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function startRace(race: Race): Race {
  race.status = RaceStatus.Started;
  return race;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si la fonction ne retourne rien, tu peux le déclarer avec <code>void</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function startRace(race: Race): void {
  race.status = RaceStatus.Started;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_interfaces">4.4. Interfaces</h3>
<div class="paragraph">
<p>C&#8217;est déjà une bonne première étape.
Mais, comme je le disais plus tôt,
JavaScript est formidable par sa nature dynamique.
Une fonction marchera si elle reçoit un objet possédant la bonne propriété&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function addPointsToScore(player, points) {
  player.score += points;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cette fonction peut être appliquée à n&#8217;importe
quel objet ayant une propriété <code>score</code>.
Maintenant comment traduit-on cela en TypeScript&#160;?
Facile&#160;!, on définit une interface, un peu comme la "forme" de l&#8217;objet.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function addPointsToScore(player: { score: number }, points: number): void {
  player.score += points;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cela signifie que le paramètre doit avoir
une propriété nommée <code>score</code> de type <code>number</code>.
Tu peux évidement aussi nommer ces interfaces&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface HasScore {
  score: number;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function addPointsToScore(player: HasScore, points: number): void {
  player.score += points;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu verras que l&#8217;on utilise très souvent les interfaces dans le livre
pour représenter nos entités.</p>
</div>
<div class="paragraph">
<p>On utilise également les interfaces pour représenter
nos modèles métiers dans nos projets.
Généralement, on ajoute un suffixe <code>Model</code> pour le montrer de façon claire.
Il est alors très facile de créer une nouvelle entité&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface PonyModel {
  name: string;
  speed: number;
}
const pony: PonyModel = { name: 'Light Shoe', speed: 56 };</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_paramètre_optionnel">4.5. Paramètre optionnel</h3>
<div class="paragraph">
<p>Y&#8217;a un autre truc sympa en JavaScript&#160;:
les paramètres optionnels.
Si tu ne les passes pas à l&#8217;appel de la fonction,
leur valeur sera <code>undefined</code>.
Mais, en TypeScript, si tu déclares une fonction avec des paramètres typés,
le compilateur te gueulera dessus si tu les oublies&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">addPointsToScore(player); // error TS2346
// Supplied parameters do not match any signature of call target.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour montrer qu&#8217;un paramètre est optionnel dans une fonction
(ou une propriété dans une interface),
tu ajoutes <code>?</code> après le paramètre.
Ici, le paramètre <code>points</code> est optionnel&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function addPointsToScore(player: HasScore, points?: number): void {
  points = points || 0;
  player.score += points;
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_des_fonctions_en_propriété">4.6. Des fonctions en propriété</h3>
<div class="paragraph">
<p>Tu peux aussi décrire un paramètre comme devant
posséder une fonction spécifique plutôt qu&#8217;une propriété&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function startRunning(pony: Pony) {
  pony.run(10);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La définition de cette interface serait&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface CanRun {
  run(meters: number): void;
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function startRunning(pony: CanRun): void {
  pony.run(10);
}

const ponyOne = {
  run: (meters: number) =&gt; logger.log(`pony runs ${meters}m`)
};
startRunning(ponyOne);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_classes_2">4.7. Classes</h3>
<div class="paragraph">
<p>Une classe peut implémenter une interface.
Pour nous, un poney peut courir, donc on pourrait écrire&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Pony implements CanRun {
  run(meters: number) {
    logger.log(`pony runs ${meters}m`);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le compilateur nous obligera à implémenter la méthode <code>run</code> dans la classe.
Si nous l&#8217;implémentons mal,
par exemple en attendant une <code>string</code> au lieu d&#8217;un <code>number</code>,
le compilateur va crier&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class IllegalPony implements CanRun {
  run(meters: string) {
    console.log(`pony runs ${meters}m`);
  }
}
// error TS2420: Class 'IllegalPony' incorrectly implements interface 'CanRun'.
// Types of property 'run' are incompatible.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu peux aussi implémenter plusieurs interfaces si ça te fait plaisir&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class HungryPony implements CanRun, CanEat {
  run(meters: number) {
    logger.log(`pony runs ${meters}m`);
  }

  eat() {
    logger.log(`pony eats`);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et une interface peut en étendre une ou plusieurs autres&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface Animal extends CanRun, CanEat {}

class Pony implements Animal {
  // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Une classe en TypeScript peut avoir des propriétés et des méthodes.
Avoir des propriétés dans une classe n&#8217;est pas
une fonctionnalité standard d&#8217;ES2015,
c&#8217;est seulement possible en TypeScript.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class SpeedyPony {
  speed = 10;

  run() {
    logger.log(`pony runs at ${this.speed}m/s`);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tout est public par défaut.
Mais tu peux utiliser le mot-clé <code>private</code>
pour cacher une propriété ou une méthode.
Ajouter <code>public</code> ou <code>private</code> à un paramètre de constructeur
est un raccourci pour créer et initialiser un membre privé ou public&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class NamedPony {
  constructor(
    public name: string,
    private speed: number
  ) {}

  run() {
    logger.log(`pony runs at ${this.speed}m/s`);
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony = new NamedPony('Rainbow Dash', 10);
// defines a public property name with 'Rainbow Dash'
// and a private one speed with 10</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ce qui est l&#8217;équivalent du plus verbeux&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class NamedPonyWithoutShortcut {
  public name: string;
  private speed: number;

  constructor(name: string, speed: number) {
    this.name = name;
    this.speed = speed;
  }

  run() {
    logger.log(`pony runs at ${this.speed}m/s`);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ces raccourcis sont très pratiques
et nous allons beaucoup les utiliser en Vue&#160;!</p>
</div>
</div>
<div class="sect2">
<h3 id="_utiliser_dautres_bibliothèques">4.8. Utiliser d&#8217;autres bibliothèques</h3>
<div class="paragraph">
<p>Mais, si on travaille avec des bibliothèques externes écrites en JS,
comment savoir les types des paramètres attendus
par telle fonction de telle bibliothèque&#160;?
La communauté TypeScript est tellement cool
que ses membres ont défini des définitions pour les types
et les fonctions exposés par les bibliothèques JavaScript les plus populaires.</p>
</div>
<div class="paragraph">
<p>Les fichiers contenant ces définitions
ont une extension spéciale&#160;:`.d.ts`.
Ils contiennent une liste de toutes les fonctions publiques des bibliothèques.
<a href="https://github.com/DefinitelyTyped/DefinitelyTyped">DefinitelyTyped</a>
est l&#8217;outil de référence pour récupérer ces fichiers.
Par exemple, si tu veux utiliser la bibliothèque de test <a href="https://jestjs.io/">Jest</a> dans ton application TypeScript,
tu peux récupérer le fichier dédié depuis le repository directement avec NPM&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">npm install --save-dev @types/jest</code></pre>
</div>
</div>
<div class="paragraph">
<p>Maintenant, si tu te trompes dans l&#8217;appel d&#8217;une méthode Jest,
le compilateur te le dira,
et tu peux corriger&#160;!</p>
</div>
<div class="paragraph">
<p>Encore plus cool, depuis TypeScript 1.6,
le compilateur est capable de trouver par lui-même ces définitions pour une dépendance
si elles sont packagées avec la dépendance elle-même.
De plus en plus de projets adoptent cette approche et Vue fait de même.
Tu n&#8217;as donc même pas à t&#8217;occuper d&#8217;inclure
ces interfaces dans ton projet Vue&#160;:
le compilateur TS va tout comprendre
comme un grand si tu utilises NPM pour gérer tes dépendances&#160;!</p>
</div>
<div class="paragraph">
<p>Ainsi mon conseil est d&#8217;essayer TypeScript.
Tous mes exemples dans ce livre l&#8217;utiliseront à partir de maintenant,
car Vue et tout l&#8217;outillage autour sont vraiment conçus pour en tirer parti.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced-typescript">5. TypeScript avancé</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Si tu commences juste ton apprentissage de TypeScript,
tu peux sauter sans problème ce chapitre dans un premier temps et y revenir plus tard.
Ce chapitre est là pour montrer des utilisations plus avancées de TypeScript,
qui n&#8217;auront vraiment de sens que si le langage t’est déjà familier.</p>
</div>
<div class="sect2">
<h3 id="_readonly">5.1. readonly</h3>
<div class="paragraph">
<p>Tu peux utiliser le mot-clé <code>readonly</code> (lecture seule) pour marquer une propriété
d&#8217;un objet ou d&#8217;une classe comme étant&#8230;&#8203; en lecture seule.
De cette façon, le compilateur refusera de compiler du code qui tente
d&#8217;assigner une nouvelle valeur à cette propriété&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface Config {
  readonly timeout: number;
}

const config: Config = { timeout: 2000 };
// `config.timeout` is now readonly and can't be reassigned</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_keyof">5.2. keyof</h3>
<div class="paragraph">
<p>Le mot-clé <code>keyof</code> peut être utilisé pour un type
représentant l&#8217;union de tous les noms des propriétés d&#8217;un autre type.
Par exemple, si tu as une interface <code>PonyModel</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface PonyModel {
  name: string;
  color: string;
  speed: number;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu veux écrire une fonction
qui renvoie la valeur d&#8217;une propriété.
Voici une première implémentation naïve&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getProperty(obj: any, key: string): any {
  return obj[key];
}

const pony: PonyModel = {
  name: 'Rainbow Dash',
  color: 'blue',
  speed: 45
};
const nameValue = getProperty(pony, 'name');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il y a deux problèmes ici&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>tu peux donner n&#8217;importe quelle valeur au paramètre <code>key</code>, même une clé qui n&#8217;existe pas dans <code>PonyModel</code>.</p>
</li>
<li>
<p>le type de retour étant <code>any</code>, nous perdons beaucoup en information de typage.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>C&#8217;est ici que <code>keyof</code> peut être utile.
<code>keyof</code> permet de lister toutes les clés d&#8217;un type&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">type PonyModelKey = keyof PonyModel;
// this is the same as `'name'|'speed'|'color'`
let property: PonyModelKey = 'name'; // works
property = 'speed'; // works
// key = 'other' would not compile</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut donc utiliser ce type pour rendre <code>getProperty</code> plus strictement typée,
en déclarant que&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>le premier paramètre est de type <code>T</code></p>
</li>
<li>
<p>le second paramètre est de type <code>K</code>, qui est une clé de <code>T</code></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function getProperty&lt;T, K extends keyof T&gt;(obj: T, key: K) {
  return obj[key];
}

const pony: PonyModel = {
  name: 'Rainbow Dash',
  color: 'blue',
  speed: 45
};
// TypeScript infers that `nameValue` is of type `string`!
const nameValue = getProperty(pony, 'name');</code></pre>
</div>
</div>
<div class="paragraph">
<p>On fait ici d&#8217;une pierre, deux coups&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>key</code> peut maintenant seulement être une propriété existante de <code>PonyModel</code>&#160;;</p>
</li>
<li>
<p>le type de retour sera déduit par TypeScript (ce qui est sacrément cool&#160;!).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Maintenant voyons comment nous pouvons utiliser <code>keyof</code> pour aller encore plus loin.</p>
</div>
</div>
<div class="sect2">
<h3 id="_mapped_type">5.3. Mapped type</h3>
<div class="paragraph">
<p>Disons que tu veux construire un type qui a exactement les mêmes propriétés que <code>PonyModel</code>,
mais tu souhaites que chaque propriété soit optionnelle.
Tu peux bien sûr le définir manuellement&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface PartialPonyModel {
  name?: string;
  color?: string;
  speed?: number;
}

const pony: PartialPonyModel = {
  name: 'Rainbow Dash'
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais on peut faire quelque chose de plus générique avec un <em>mapped type</em>,
un "type de transformation"&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">type Partial&lt;T&gt; = {
  [P in keyof T]?: T[P];
};

const pony: Partial&lt;PonyModel&gt; = {
  name: 'Rainbow Dash'
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le type <code>Partial</code> est une transformation qui applique le modificateur <code>?</code>
à chaque propriété du type&#160;!
En fait, <code>Partial</code> est suffisamment fréquent pour qu&#8217;il soit inclus dans TypeScript depuis la version 2.1,
et il est déclaré comme ceci dans la bibliothèque standard.</p>
</div>
<div class="paragraph">
<p>TypeScript offre également d&#8217;autres types de transformation.</p>
</div>
<div class="sect3">
<h4 id="_readonly_2">5.3.1. Readonly</h4>
<div class="paragraph">
<p><code>Readonly</code> rend toutes les propriétés d&#8217;un objet <code>readonly</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony: Readonly&lt;PonyModel&gt; = {
  name: 'Rainbow Dash',
  color: 'blue',
  speed: 45
};
// all properties are `readonly`</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_pick">5.3.2. Pick</h4>
<div class="paragraph">
<p><code>Pick</code> t&#8217;aide à construire un type avec seulement quelques-unes des propriétés d&#8217;origine&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony: Pick&lt;PonyModel, 'name' | 'color'&gt; = {
  name: 'Rainbow Dash',
  color: 'blue'
};
// `pony` can't have a `speed` property</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_record">5.3.3. Record</h4>
<div class="paragraph">
<p><code>Record</code> t&#8217;aide à construire un type avec les mêmes propriétés
et un autre type pour ces propriétés&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface FormValue {
  value: string;
  valid: boolean;
}

const pony: Record&lt;keyof PonyModel, FormValue&gt; = {
  name: { value: 'Rainbow Dash', valid: true },
  color: { value: 'blue', valid: true },
  speed: { value: '45', valid: true }
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il y a <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html">encore d&#8217;autres types</a>,
mais ceux-ci sont les plus utiles.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_union_de_types_et_gardien_de_types">5.4. Union de types et gardien de types</h3>
<div class="paragraph">
<p>Les unions de types sont très pratiques.
Disons que ton application a des utilisateurs connectés et des utilisateurs anonymes,
et que, de temps en temps, tu dois faire une action différente selon le cas.
Tu peux modéliser les entités comme ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface User {
  type: 'authenticated' | 'anonymous';
  name: string;
  // other fields
}

interface AuthenticatedUser extends User {
  type: 'authenticated';
  loggedSince: number;
}

interface AnonymousUser extends User {
  type: 'anonymous';
  visitingSince: number;
}

function onWebsiteSince(user: User): number {
  if (user.type === 'authenticated') {
    // this is a LoggedUser
    return (user as AuthenticatedUser).loggedSince;
  } else if (user.type === 'anonymous') {
    // this is an AnonymousUser
    return (user as AnonymousUser).visitingSince;
  }
  // TS doesn't know every possibility was covered
  // so we have to return something here
  return 0;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Je ne sais pas pour toi,
mais je n&#8217;aime pas trop ces typages explicites <code>as &#8230;&#8203;</code>.
Peut-on faire mieux&#160;?</p>
</div>
<div class="paragraph">
<p>La première possibilité est d&#8217;utiliser un <em>type guard</em>, un gardien de types,
une fonction spéciale dont le seul but est d&#8217;aider le compilateur TypeScript.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function isAuthenticated(user: User): user is AuthenticatedUser {
  return user.type === 'authenticated';
}

function isAnonymous(user: User): user is AnonymousUser {
  return user.type === 'anonymous';
}

function onWebsiteSince(user: User): number {
  if (isAuthenticated(user)) {
    // this is inferred as a LoggedUser
    return user.loggedSince;
  } else if (isAnonymous(user)) {
    // this is inferred as an AnonymousUser
    return user.visitingSince;
  }
  // TS still doesn't know every possibility was covered
  // so we have to return something here
  return 0;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est mieux&#160;!
Mais on a toujours besoin de retourner une valeur par défaut,
même si nous avons couvert tous les cas.</p>
</div>
<div class="paragraph">
<p>On peut légèrement améliorer la situation si l&#8217;on abandonne les gardiens de types
et que l&#8217;on utilise une union de types à la place.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface BaseUser {
  name: string;
  // other fields
}

interface AuthenticatedUser extends BaseUser {
  type: 'authenticated';
  loggedSince: number;
}

interface AnonymousUser extends BaseUser {
  type: 'anonymous';
  visitingSince: number;
}

type User = AuthenticatedUser | AnonymousUser;

function onWebsiteSince(user: User): number {
  if (user.type === 'authenticated') {
    // this is inferred as a LoggedUser
    return user.loggedSince;
  } else {
    // this is narrowed as an AnonymousUser
    // without even testing the type!
    return user.visitingSince;
  }
  // no need to return a default value
  // as TS knows that we covered every possibility!
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est encore mieux, car TypeScript comprend automatiquement le type utilisé dans la branche <code>else</code>.</p>
</div>
<div class="paragraph">
<p>Parfois, tu sais que ce modèle va grandir dans le futur,
et que d&#8217;autres cas devront être gérés.
Par exemple, si tu ajoutes un <code>AdminUser</code>.
Dans ce cas, on peut utiliser un <code>switch</code>.
Un <code>switch</code> sur une union de types ne compilera pas si l&#8217;un des cas n&#8217;est pas géré.
Donc introduire notre <code>AdminUser</code>, ou un autre type plus tard, ajouterait automatiquement des erreurs de compilation
dans tous les endroits de notre code où nous devons les gérer&#160;!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface AdminUser extends BaseUser {
  type: 'admin';
  adminSince: number;
}

type User = AuthenticatedUser | AnonymousUser | AdminUser;

function onWebsiteSince(user: User): number {
  switch (user.type) {
    case 'authenticated':
      return user.loggedSince;
    case 'anonymous':
      return user.visitingSince;
    case 'admin':
      // without this case, we could not even compile the code
      // as TS would complain that all possible paths are not returning a value
      return user.adminSince;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>J&#8217;espère que ces astuces vous aideront dans vos projets.
Penchons-nous maintenant sur les Web Components.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="web-components">6. Le monde merveilleux des Web Components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Avant d&#8217;aller plus loin, j&#8217;aimerais faire une petite pause pour parler des Web Components.
Vous n&#8217;avez pas besoin de connaître les Web Components pour écrire du code Vue.
Mais je pense que c&#8217;est une bonne chose d&#8217;en avoir un aperçu,
car en Vue certaines décisions ont été prises pour faciliter leur intégration,
ou pour rendre les composants que l&#8217;on construit similaires à des Web Components.
Tu es libre de sauter ce chapitre si tu ne t&#8217;intéresses pas du tout au sujet,
mais je pense que tu apprendras deux-trois choses qui pourraient t&#8217;être utiles pour la suite.</p>
</div>
<div class="sect2">
<h3 id="_le_nouveau_monde">6.1. Le nouveau Monde</h3>
<div class="paragraph">
<p>Les composants sont un vieux rêve de développeur.
Un truc que tu prendrais sur étagère et lâcherais dans ton application,
et qui marcherait directement et apporterait la fonctionnalité à tes utilisateurs sans rien faire.</p>
</div>
<div class="paragraph">
<p>Mes amis, cette heure est venue.</p>
</div>
<div class="paragraph">
<p>Oui, bon, peut-être. En tout cas, on a le début d&#8217;un truc.</p>
</div>
<div class="paragraph">
<p>Ce n&#8217;est pas complètement neuf.
On avait déjà la notion de composants dans le développement web depuis quelque temps,
mais ils demandaient en général de lourdes dépendances comme
jQuery, Dojo, Prototype, AngularJS, etc.
Pas vraiment le genre de bibliothèques que tu veux absolument ajouter à ton application.</p>
</div>
<div class="paragraph">
<p>Les Web Components essaient de résoudre ce problème&#160;:
avoir des composants réutilisables et encapsulés.</p>
</div>
<div class="paragraph">
<p>Ils reposent sur un ensemble de standards émergents,
que les navigateurs ne supportent pas encore parfaitement.
Mais, quand même, c&#8217;est un sujet intéressant,
même si on ne pourra pas en bénéficier pleinement avant quelques années,
ou même jamais si le concept ne décolle pas.</p>
</div>
<div class="paragraph">
<p>Ce standard émergent est défini dans trois spécifications&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Custom elements ("éléments personnalisés")</p>
</li>
<li>
<p>Shadow DOM ("DOM de l&#8217;ombre")</p>
</li>
<li>
<p>Template</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note que les exemples présentés ont plus de chances de fonctionner dans un Chrome ou un Firefox récent.</p>
</div>
</div>
<div class="sect2">
<h3 id="_custom_elements">6.2. Custom elements</h3>
<div class="paragraph">
<p>Les éléments customs sont un nouveau standard qui permet au développeur de créer ses propres éléments du DOM,
faisant de <code>&lt;ns-pony&gt;&lt;/ns-pony&gt;</code> un élément HTML parfaitement valide.
La spécification définit comment déclarer de tels éléments,
comment tu peux les faire étendre des éléments existants,
comment tu peux définir ton API, etc.</p>
</div>
<div class="paragraph">
<p>Déclarer un élément custom se fait avec un simple <code>customElements.define</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class PonyComponent extends HTMLElement {

  constructor() {
    super();
    console.log("I'm a pony!");
  }

}

customElements.define('ns-pony', PonyComponent);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et ensuite l&#8217;utiliser avec&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-pony&gt;&lt;/ns-pony&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que le nom doit contenir un tiret,
pour indiquer au navigateur que c&#8217;est un élément custom.</p>
</div>
<div class="paragraph">
<p>Évidemment ton élément custom peut avoir des propriétés et des méthodes,
et il aura aussi des callbacks liés au cycle de vie,
pour exécuter du code quand le composant est inséré ou supprimé,
ou quand l&#8217;un de ses attributs est modifié.
Il peut aussi avoir son propre template.
Par exemple, peut-être que ce <code>ns-pony</code> affiche une image du poney, ou seulement son nom&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class PonyComponent extends HTMLElement {

  constructor() {
    super();
    console.log("I'm a pony!");
  }


  /**
   * This is called when the component is inserted
   */
  connectedCallback() {
    this.innerHTML = '&lt;h1&gt;General Soda&lt;/h1&gt;';
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si tu jettes un coup d&#8217;œil au DOM, tu verras <code>&lt;ns-pony&gt;&lt;h1&gt;General Soda&lt;/h1&gt;&lt;/ns-pony&gt;</code>.
Mais cela veut dire que le CSS ou la logique JavaScript de ton application
peut avoir des effets indésirables sur ton composant.
Donc, en général, le template est caché et encapsulé dans un truc appelé le Shadow DOM ("DOM de l&#8217;ombre"),
et tu ne verras dans le DOM que <code>&lt;ns-pony&gt;&lt;/ns-pony&gt;</code>,
bien que le navigateur affiche le nom du poney.</p>
</div>
</div>
<div class="sect2">
<h3 id="_shadow_dom">6.3. Shadow DOM</h3>
<div class="paragraph">
<p>Avec un nom qui claque comme celui-là,
on s&#8217;attend à un truc très puissant.
Et il l&#8217;est.
Le Shadow DOM est une façon d&#8217;encapsuler le DOM de ton composant.
Cette encapsulation signifie que la feuille de style et la logique JavaScript de ton application
ne vont pas s&#8217;appliquer sur le composant et le ruiner accidentellement.
Cela en fait l&#8217;outil idéal pour dissimuler le fonctionnement interne de ton composant,
et s&#8217;assurer que rien n&#8217;en fuit à l&#8217;extérieur.</p>
</div>
<div class="paragraph">
<p>Si on retourne à notre exemple précédent&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class PonyComponent extends HTMLElement {

  constructor() {
    super();
    const shadow = this.attachShadow({ mode: 'open' });
    const title = document.createElement('h1');
    title.textContent = 'General Soda';
    shadow.appendChild(title);
  }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si tu essaies maintenant de l&#8217;observer, tu devrais voir&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ns-pony&gt;
  #shadow-root (open)
    &lt;h1&gt;General Soda&lt;/h1&gt;
&lt;/ns-pony&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Désormais, même si tu ajoutes du style aux éléments <code>h1</code>,
rien ne changera&#160;:
le Shadow DOM agit comme une barrière.</p>
</div>
<div class="paragraph">
<p>Jusqu&#8217;à présent, nous avions utilisé une chaîne de caractères pour notre template.
Mais ce n&#8217;est habituellement pas la manière de procéder.
La bonne pratique est de plutôt utiliser l&#8217;élément <code>&lt;template&gt;</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_template">6.4. Template</h3>
<div class="paragraph">
<p>Un template spécifié dans un élément <code>&lt;template&gt;</code> n&#8217;est pas affiché par le navigateur.
Son but est d&#8217;être à terme cloné dans un autre élément.
Ce que tu déclareras à l&#8217;intérieur sera inerte&#160;: les scripts ne s&#8217;exécuteront pas, les images ne se chargeront pas, etc.
Son contenu peut être requêté par le reste de la page avec la méthode classique <code>getElementById()</code>,
et il peut être placé sans risque n&#8217;importe où dans la page.</p>
</div>
<div class="paragraph">
<p>Pour utiliser un template, il doit être cloné&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template id="pony-template"&gt;
  &lt;style&gt;
    h1 { color: orange; }
  &lt;/style&gt;
  &lt;h1&gt;General Soda&lt;/h1&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class PonyComponent extends HTMLElement {

  constructor() {
    super();
    const template = document.querySelector('#pony-template');
    const clonedTemplate = document.importNode(template.content, true);
    const shadow = this.attachShadow({ mode: 'open' });
    shadow.appendChild(clonedTemplate);
  }

}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_les_bibliothèques_basées_sur_les_web_components">6.5. Les bibliothèques basées sur les Web Components</h3>
<div class="paragraph">
<p>Toutes ces spécifications constituent les Web Components.
Je suis loin d&#8217;en être expert,
et ils présentent toute sorte de pièges.</p>
</div>
<div class="paragraph">
<p>Comme les Web Components ne sont pas complètement supportés par tous les navigateurs,
il y a un <em>polyfill</em> à inclure dans ton application pour être sûr que ça fonctionne.
Ce <em>polyfill</em> est appelé <a href="https://github.com/WebComponents/webcomponentsjs">web-component.js</a>,
et il est bon de noter qu&#8217;il est le fruit d&#8217;un effort commun entre Google, Mozilla et Microsoft, entre autres.</p>
</div>
<div class="paragraph">
<p>Au-dessus de ce <em>polyfill</em>, quelques bibliothèques ont vu le jour.
Elles proposent toutes de faciliter le travail avec les Web Components,
et viennent souvent avec un lot de composants tout prêts.</p>
</div>
<div class="paragraph">
<p>Parmi les initiatives notables, on peut citer&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.polymer-project.org/">Polymer</a>, première tentative de la part de Google&#160;;</p>
</li>
<li>
<p><a href="https://lit-element.polymer-project.org/">LitElement</a>, projet plus récent de l&#8217;équipe Polymer&#160;;</p>
</li>
<li>
<p><a href="http://x-tag.github.io/">X-tag</a> de Mozilla et Microsoft&#160;;</p>
</li>
<li>
<p><a href="https://stenciljs.com/">Stencil</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Je ne vais pas rentrer dans les détails, mais tu peux facilement utiliser un composant existant.
Supposons que tu veuilles embarquer une carte Google dans ton application&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!-- Polyfill Web Components support for older browsers --&gt;
&lt;script src="webcomponents.js"&gt;&lt;/script&gt;

&lt;!-- Import element --&gt;
&lt;script src="google-map.js"&gt;&lt;/script&gt;

&lt;!-- Use element --&gt;
&lt;body&gt;
  &lt;google-map latitude="45.780" longitude="4.842"&gt;&lt;/google-map&gt;
&lt;/body&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il y a une tonne de composants disponibles.
Tu peux en avoir un aperçu sur <a href="https://www.webcomponents.org/" class="bare">https://www.webcomponents.org/</a>.</p>
</div>
<div class="paragraph">
<p>Tu peux faire plein de trucs cools avec LitElement
et les autres frameworks similaires, comme du binding bidirectionnel,
donner des valeurs par défaut aux attributs, émettre des événements custom,
réagir aux modifications d&#8217;attribut, répéter des éléments si tu fournis une collection à un composant, etc.</p>
</div>
<div class="paragraph">
<p>C&#8217;est un chapitre trop court pour te montrer sérieusement tout ce que l&#8217;on peut faire avec les Web Components,
mais tu verras que certains de leurs concepts vont émerger dans la lecture à venir.
Et tu verras sans aucun doute que Vue a été conçu
pour rendre facile l&#8217;utilisation des Web Components aux côtés de nos composants Vue.
Il est même possible d&#8217;exporter nos composants Vue sous forme de Web Components.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="philosophy">7. La philosophie de Vue</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pour construire une application Vue,
il te faut saisir quelques trucs sur la philosophie du framework.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQCAYAAACAvzbMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjY1NkExMjc5NzY5MjExRTM5MTg5OEQ5MEJGOENFNDc2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjY1NkExMjdBNzY5MjExRTM5MTg5OEQ5MEJGOENFNDc2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NjU2QTEyNzc3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjU2QTEyNzg3NjkyMTFFMzkxODk4RDkwQkY4Q0U0NzYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6FxXliAAApN0lEQVR42uyde4xd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" alt="vuejs logo" width="200">
</div>
</div>
<div class="paragraph">
<p>Avant tout, Vue est un framework orienté composant.
Tu vas écrire de petits composants et, assemblés,
ils vont constituer une application complète.
Un composant est un groupe d&#8217;éléments HTML,
dans un template, dédiés à une tâche particulière.
Pour cela, tu auras probablement besoin d&#8217;un peu de logique métier derrière ce template,
pour peupler les données et réagir aux événements par exemple.</p>
</div>
<div class="paragraph">
<p>Cette orientation composant est largement partagée par de nombreux frameworks front-end&#160;:
c&#8217;est le cas depuis le début de <a href="https://reactjs.org/">React</a>,
le framework tendance de Facebook&#160;; <a href="https://emberjs.com/">Ember</a>
et <a href="https://angularjs.org">AngularJS</a> ont leur propre façon de faire quelque chose de similaire&#160;;
et les petits nouveaux <a href="https://svelte.dev/">Svelte</a>
ou <a href="https://angular.io/">Angular</a> parient aussi sur la construction de petits composants.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="emberjs logo" width="200">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="reactjs logo" width="200">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="angular logo" width="200">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,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" alt="svelte logo" width="200">
</div>
</div>
<div class="paragraph">
<p>Vue n&#8217;est donc pas le seul sur le sujet,
mais il est parmi les premiers
à considérer sérieusement l&#8217;intégration des Web Components (ceux du standard officiel).
Mais écartons ce sujet, trop avancé pour le moment.</p>
</div>
<div class="paragraph">
<p>Tes composants seront organisés de manière hiérarchique, comme le DOM&#160;:
un composant racine aura des composants enfants, qui auront chacun des composants enfants, etc.
Si tu veux afficher une course de poneys (qui ne voudrait pas&#160;?),
tu auras probablement une application (<code>Ponyracer</code>),
affichant un menu (<code>Navbar</code>) avec l&#8217;utilisateur connecté (<code>User</code>)
et une vue enfant (<code>Race</code>),
affichant, évidemment, les poneys (<code>Pony</code>) en course&#160;:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjk0JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNDIwIDI5NCcgd2lkdGg9JzQyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjk0JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzQyMCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00xMTUuMCAzNS4wIEwyMzUuMCAzNS4wIEwyMzUuMCA2My4wIEwxMTUuMCA2My4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM1LjAgMTMzLjAgTDEyNS4wIDEzMy4wIEwxMjUuMCAxNjEuMCBMMzUuMCAxNjEuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J00yMzUuMCAxMzMuMCBMMzA1LjAgMTMzLjAgTDMwNS4wIDE2MS4wIEwyMzUuMCAxNjEuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J000NS4wIDIzMS4wIEwxMTUuMCAyMzEuMCBMMTE1LjAgMjU5LjAgTDQ1LjAgMjU5LjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMTQ1LjAgMjMxLjAgTDIxNS4wIDIzMS4wIEwyMTUuMCAyNTkuMCBMMTQ1LjAgMjU5LjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMjM1LjAgMjMxLjAgTDMwNS4wIDIzMS4wIEwzMDUuMCAyNTkuMCBMMjM1LjAgMjU5LjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMzI1LjAgMjMxLjAgTDM5NS4wIDIzMS4wIEwzOTUuMCAyNTkuMCBMMzI1LjAgMjU5LjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMTE1LjAgMzUuMCBMMjM1LjAgMzUuMCBMMjM1LjAgNjMuMCBMMTE1LjAgNjMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTM1LjAgMTMzLjAgTDEyNS4wIDEzMy4wIEwxMjUuMCAxNjEuMCBMMzUuMCAxNjEuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTIzNS4wIDEzMy4wIEwzMDUuMCAxMzMuMCBMMzA1LjAgMTYxLjAgTDIzNS4wIDE2MS4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCAyMzEuMCBMMTE1LjAgMjMxLjAgTDExNS4wIDI1OS4wIEw0NS4wIDI1OS4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTQ1LjAgMjMxLjAgTDIxNS4wIDIzMS4wIEwyMTUuMCAyNTkuMCBMMTQ1LjAgMjU5LjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00yMzUuMCAyMzEuMCBMMzA1LjAgMjMxLjAgTDMwNS4wIDI1OS4wIEwyMzUuMCAyNTkuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTMyNS4wIDIzMS4wIEwzOTUuMCAyMzEuMCBMMzk1LjAgMjU5LjAgTDMyNS4wIDI1OS4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTc1LjAgOTEuMCBMODUuMCA5MS4wIEw4NS4wIDExOS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTE3NS4wIDkxLjAgTDI2NS4wIDkxLjAgTDI2NS4wIDExOS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTI3NS4wIDE4OS4wIEwxODUuMCAxODkuMCBMMTg1LjAgMjE3LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMjc1LjAgMTg5LjAgTDM2NS4wIDE4OS4wIEwzNjUuMCAyMTcuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004MC4wIDExMi4wIEw4NS4wIDEyNi4wIEw5MC4wIDExMi4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00yNjAuMCAxMTIuMCBMMjY1LjAgMTI2LjAgTDI3MC4wIDExMi4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004MC4wIDIxMC4wIEw4NS4wIDIyNC4wIEw5MC4wIDIxMC4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00xODAuMCAyMTAuMCBMMTg1LjAgMjI0LjAgTDE5MC4wIDIxMC4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00yNzAuMCAyMTAuMCBMMjc1LjAgMjI0LjAgTDI4MC4wIDIxMC4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00zNjAuMCAyMTAuMCBMMzY1LjAgMjI0LjAgTDM3MC4wIDIxMC4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00xNzUuMCA2My4wIEwxNzUuMCA5MS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTg1LjAgMTYxLjAgTDg1LjAgMjE3LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMjc1LjAgMTg5LjAgTDI3NS4wIDIxNy4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTI3NS4wIDE2MS4wIEwyNzUuMCAxODkuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzEzMycgeT0nNTQnPjwhW0NEQVRBW1BvbnlyYWNlcl1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc1MScgeT0nMTUyJz48IVtDREFUQVtOYXZiYXJdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMjUwJyB5PScxNTInPjwhW0NEQVRBW1JhY2VdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNjEnIHk9JzI1MCc+PCFbQ0RBVEFbVXNlcl1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNCcgc3Ryb2tlPSdub25lJyB4PScxNjEnIHk9JzI1MCc+PCFbQ0RBVEFbUG9ueV1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNCcgc3Ryb2tlPSdub25lJyB4PScyNTEnIHk9JzI1MCc+PCFbQ0RBVEFbUG9ueV1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNCcgc3Ryb2tlPSdub25lJyB4PSczNDEnIHk9JzI1MCc+PCFbQ0RBVEFbUG9ueV1dPjwvdGV4dD48L2c+PC9zdmc+" alt="philosophy tree" width="420" height="294">
</div>
</div>
<div class="paragraph">
<p>Comme tu vas écrire des composants tous les jours (de la semaine au moins),
regardons de plus près à quoi ça ressemble.
L&#8217;équipe Vue voulait aussi bénéficier d&#8217;une autre pépite du développement web moderne&#160;:
ES2015+.
Mais pour avoir la meilleure expérience possible,
il est aussi possible d&#8217;écrire nos applications en TypeScript.
J&#8217;espère que tu es au courant,
parce que je viens de consacrer deux chapitres à ces sujets&#160;!</p>
</div>
<div class="paragraph">
<p>Vue a la particularité d&#8217;offrir la possibilité d&#8217;écrire
tout son composant dans le même fichier,
contenant alors à la fois la partie affichage en HTML
et la partie comportement en TypeScript.
On peut également y joindre la partie style en CSS, ou SCSS, etc.
De tels composants sont appelés des <em>Single File Components</em> (SFC pour leur petit nom).
L&#8217;extension du fichier est alors <code>.vue</code>.
C&#8217;est un peu original comparé à ce que font les autres frameworks,
mais on s&#8217;y fait rapidement.</p>
</div>
<div class="paragraph">
<p>Par exemple, en simplifiant,
le composant <code>Race</code> pourrait ressembler à ça&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;{{ race.name }}&lt;/h1&gt;
    &lt;ul v-for="pony in race.ponies"&gt;
      &lt;li&gt;{{ pony.name }}&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent } from 'vue';

export default defineComponent({
  name: 'Race',

  setup() {
    return {
      race: {
        name: 'Buenos Aires',
        ponies: [{ name: 'Rainbow Dash' }, { name: 'Pinkie Pie' }]
      }
    };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si tu connais déjà un autre langage de templating,
le template t&#8217;est peut-être familier,
avec les expressions entre accolades <code>{{ }}</code>,
qui seront évaluées et remplacées par les valeurs correspondantes.
Je ne veux pas aller trop loin pour le moment,
juste te donner un aperçu du code.
On se penchera évidemment en détail sur les composants et templates
dans les prochains chapitres.</p>
</div>
<div class="paragraph">
<p>Un composant est une partie complètement isolée de ton application.
Ton application <em>est</em> un composant comme les autres.</p>
</div>
<div class="paragraph">
<p>Tu pourras aussi prendre des composants sur étagère fournis par la communauté,
et les ajouter simplement dans ton application pour bénéficier de leurs fonctionnalités.
Souvent, ces composants ou fonctionnalités supplémentaires
sont rassemblés dans un plugin Vue.</p>
</div>
<div class="paragraph">
<p>De tels plugins fournissent des composants d&#8217;IHM,
ou la gestion du glisser-déposer,
ou des validations spécifiques pour tes formulaires,
et tout ce que tu peux imaginer d&#8217;autre.
On verra ensemble quels plugins peuvent être utiles.</p>
</div>
<div class="paragraph">
<p>Dans les chapitres suivants,
on explorera quoi mettre en place,
comment construire un petit composant,
ton premier module et la syntaxe des templates.</p>
</div>
<div class="paragraph">
<p>On se penchera également sur les tests d&#8217;une application Vue.
J&#8217;adore faire des tests
et voir la barre de progression devenir entièrement verte dans mon IDE.
Ça me donne l&#8217;impression de faire du bon boulot.
Il y aura ainsi un chapitre entier consacré à tout tester&#160;:
tes composants, tes services, ton interface&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Vue a ce côté un peu magique,
où les modifications sont automatiquement détectées par le framework et appliquées au modèle et à la vue.
Chaque framework a sa propre technique&#160;:
on étudiera évidemment tout ça pour Vue,
et on essaiera d&#8217;éclairer les concepts de proxies, de DOM virtuel
et autres termes de magie noire derrière tout ça
(pas d&#8217;inquiétude, ce n&#8217;est pas si compliqué).</p>
</div>
<div class="paragraph">
<p>Vue est aussi un écosystème complet,
avec plein d&#8217;outils pour faciliter les tâches classiques du développement web.
Construire des formulaires, appeler un serveur HTTP,
configurer du routage d&#8217;URL, construire des animations,
tout ce que tu veux&#160;: c&#8217;est possible&#160;!</p>
</div>
<div class="paragraph">
<p>Voilà, ça fait pas mal de trucs à apprendre&#160;!
Alors commençons par le commencement&#160;:
initialiser une application et construire notre premier composant.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="zero-to-something">8. Commencer de zéro</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Maintenant que nous en savons un peu plus sur ECMAScript,
TypeScript et la philosophie de Vue,
mettons les mains dans le cambouis et démarrons une nouvelle application.</p>
</div>
<div class="sect2">
<h3 id="_un_framework_évolutif">8.1. Un framework évolutif</h3>
<div class="paragraph">
<p>Vue s&#8217;est toujours présenté comme un framework évolutif qui,
au contraire d&#8217;alternatives comme Angular ou React,
peut être adopté progressivement.
On peut parfaitement prendre une page HTML statique,
ou une application basée sur jQuery, et y ajouter
un peu de Vue.</p>
</div>
<div class="paragraph">
<p>Donc, pour commencer, j&#8217;aimerais montrer comme c&#8217;est simple
de mettre en place Vue dans une page HTML.</p>
</div>
<div class="paragraph">
<p>Créons une page HTML vide <code>index.html</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">index.html</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;html lang="en"&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;head&gt;
    &lt;title&gt;Vue - the progressive framework&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ajoutons-y un peu de HTML que Vue devra gérer&#160;:</p>
</div>
<div class="listingblock">
<div class="title">index.html</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;html lang="en"&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;head&gt;
    &lt;title&gt;Vue - the progressive framework&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="app"&gt;
      &lt;h1&gt;Hello {{ user }}&lt;/h1&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les accolades autour de <code>user</code> font partie de la syntaxe de Vue.
Elles indiquent que <code>user</code> doit être remplacé par sa valeur.
Nous expliquerons tout cela en détails dans le prochain chapitre,
pas d&#8217;inquiétude.</p>
</div>
<div class="paragraph">
<p>Si tu ouvres cette page dans ton navigateur, tu verras
qu&#8217;elle affiche <code>Hello {{ user }}</code>.
C&#8217;est normal&#160;: nous n&#8217;avons pas encore utilisé Vue.</p>
</div>
<div class="paragraph">
<p>Faisons-le.
Vue est publié sur <a href="https://www.npmjs.com/package/vue">NPM</a>
et il existe des sites (appelés <em>CDNs</em>, pour <em>Content Delivery Network</em>)
qui hébergent les packages NPM et permettent ainsi de les inclure dans nos pages HTML.
<a href="https://unpkg.com/">Unpkg</a> est l&#8217;un d&#8217;entre eux,
et on peut donc l&#8217;utiliser pour ajouter Vue à notre page.
Bien sûr, tu pourrais aussi choisir de télécharger le fichier
et de l&#8217;héberger toi-même.</p>
</div>
<div class="listingblock">
<div class="title">index.html</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;html lang="en"&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;head&gt;
    &lt;title&gt;Vue - the progressive framework&lt;/title&gt;
    &lt;script src="https://unpkg.com/vue@3/dist/vue.global.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="app"&gt;
      &lt;h1&gt;Hello {{ user }}&lt;/h1&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Cet exemple utilise la dernière version de Vue.
Tu peux spécifier n&#8217;importe quelle version explicitement en ajoutant
<code>@version</code> dans l&#8217;URL, après <code><a href="https://unpkg.com/vue" class="bare">https://unpkg.com/vue</a></code>.
Le livre que tu es en train de lire utilise <code>vue@3.4.34</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Si tu recharges la page,
tu verras que Vue affiche un avertissement dans la console,
nous informant que l&#8217;on utilise une version dédiée au développement.
Tu peux utiliser <code>vue.global.prod.js</code> pour utiliser la version de production
et faire disparaître l&#8217;avertissement.
La version de production désactive toutes les validations sur le code,
est minifiée, et est donc plus rapide et plus légère.</p>
</div>
<div class="paragraph">
<p>Il nous faut à présent créer notre application, avec la
fonction <code>createApp</code>. Mais cette fonction
a besoin d&#8217;un composant racine.</p>
</div>
<div class="paragraph">
<p>Pour créer ce composant, il nous suffit de créer un objet
qui le définit.
Cet objet peut avoir de nombreuses propriétés,
mais pour l&#8217;instant, nous allons seulement y ajouter
une fonction <code>setup</code>.
Pas de panique, nous reviendrons en détails sur la définition
d&#8217;un composant et sur cette fonction.
Mais son nom est assez explicite&#160;:
elle prépare le composant et Vue appellera cette fonction
lorsque le composant sera initialisé.</p>
</div>
<div class="listingblock">
<div class="title">index.html</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;html lang="en"&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;head&gt;
    &lt;title&gt;Vue - the progressive framework&lt;/title&gt;
    &lt;script src="https://unpkg.com/vue@3/dist/vue.global.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="app"&gt;
      &lt;h1&gt;Hello {{ user }}&lt;/h1&gt;
    &lt;/div&gt;
    &lt;script&gt;
      const RootComponent = {
        setup() {
          return { user: 'Cédric' };
        }
      };
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La fonction <code>setup</code> ne fait que retourner un objet avec une propriété <code>user</code>
et une valeur pour cette propriété.
Si tu recharges la page, toujours pas de changement&#160;:
il nous reste toujours à appeler <code>createApp</code> avec notre composant racine.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Nous utilisons du JavaScript moderne dans cet exemple, et il
te faut donc utiliser un navigateur suffisamment récent, qui supporte cette syntaxe.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">index.html</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;html lang="en"&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;head&gt;
    &lt;title&gt;Vue - the progressive framework&lt;/title&gt;
    &lt;script src="https://unpkg.com/vue@3/dist/vue.global.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="app"&gt;
      &lt;h1&gt;Hello {{ user }}&lt;/h1&gt;
    &lt;/div&gt;
    &lt;script&gt;
      const RootComponent = {
        setup() {
          return { user: 'Cédric' };
        }
      };
      const app = Vue.createApp(RootComponent);
      app.mount('#app');
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>createApp</code> crée une application qui doit être "montée",
c’est-à-dire attachée à un élément du DOM.
Nous utilisons ici la <code>div</code> avec l&#8217;identifiant <code>app</code>.
Si tu recharges la page, tu devrais voir <code>Hello Cédric</code> s&#8217;afficher.
Bravo, tu viens de créer ta première application Vue.</p>
</div>
<div class="paragraph">
<p>Peut-être pourrions-nous ajouter un autre composant&#160;?</p>
</div>
<div class="paragraph">
<p>Créons un composant qui affiche le nombre de messages non lus.
Il nous faut donc un nouvel objet <code>UnreadMessagesComponent</code>,
avec une fonction <code>setup</code> similaire&#160;:</p>
</div>
<div class="listingblock">
<div class="title">index.html</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;html lang="en"&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;head&gt;
    &lt;title&gt;Vue - the progressive framework&lt;/title&gt;
    &lt;script src="https://unpkg.com/vue@3/dist/vue.global.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="app"&gt;
      &lt;h1&gt;Hello {{ user }}&lt;/h1&gt;
    &lt;/div&gt;
    &lt;script&gt;
      const UnreadMessagesComponent = {
        setup() {
          return { unreadMessagesCount: 4 };
        }
      };
      const RootComponent = {
        setup() {
          return { user: 'Cédric' };
        }
      };
      const app = Vue.createApp(RootComponent);
      app.mount('#app');
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cette fois, au contraire du composant racine dont la vue
est directement définie par la <code>div</code> <code>#app</code>, nous voudrions
définir un template pour le composant <code>UnreadMessagesComponent</code>.
Il suffit pour cela de définir un élément <code>script</code>
avec le type <code>text/x-template</code>.
Ce type garantit que le navigateur ignorera simplement le contenu du script.
On peut ensuite référencer le template par son identifiant dans la définition du composant.</p>
</div>
<div class="listingblock">
<div class="title">index.html</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;html lang="en"&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;head&gt;
    &lt;title&gt;Vue - the progressive framework&lt;/title&gt;
    &lt;script src="https://unpkg.com/vue@3/dist/vue.global.js"&gt;&lt;/script&gt;
    &lt;script type="text/x-template" id="unread-messages-template"&gt;
      &lt;div&gt;You have {{ unreadMessagesCount }} messages&lt;/div&gt;
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="app"&gt;
      &lt;h1&gt;Hello {{ user }}&lt;/h1&gt;
    &lt;/div&gt;
    &lt;script&gt;
      const UnreadMessagesComponent = {
        template: '#unread-messages-template',
        setup() {
          return { unreadMessagesCount: 4 };
        }
      };
      const RootComponent = {
        setup() {
          return { user: 'Cédric' };
        }
      };
      const app = Vue.createApp(RootComponent);
      app.mount('#app');
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>On veut pouvoir insérer ce nouveau composant à l&#8217;intérieur du composant racine.
Pour pouvoir faire ça, nous devons autoriser le composant racine
à utiliser le composant <em>unread messages</em>, et lui assigner
un nom en <em>PascalCase</em>.</p>
</div>
<div class="listingblock">
<div class="title">index.html</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;html lang="en"&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;head&gt;
    &lt;title&gt;Vue - the progressive framework&lt;/title&gt;
    &lt;script src="https://unpkg.com/vue@3/dist/vue.global.js"&gt;&lt;/script&gt;
    &lt;script type="text/x-template" id="unread-messages-template"&gt;
      &lt;div&gt;You have {{ unreadMessagesCount }} messages&lt;/div&gt;
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="app"&gt;
      &lt;h1&gt;Hello {{ user }}&lt;/h1&gt;
    &lt;/div&gt;
    &lt;script&gt;
      const UnreadMessagesComponent = {
        template: '#unread-messages-template',
        setup() {
          return { unreadMessagesCount: 4 };
        }
      };
      const RootComponent = {
        components: {
          UnreadMessages: UnreadMessagesComponent
        },
        setup() {
          return { user: 'Cédric' };
        }
      };
      const app = Vue.createApp(RootComponent);
      app.mount('#app');
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut ensuite utiliser <code>&lt;unread-messages&gt;&lt;/unread-messages&gt;</code>
(qui est la version <em>dash-case</em> de <code>UnreadMessages</code>)
pour insérer le composant où on le veut.</p>
</div>
<div class="listingblock">
<div class="title">index.html</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;html lang="en"&gt;
  &lt;meta charset="UTF-8" /&gt;
  &lt;head&gt;
    &lt;title&gt;Vue - the progressive framework&lt;/title&gt;
    &lt;script src="https://unpkg.com/vue@3/dist/vue.global.js"&gt;&lt;/script&gt;
    &lt;script type="text/x-template" id="unread-messages-template"&gt;
      &lt;div&gt;You have {{ unreadMessagesCount }} messages&lt;/div&gt;
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="app"&gt;
      &lt;h1&gt;Hello {{ user }}&lt;/h1&gt;
      &lt;unread-messages&gt;&lt;/unread-messages&gt;
    &lt;/div&gt;
    &lt;script&gt;
      const UnreadMessagesComponent = {
        template: '#unread-messages-template',
        setup() {
          return { unreadMessagesCount: 4 };
        }
      };
      const RootComponent = {
        components: {
          UnreadMessages: UnreadMessagesComponent
        },
        setup() {
          return { user: 'Cédric' };
        }
      };
      const app = Vue.createApp(RootComponent);
      app.mount('#app');
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>En comparaison des autres frameworks,
une application Vue est extrêmement simple à mettre en œuvre&#160;:
juste du pur JavaScript et HTML.
Pas d&#8217;outillage nécessaire.
Les composants sont de simples objets.
Même un développeur qui ne connaît pas Vue
peut sans doute comprendre ce qui se passe.
Et c&#8217;est l&#8217;une des forces du framework&#160;:
c&#8217;est facile de démarrer, facile à comprendre
et les fonctionnalités peuvent être apprises progressivement.</p>
</div>
<div class="paragraph">
<p>On <em>pourrait</em> se contenter de cette approche minimale,
mais soyons réalistes&#160;: ça ne tiendra pas très longtemps.
Trop de composants vont devoir être définis dans le même fichier.
On voudrait aussi pouvoir utiliser TypeScript au lieu de JavaScript,
ajouter des tests, de l&#8217;analyse de code, etc.</p>
</div>
<div class="paragraph">
<p>Nous <em>pourrions</em> installer et configurer toute une série
d&#8217;outils nous-mêmes. Mais profitons plutôt du travail de la communauté
et utilisons Vue CLI (qui a été le standard pendant de nombreuses années)
ou l&#8217;outil maintenant recommandé, Vite.</p>
</div>
</div>
<div class="sect2">
<h3 id="_vue_cli">8.2. Vue CLI</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
La CLI est désormais en mode "maintenance",
c&#8217;est-à-dire qu&#8217;elle ne reçoit plus de nouveautés.
L&#8217;outil recommandé est maintenant Vite,
que nous présentons dans la section suivante.
Comme beaucoup de projets existants utilisent la CLI,
nous pensons que cela vaut encore le coup de la présenter,
et cela aide à comprendre les différences avec Vite.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>La Vue CLI (<em>Command Line Interface</em>)
est née pour simplifier le développement d&#8217;applications Vue.
Elle permet de créer le squelette de l&#8217;application, et ensuite
de la construire.
Et elle offre un vaste écosystème de plugins.
Chaque plugin ajoute une fonctionnalité spécifique,
comme le support pour les tests unitaires,
ou le linting, ou le support de TypeScript.
La CLI a même une interface graphique&#160;!</p>
</div>
<div class="paragraph">
<p>L&#8217;une des caractéristiques de Vue CLI est de permettre
d&#8217;écrire chaque composant dans un fichier unique avec l&#8217;extension
<code>.vue</code>.
Dans ce fichier, toutes les parties d&#8217;un composant
sont définies&#160;: sa définition en JavaScript/TypeScript,
son template HTML, et même ses styles CSS.
Un tel fichier est appelé <em>Single File Component</em>, ou SFC.</p>
</div>
<div class="paragraph">
<p>Mais l&#8217;intérêt principal de la CLI est
d&#8217;éviter d&#8217;avoir à apprendre et à configurer
tous les outils qu&#8217;elle utilise
(Node.js, NPM, Webpack, TypeScript, etc.),
tout en restant flexible et configurable.</p>
</div>
<div class="paragraph">
<p>Mais la CLI est désormais en mode maintenance,
et Vite est l&#8217;alternative recommandée.
Explorons donc pourquoi.</p>
</div>
</div>
<div class="sect2">
<h3 id="_bundlers_webpack_rollup_esbuild">8.3. Bundlers&#160;: Webpack, Rollup, esbuild</h3>
<div class="paragraph">
<p>Quand on écrit des applications modernes en JavaScript/TypeScript,
on a souvent besoin d&#8217;un outil qui <em>bundle</em> (rassemble) tous les assets
(le code, les styles, les images, les polices de caractères).</p>
</div>
<div class="paragraph">
<p>Pendant longtemps, <a href="https://webpack.js.org/">Webpack</a>
a été le favori indiscutable.
Webpack vient avec une fonctionnalité simple, mais très pratique&#160;:
il comprend tous les types de module JavaScript qui existent
(les modules ECMAScript modernes, mais aussi les modules AMD et CommonJS,
des formats qui existaient avant le standard).
Cette compréhension rend facile d&#8217;utilisation n&#8217;importe quelle bibliothèque
que tu trouves sur Internet (le plus souvent sur NPM)&#160;:
il y a juste besoin de l&#8217;installer,
de l&#8217;importer dans un de tes fichiers,
et Webpack s&#8217;occupe du reste.
Même si tu utilises des bibliothèques avec des formats très différents,
Webpack va joyeusement les convertir et packager tout ton code
et le code de ces bibliothèques ensemble dans un seul gros fichier JS&#160;:
le fameux <em>bundle</em>.</p>
</div>
<div class="paragraph">
<p>C&#8217;est une tâche très importante,
parce que même si le standard a défini les modules ECMAScript en 2015,
la plupart des navigateurs ne les supportent que depuis peu&#160;!</p>
</div>
<div class="paragraph">
<p>L&#8217;autre tâche de Webpack est aussi de t&#8217;aider pendant le développement,
en fournissant un serveur de développement et en surveillant ton projet
(il peut même faire du HMR, <em>Hot Module Reloading</em>,
c&#8217;est-à-dire du rechargement de module à chaud).
Quand quelque chose change,
Webpack lit le point d&#8217;entrée de l&#8217;application (<code>main.ts</code> par exemple),
puis il lit les imports et charge ces fichiers,
puis il lit les imports de ces fichiers importés et les charge,
et ainsi de suite récursivement.
Tu vois l&#8217;idée&#160;!
Quand tout est chargé,
il remet tout cela dans un grand fichier,
contenant à la fois ton code et les bibliothèques importées
depuis <code>node_modules</code>,
en changeant le format des modules si besoin.
Le navigateur recharge alors tout ce fichier pour afficher les changements 😅.
Toute cette boucle peut prendre un certain temps quand on travaille sur des gros projets
avec des centaines, voire des milliers de fichiers,
même si Webpack vient avec un système de caches et d&#8217;optimisations pour être le plus rapide possible.</p>
</div>
<div class="paragraph">
<p>La CLI Vue (comme beaucoup d&#8217;autres outils) utilise Webpack
pour la majeure partie de son travail,
aussi bien quand on construit l&#8217;application avec <code>npm run build</code>,
que quand on lance le serveur de développement avec <code>npm run serve</code>.</p>
</div>
<div class="paragraph">
<p>Ce qui est chouette, c&#8217;est que l&#8217;écosystème Webpack
est extraordinairement riche en <em>plugins</em> et <em>loaders</em>&#160;:
tu peux donc faire pratiquement ce que tu veux,
même les trucs les plus improbables.
D&#8217;un autre côté, une configuration Webpack
peut rapidement devenir assez difficile à comprendre avec toutes ces options.</p>
</div>
<div class="paragraph">
<p>Si je parle de Webpack et ce que font les bundlers,
c&#8217;est parce que de sérieuses alternatives ont émergé ces derniers temps,
et il peut être assez difficile de saisir ce qu&#8217;elles font
et quelles sont leurs différences.
Pour être honnête, je ne suis pas sûr de comprendre tous les détails moi-même,
et j&#8217;ai pourtant pas mal contribué aux CLIs Vue et Angular,
toutes deux utilisant massivement Webpack&#160;!
Mais je tente quand même une explication.</p>
</div>
<div class="paragraph">
<p>Une alternative sérieuse est <a href="https://www.rollupjs.org/guide/en/">Rollup</a>.
Rollup entend faire les choses de façon plus simple que Webpack,
en en faisant moins par défaut,
mais souvent plus vite que Webpack.
Son auteur est Rich Harris, qui est aussi l&#8217;auteur du framework Svelte.
Rich a écrit un article assez populaire appelé
<a href="https://medium.com/webpack/webpack-and-rollup-the-same-but-different-a41ad427058c">"Webpack et Rollup&#160;: les mêmes, mais différents"</a>.
Sa conclusion est "Utilise Webpack pour les applications, et Rollup pour les bibliothèques".
En fait, Rollup peut faire quasiment tout ce que fait Webpack
pour les builds de production,
mais il ne vient pas avec un serveur de développement
qui pourrait surveiller tes fichiers pendant que tu travailles.</p>
</div>
<div class="paragraph">
<p>Une autre super alternative est <a href="https://esbuild.github.io/">esbuild</a>.
À la différence de Webpack et Rollup,
esbuild n&#8217;est pas lui-même écrit en JavaScript.
Il est écrit en Go et compilé en code natif.
Il a aussi été conçu avec le parallélisme en tête.
Cela le rend bien plus rapide que Webpack et Rollup.
Genre 10 à 100 fois plus rapide 🤯.</p>
</div>
<div class="paragraph">
<p>Pourquoi ne pas utiliser esbuild plutôt que Webpack alors&#160;?
C&#8217;est exactement ce qu&#8217;Evan You, l&#8217;auteur de Vue,
a pensé quand il développait Vue&#160;3.
Il a eu une autre brillante idée.
En 2018, Firefox a officiellement supporté les Modules ECMAScript natifs (souvent appelés "ESM natifs").
En 2019, ce fut au tour de Node.js, et des autres navigateurs principaux.
De nos jours, ton navigateur personnel peut probablement comprendre les ESM natifs sans problème.
Evan a imaginé un outil qui servirait les fichiers au navigateur au format ESM,
laissant le gros du travail à esbuild quand il faut transformer les fichiers sources en fichier ESM si besoin
(par exemple pour les fichiers TypeScript ou Vue, ou pour des modules dans un format plus ancien).</p>
</div>
<div class="paragraph">
<p><a href="https://vitejs.dev">Vite</a> (encore un mot français) était né.</p>
</div>
</div>
<div class="sect2">
<h3 id="_vite">8.4. Vite</h3>
<div class="paragraph">
<p>L&#8217;idée derrière Vite est que, comme les navigateurs modernes supportent les modules ES,
on peut maintenant les utiliser directement, au moins pendant le développement, plutôt que de générer un bundle.</p>
</div>
<div class="paragraph">
<p>Donc lorsque tu charges une page dans un navigateur quand tu développes avec Vite,
tu ne charges pas un seul gros fichier JS contenant toute l&#8217;application&#160;:
tu charges juste les quelques ESM nécessaires pour cette page, chacun dans leur propre fichier
(et chacun dans leur propre requête HTTP).
Si un ESM a des imports, alors le navigateur demande à Vite ces fichiers également.</p>
</div>
<div class="paragraph">
<p>Vite est donc principalement un serveur de développement,
chargé de répondre aux requêtes du navigateur,
en lui envoyant les ESM demandés.
Comme on a peut-être écrit notre code en TypeScript,
ou utilisé un SFC avec une extension <code>.vue</code> (voir plus loin),
Vite doit parfois transformer ces fichiers sur notre disque en un ESM
que le navigateur peut comprendre.
C&#8217;est ici qu&#8217;esbuild intervient.
Vite est bâti au-dessus d&#8217;esbuild
et quand un fichier demandé a besoin d&#8217;être transformé,
Vite demande à celui-ci de s&#8217;en occuper et envoie ensuite le résultat au navigateur.
Si tu changes quelque chose dans un fichier
alors Vite n&#8217;envoie que le module qui a changé au navigateur,
au lieu d&#8217;avoir à reconstruire toute l&#8217;application
comme le font les outils basés sur Webpack&#160;!</p>
</div>
<div class="paragraph">
<p>Vite utilise aussi esbuild pour optimiser certaines choses.
Par exemple si tu utilises une bibliothèque avec des tonnes de fichiers,
Vite "pré-bundle" cette bibliothèque en un seul fichier grâce à esbuild
et l&#8217;envoie au navigateur en une seule requête plutôt que quelques dizaines/centaines.
Cette tâche est faite une seule fois au démarrage du serveur,
tu n&#8217;as donc pas à payer le coût à chaque fois que tu rafraîchis la page.</p>
</div>
<div class="paragraph">
<p>Le truc marrant est que Vite n&#8217;est pas vraiment lié à Vue&#160;:
il peut être utilisé avec Svelte, React ou autre.
En fait, certains frameworks recommandent même son utilisation&#160;!
Svelte, de Rich Harris, a été l&#8217;un des premiers à sauter le pas
et recommande maintenant officiellement Vite.</p>
</div>
<div class="paragraph">
<p>esbuild est très fort pour la partie JS,
mais il n&#8217;est pas (encore) capable de découper l&#8217;application en plusieurs morceaux,
ou de gérer entièrement les CSS (alors que Webpack et Rollup le font par défaut).
Il n&#8217;est donc pas adapté pour packager l&#8217;application pour la prod.
C&#8217;est là que Rollup entre en jeu&#160;:
Vite utilise esbuild pendant le développement,
mais utilise Rollup pour le build de prod.
Peut-être que dans le futur, Vite utilisera esbuild pour tout.</p>
</div>
<div class="paragraph">
<p>Vite est cependant plus qu&#8217;une simple enveloppe autour d&#8217;esbuild.
Comme on l&#8217;a vu, esbuild transforme les fichiers très vite.
Mais Vite ne lui demande cependant pas de faire ce travail à chaque fois qu&#8217;une page est rechargée&#160;:
il utilise le cache du navigateur pour effectuer le moins de travail possible.
Ainsi si tu affiches une page que tu as déjà chargé,
elle sera affichée instantanément.
Vite vient aussi avec <a href="https://vitejs.dev/guide/features.html">plein d&#8217;autres fonctionnalités</a>
et un riche ensemble de plugins.</p>
</div>
<div class="paragraph">
<p>Une note importante&#160;: esbuild transpile TypeScript en JavaScript,
mais il ne le compile pas&#160;: esbuild ignore complètement les types&#160;!
Ça le rend hyper rapide, mais cela veut donc dire
que tu n&#8217;auras pas de vérification des types de la part de Vite pendant le développement.
Pour vérifier que ton application compile,
tu devras exécuter <a href="https://github.com/johnsoncodehk/volar">Volar</a> (<code>vue-tsc</code>),
généralement quand tu construis l&#8217;application.</p>
</div>
<div class="paragraph">
<p>Alors, tu as envie d&#8217;essayer&#160;? Parce que moi oui&#160;!</p>
</div>
<div class="paragraph">
<p>Vite propose des exemples de projets pour React, Svelte et Vue,
mais l&#8217;équipe Vue a également lancé un petit projet basé sur Vite appelé <code>create-vue</code>.
Et ce projet est maintenant la façon recommandée de démarrer un nouveau projet Vue&#160;3.</p>
</div>
</div>
<div class="sect2">
<h3 id="_create_vue">8.5. create-vue</h3>
<div class="paragraph">
<p>create-vue est donc bâti au-dessus de Vite
et fournit des squelettes de projets Vue&#160;3.</p>
</div>
<div class="paragraph">
<p>Pour démarrer, tu lances simplement&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">npm create vue@3</code></pre>
</div>
</div>
<div class="paragraph">
<p>La <a href="https://docs.npmjs.com/cli/v8/commands/npm-init">commande <code>npm create quelquechose</code></a>
télécharge et exécute en fait le package <code>create-quelquechose</code>.
Donc ici <code>npm create vue</code> exécute le package <code>create-vue</code>.</p>
</div>
<div class="paragraph">
<p>Tu peux alors choisir&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>un nom de projet</p>
</li>
<li>
<p>si tu veux TypeScript ou non</p>
</li>
<li>
<p>si tu veux JSX ou non</p>
</li>
<li>
<p>si tu veux Vue router ou non</p>
</li>
<li>
<p>si tu veux Pinia (gestion de l&#8217;état) ou non</p>
</li>
<li>
<p>si tu veux Vitest pour les tests unitaires ou non</p>
</li>
<li>
<p>si tu veux Cypress pour les tests e2e ou non</p>
</li>
<li>
<p>si tu veux ESLint/Prettier pour le lint et le formatage ou non</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>et ton projet est prêt&#160;!</p>
</div>
<div class="paragraph">
<p>Nous allons bien sûr explorer ces différentes technologies tout au long du livre.</p>
</div>
<div class="paragraph">
<p>Tu veux t&#8217;y mettre&#160;?</p>
</div>
<div class="paragraph">
<p>Pour créer ta première application avec Vite, suis les instructions de
l&#8217;exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/0/getting-started">Getting Started</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>&#160;!
Il fait partie de notre Pack Pro, mais est accessible à tous nos lecteurs.</p>
</div>
<div class="paragraph">
<p>Terminé&#160;?</p>
</div>
<div class="paragraph">
<p>Si tu as bien suivi les instructions (et obtenu un score de 100&#160;% j&#8217;espère&#160;!),
tu as à présent une application en place, qui fonctionne.
Examinons quelques-uns de ses fichiers.
Le point d&#8217;entrée de l&#8217;application est le fichier <code>main.ts</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">main.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import './assets/main.css';

import { createApp } from 'vue';
import App from './App.vue';

createApp(App).mount('#app');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il monte un composant <code>App</code> défini dans <code>App.vue</code>,
qui ressemble à cela lorsqu&#8217;il est créé&#160;:</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;script setup lang="ts"&gt;
import HelloWorld from './components/HelloWorld.vue';
import TheWelcome from './components/TheWelcome.vue';
&lt;/script&gt;

&lt;template&gt;
  &lt;header&gt;
    &lt;img alt="Vue logo" class="logo" src="./assets/logo.svg" width="125" height="125" /&gt;

    &lt;div class="wrapper"&gt;
      &lt;HelloWorld msg="You did it!" /&gt;
    &lt;/div&gt;
  &lt;/header&gt;

  &lt;main&gt;
    &lt;TheWelcome /&gt;
  &lt;/main&gt;
&lt;/template&gt;

&lt;style scoped&gt;
header {
  line-height: 1.5;
}
&lt;/style&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>App.vue</code> est un <em>Single File Component</em>.
Un quoi&#160;?</p>
</div>
</div>
<div class="sect2">
<h3 id="_single_file_components">8.6. Single File Components</h3>
<div class="paragraph">
<p>Un <em>Single File Component</em> (SFC) est un composant
dont toutes les parties sont définies dans un seul fichier.</p>
</div>
<div class="paragraph">
<p>Il définit&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>le template à l&#8217;intérieur de l&#8217;élément <code>template</code>&#160;;</p>
</li>
<li>
<p>la définition du composant dans l&#8217;élément <code>script</code>.
Note la présence de l&#8217;attribut <code>lang="ts"</code> indiquant que l&#8217;on utilise TypeScript&#160;;</p>
</li>
<li>
<p>les styles CSS du composant dans l&#8217;élément <code>style</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>L&#8217;outillage compile le code TypeScript en JavaScript pour nous.
Il compile aussi le template en JavaScript
(nous expliquerons dans un prochain chapitre en quoi ça consiste).
Le compilateur Vue, au contraire du navigateur,
accepte et comprend les éléments en <em>PascalCase</em>,
donc on peut utiliser <code>&lt;hello-world&gt;</code> ou <code>&lt;HelloWorld&gt;</code>
pour le composant fils.
Nous utiliserons la version <em>PascalCase</em> à partir de maintenant.</p>
</div>
<div class="paragraph">
<p>Comme nous l&#8217;avons vu dans l&#8217;exercice,
Vite peut lancer les tests unitaires, les tests end-to-end, le linter, etc.
Chaque exercice vient avec ses tests unitaires et end-to-end déjà écrits,
ce qui te permettra de vérifier à chaque étape que ton code est correct.
Et, comme Vite est extrêmement rapide,
l&#8217;expérience de développement est super agréable 🚀.</p>
</div>
<div class="paragraph">
<p>Maintenant que nous avons appris à nous servir de l&#8217;outillage,
et que nous sommes prêts à écrire plus de composants,
passons à la syntaxe des templates.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="templates">9. Syntaxe des templates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nous avons déjà appris qu&#8217;un composant avait besoin d&#8217;un template.
Pour simplifier, le template nous permet de générer du code HTML contenant des parties
dynamiques, qui dépendent de nos données.
C&#8217;est à la syntaxe des templates que nous allons nous intéresser dans ce chapitre.</p>
</div>
<div class="paragraph">
<p>Prenons un exemple simple, qui se contente d&#8217;afficher un titre statique&#160;:</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;h1&gt;Ponyracer&lt;/h1&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent } from 'vue';

export default defineComponent({
  name: 'App'
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir, l&#8217;élément <code>&lt;template&gt;</code> de notre <em>Single File Component</em>
contient un simple <code>&lt;h1&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Maintenant, nous voulons afficher une donnée sur cette première page.
Par exemple le nombre d&#8217;utilisateurs enregistrés dans notre application.</p>
</div>
<div class="paragraph">
<p>Plus loin, nous apprendrons comment obtenir des données depuis un serveur,
mais pour le moment, faisons simple et utilisons un nombre en dur dans notre composant.</p>
</div>
<div class="paragraph">
<p>Pour exposer une donnée au template depuis le composant,
il faut qu&#8217;elle soit une propriété de l&#8217;objet retourné par la fonction
<code>setup</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { defineComponent } from 'vue';

export default defineComponent({
  name: 'App',

  setup() {
    return { numberOfUsers: 146 };
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comment modifier notre template pour afficher cette valeur&#160;?
La réponse, c&#8217;est l'<em>interpolation</em>.</p>
</div>
<div class="sect2">
<h3 id="_interpolation">9.1. Interpolation</h3>
<div class="paragraph">
<p>Un bien grand mot pour un concept simple.</p>
</div>
<div class="paragraph">
<p>Exemple rapide&#160;:</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;Ponyracer&lt;/h1&gt;
    &lt;h2&gt;{{ numberOfUsers }} users&lt;/h2&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent } from 'vue';

export default defineComponent({
  name: 'App',

  setup() {
    return { numberOfUsers: 146 };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que la <code>div</code> racine n&#8217;est pas forcément nécessaire,
car les templates Vue peuvent avoir plusieurs éléments racines
(ce n&#8217;était pas le cas avant Vue&#160;3.0).</p>
</div>
<div class="paragraph">
<p>Nous avons donc créé un composant qui sera activé chaque fois que Vue rencontrera
un élément <code>App</code>.
Ce composant a une propriété <code>numberOfUsers</code>.
Et son template contient un élément <code>&lt;h2&gt;</code>,
qui utilise les fameuses doubles accolades (aussi appelées "moustaches")
pour indiquer qu&#8217;une expression doit être évaluée.
C&#8217;est ce que Vue appelle l'<em>interpolation</em>.</p>
</div>
<div class="paragraph">
<p>Nous devrions donc voir dans le document&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;h1&gt;PonyRacer&lt;/h1&gt;
  &lt;h2&gt;146 users&lt;/h2&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>{{ numberOfUsers }}</code> est remplacé par la valeur de l&#8217;expression
contenue entre les moustaches.
Lorsque Vue détecte un élément <code>App</code> dans la page,
il crée une instance du composant et cette instance constitue
le contexte d&#8217;évaluation des expressions contenues dans son template.
Ici, le composant définit une propriété <code>numberOfUsers</code> dont la valeur est 146,
donc la valeur '146' est affichée à l&#8217;écran.</p>
</div>
<div class="paragraph">
<p>Tel que le code est écrit pour l&#8217;instant, si nous modifions
la valeur de <code>numberOfUsers</code> plus tard, cette modification ne
sera pas reflétée dans la vue.</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;Ponyracer&lt;/h1&gt;
    &lt;h2&gt;{{ numberOfUsers }} users&lt;/h2&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent } from 'vue';

export default defineComponent({
  name: 'App',

  setup() {
    const result = { numberOfUsers: 146 };
    // update the counter after 3 seconds
    // but the template does not reflect the new value
    setTimeout(() =&gt; (result.numberOfUsers = 147), 3000);
    return result;
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour que Vue détecte les changements de valeur de la propriété,
il faut rendre cette propriété réactive en utilisant <code>ref</code>.
Nous reviendrons plus tard en détails sur la syntaxe de <code>ref</code>,
dans le chapitre dédié aux composants.
Pour l&#8217;instant, tout ce qui t&#8217;importe est de savoir qu&#8217;une <code>ref</code>
est un objet avec une propriété <code>value</code>.</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;Ponyracer&lt;/h1&gt;
    &lt;h2&gt;{{ numberOfUsers }} users&lt;/h2&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent, ref } from 'vue';

export default defineComponent({
  name: 'App',

  setup() {
    const numberOfUsers = ref(146);
    // update the counter after 3 seconds
    setTimeout(() =&gt; (numberOfUsers.value = 147), 3000);
    return { numberOfUsers };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ainsi, pour mettre à jour une propriété réactive,
il faut modifier sa propriété <code>value</code>.
Mais dans le template, on peut utiliser la <code>ref</code> comme si
c&#8217;était une propriété "normale", sans avoir à ajouter
<code>.value</code>&#160;:
Vue en extrait la valeur automatiquement.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;h1&gt;PonyRacer&lt;/h1&gt;
  &lt;h2&gt;147 users&lt;/h2&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ça y est, chaque fois que <code>numberOfUsers</code> change dans le composant,
la vue est mise à jour automatiquement&#160;!
C&#8217;est l&#8217;une des grandes fonctionnalités de Vue.
Comme je le disais, mettons de côté l&#8217;aspect réactivité pour le moment
et concentrons-nous sur les templates.</p>
</div>
<div class="paragraph">
<p>Un aspect important à retenir&#160;:
si on essaie d&#8217;afficher une propriété qui n&#8217;existe pas,
au lieu d&#8217;afficher <code>undefined</code> comme on pourrait s&#8217;y attendre,
Vue affichera simplement une chaîne vide.
Il en va de même si la propriété existe, mais a la valeur <code>null</code>.</p>
</div>
<div class="paragraph">
<p>Imaginons à présent que, au lieu d&#8217;une simple valeur,
notre composant doive afficher un objet <code>user</code> plus complexe,
contenant les informations de l&#8217;utilisateur courant.</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;Ponyracer&lt;/h1&gt;
    &lt;h2&gt;Welcome {{ user.name }}&lt;/h2&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent, ref } from 'vue';

export default defineComponent({
  name: 'App',

  setup() {
    const user = ref({
      name: 'Cédric'
    });
    return { user };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir, on peut interpoler des expressions plus complexes,
par exemple la propriété d&#8217;un objet défini dans <code>setup</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;h1&gt;PonyRacer&lt;/h1&gt;
  &lt;h2&gt;Welcome Cédric&lt;/h2&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Fait intéressant&#160;: si la valeur de l&#8217;expression interpolée est un objet,
tu verras la structure JSON de cet objet, ce qui est pratique pendant le développement&#160;:</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;Ponyracer&lt;/h1&gt;
    &lt;h2&gt;{{ user }}&lt;/h2&gt;
    &lt;!-- displays { "id": 1, "name": "Cédric" } --&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent, ref } from 'vue';

export default defineComponent({
  name: 'App',

  setup() {
    const user = ref({
      id: 1,
      name: 'Cédric'
    });
    return { user };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Que se passe-t-il si on se trompe dans le template,
et que l&#8217;on tente d&#8217;accéder à une propriété d&#8217;un objet qui n&#8217;existe pas dans le composant&#160;?</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;Ponyracer&lt;/h1&gt;
    &lt;!-- Note the typo: `users` instead of `user` --&gt;
    &lt;h2&gt;Welcome {{ users.name }}&lt;/h2&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lorsque l&#8217;application démarre, une erreur sera générée, avec l&#8217;explication
indiquant que la propriété n&#8217;existe pas&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">'[Vue warn]: Property "users" was accessed during render but is not defined on instance'</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Attention"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Vous n&#8217;observerez cette erreur qu&#8217;à l&#8217;exécution de l&#8217;application, dans le navigateur.
Malheureusement, aucun avertissement ne sera levé à la compilation
si un template contient des erreurs, à la différence d&#8217;autres frameworks comme Angular.
On peut espérer cependant que vous ayez des tests unitaires qui
permettent de détecter ce genre de problème avant de partir en production.
Nous verrons comment tester unitairement les composants et leur template
dans un prochain chapitre.</p>
</div>
<div class="paragraph">
<p>Il y a cependant quelques initiatives de la communauté
pour avoir cette vérification des templates à la compilation&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/johnsoncodehk/volar">Volar</a>
(le plus avancé actuellement, que nous utilisons dans nos projets, les exemples de cet ebook et les exercices du Pack Pro)</p>
</li>
<li>
<p><a href="https://vuejs.github.io/vetur/guide/vti.html">VTI</a> de l&#8217;équipe qui fait également Vetur</p>
</li>
<li>
<p><a href="https://github.com/znck/vue-developer-experience">VueDX</a>
Tous ces projets sont encore expérimentaux, mais valent d&#8217;être essayé.</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Revenons à notre exemple. On affiche maintenant un message de bienvenue.
Allons un peu plus loin et affichons les courses de poneys à venir.
La première intuition serait d&#8217;ajouter plus de code HTML et TypeScript à
notre composant <code>App</code>. Mais à y réfléchir, ne serait-il pas préférable
de garder ce composant aussi simple et testable que possible. Et d&#8217;ailleurs,
la liste des courses pourrait bien être nécessaire ailleurs que sur la
page principale.</p>
</div>
<div class="paragraph">
<p>Cette réflexion nous conduit à écrire un second composant.
Allons-y pas à pas et commençons très simple&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Races.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;Races&lt;/h2&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent } from 'vue';

export default defineComponent({
  name: 'Races'
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Rien de compliqué&#160;: un simple composant
avec un nom <code>Races</code> et un template affichant un titre dans un <code>h2</code>.</p>
</div>
<div class="paragraph">
<p>Il nous faut inclure ce nouveau composant dans le template du composant <code>App</code>.
Comment faire&#160;?</p>
</div>
</div>
<div class="sect2">
<h3 id="_utiliser_dautres_composants_dans_un_template">9.2. Utiliser d&#8217;autres composants dans un template</h3>
<div class="paragraph">
<p>Nous avons donc un composant <code>App</code>, dans lequel on veut afficher
un deuxième composant <code>Races</code>.</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;Ponyracer&lt;/h1&gt;
    &lt;Races /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent } from 'vue';

export default defineComponent({
  name: 'App'
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir, nous avons ajouté le composant <code>Races</code> dans le
template, en utilisant un élément HTML dont le nom est celui que nous avons
choisi pour le composant <code>Races</code>.</p>
</div>
<div class="paragraph">
<p>Nous sommes sur la bonne voie, maaiiiis&#8230;&#8203; ça ne fonctionne pas&#160;:
le navigateur n&#8217;affiche pas le composant <code>Races</code>.</p>
</div>
<div class="paragraph">
<p>Si tu ouvres la console du navigateur, tu peux y lire&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">'[Vue warn]: Failed to resolve component: Races'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pourquoi une telle erreur&#160;? La raison est simple&#160;:
Vue ne connaît pas encore ce composant <code>Races</code>.</p>
</div>
<div class="sect3">
<h4 id="_enregistrement_local">9.2.1. Enregistrement local</h4>
<div class="paragraph">
<p>La correction n&#8217;est pas compliquée.
Dans notre composant <code>App</code>, nous pouvons ajouter une propriété <code>components</code>,
pour y lister les sous-composants utilisés dans le template.
La syntaxe est la suivante&#160;:
<code>components</code> est un objet auquel tu peux ajouter une clé qui est le nom de l&#8217;élément HTML utilisé pour insérer un composant
et la valeur correspondante est le composant qui viendra remplacer l&#8217;élément HTML dans le template.</p>
</div>
<div class="paragraph">
<p>Dans l&#8217;exemple suivant, nous y ajoutons la clé <code>Races</code> (puisque c&#8217;est le nom de l&#8217;élément que nous avons
ajouté au template d'<code>App</code>),
avec la valeur <code>Races</code>, qui est le composant que nous voulons utiliser.
Bien sûr, nous devons importer le composant <code>Races</code> depuis le fichier où il est déclaré.</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;Ponyracer&lt;/h1&gt;
    &lt;Races /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent } from 'vue';
import Races from '@/chapters/templates/Races.vue';

export default defineComponent({
  name: 'App',
  components: {
    Races: Races
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nous pourrions aussi utiliser <code>&lt;races&gt;&lt;/races&gt;</code> dans le template,
mais la plupart des développeurs utilisent le nom original, en <em>PascalCase</em>.</p>
</div>
<div class="paragraph">
<p>La clé pourrait être complètement différente cependant.
Tu <em>pourrais</em> choisir d&#8217;utiliser par exemple <code>{ RacesList: Races }</code>,
et donc utiliser <code>&lt;RacesList&gt;&lt;/RacesList&gt;</code> dans le template.
Et tu pourrais ensuite utiliser <code>&lt;races-list&gt;&lt;/races-list&gt;</code>,
la version <em>kebab-case</em>, dans le template.
Cela fonctionnerait parfaitement,
mais ce serait assez surprenant pour tes collègues.
En règle générale, nous utilisons le nom du composant.</p>
</div>
<div class="paragraph">
<p>Note que la syntaxe de ES6 nous permet d&#8217;écrire <code>{ key }</code> au lieu de <code>{ key: key }</code>
si tu te souviens des premiers chapitres.
On peut donc simplifier légèrement la déclaration du composant en utilisant <code>{ Races }</code>
au lieu de <code>{ Races: Races }</code>.
Nous utiliserons cette syntaxe concise à partir de maintenant.</p>
</div>
</div>
<div class="sect3">
<h4 id="_enregistrement_global">9.2.2. Enregistrement global</h4>
<div class="paragraph">
<p>Si tu utilises un composant dans de nombreux autres composants
ça devient un peu pénible de devoir l&#8217;enregistrer
à <em>chaque fois</em>.</p>
</div>
<div class="paragraph">
<p>Vue permet d&#8217;enregistrer un composant globalement.
Dans ton fichier <code>main</code>,
tu peux utiliser la fonction <code>component</code> pour enregistrer globalement
un ou plusieurs composants.
Ces composants seront alors disponibles dans tous les templates de l&#8217;application.</p>
</div>
<div class="listingblock">
<div class="title">main.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">createApp(App)
  .component('CustomButton', CustomButton)
  .mount('#app');</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lien_de_propriété_avec_v_bind">9.3. Lien de propriété avec <code>v-bind</code></h3>
<div class="paragraph">
<p>L&#8217;interpolation n&#8217;est qu&#8217;une des techniques pour introduire du dynamisme dans les templates.</p>
</div>
<div class="paragraph">
<p>Dans Vue, chaque attribut des éléments HTML peut prendre une valeur dynamique,
non pas en utilisant les moustaches,
mais en préfixant le nom de l&#8217;attribut avec <code>v-bind:</code>.</p>
</div>
<div class="paragraph">
<p><code>v-bind</code> est ce que l&#8217;on appelle une <em>directive</em> dans Vue.
Il y en a d&#8217;autres que nous décrirons en détails. On peut les
détecter facilement dans les templates parce qu&#8217;elles commencent
par <code>v-</code>.</p>
</div>
<div class="paragraph">
<p>Ainsi, si tu veux affecter une valeur dynamique
à la source d&#8217;une image,
par exemple une propriété <code>dynamicUrl</code> de ton composant,
tu peux écrire&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;img v-bind:src="dynamicUrl" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cela fonctionne également avec des attributs booléens,
comme <code>disabled</code> ou <code>selected</code>,
qui sont un peu différents des autres. En effet, en HTML, ce qui importe
pour ces attributs n&#8217;est pas leur valeur, mais leur présence
ou leur absence sur l&#8217;élément.
Avec <code>v-bind</code> cependant, on peut affecter une valeur
à ces attributs.
Si la valeur est "truthy" dans le sens JavaScript du terme
(c’est-à-dire n&#8217;est pas <code>false</code>, <code>null</code>, <code>undefined</code>, une chaîne vide ou 0),
alors l&#8217;attribut sera considéré comme présent&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button v-bind:disabled="isDisabled"&gt;Log in&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dans cet exemple, <code>isDisabled</code> est une propriété de notre composant,
et peut être <code>true</code> ou <code>false</code>.
Si elle est <code>true</code>, alors le bouton sera désactivé, comme lorsque l&#8217;attribut
<code>disabled</code> est présent et l&#8217;utilisateur ne pourra donc pas cliquer
sur le bouton.
Si elle est <code>false</code>, le bouton sera activé et cliquable, comme lorsque
l&#8217;attribut <code>disabled</code> est absent.</p>
</div>
<div class="sect3">
<h4 id="_syntaxe_raccourcie">9.3.1. Syntaxe raccourcie</h4>
<div class="paragraph">
<p>Tu peux aussi écrire une version plus concise de <code>v-bind:attribute</code>
en utilisant <code>:attribute</code>.
C&#8217;est cette syntaxe raccourcie que la plupart des développeurs Vue préfèrent&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;img :src="dynamicUrl" /&gt;
&lt;button :disabled="isDisabled"&gt;Log in&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Depuis Vue v3.4, il est même possible d&#8217;utiliser une syntaxe encore plus courte,
quand la clé et la valeur ont le même nom&#160;!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button :disabled&gt;Log in&lt;/button&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_propriétés_et_attributs">9.3.2. Propriétés et attributs</h4>
<div class="paragraph">
<p>J&#8217;ai parlé d'<em>attributs</em> depuis le début de cette section,
mais son titre est "lien de propriété", et pas "lien d&#8217;attribut".
Pourquoi cela&#160;?</p>
</div>
<div class="paragraph">
<p>Le titre fait référence aux propriétés du DOM,
mais peut-être faut-il clarifier la différence entre les deux.
Ce que nous écrivons, ce sont des balises HTML contenant des attributs, on est d&#8217;accord&#160;?
Prenons ce simple exemple de code HTML&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input type="text" value="hello"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La balise <code>input</code> ci-dessus a deux <em>attributs</em>&#160;:
l&#8217;attribut <code>type</code> et l&#8217;attribut <code>value</code>.
Lorsque le navigateur analyse cette balise, il crée un nœud dans le document DOM
(un <code>HTMLInputElement</code> si on veut être précis),
qui a des <em>propriétés</em> correspondantes <code>type</code> et <code>value</code>.
Chaque attribut HTML standard a une propriété correspondante dans le nœud du DOM.
Mais le nœud du DOM a aussi d&#8217;autres propriétés, qui n&#8217;ont pas nécessairement d&#8217;attribut correspondant.
Par exemple&#160;: <code>childElementCount</code>, <code>innerHTML</code> ou <code>textContent</code>.</p>
</div>
<div class="paragraph">
<p>L&#8217;interpolation que nous avons utilisée pour afficher le nom de l&#8217;utilisateur&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;{{ user.name }}&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>est en fait à peu près équivalente au code suivant&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div :textContent="user.name"&gt;&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La directive <code>v-bind</code> permet de modifier la propriété DOM <code>textContent</code>,
et on lui assigne la valeur de l&#8217;expression <code>user.name</code>,
qui est évaluée dans le contexte du composant courant,
exactement comme on le faisait pour l&#8217;interpolation.</p>
</div>
<div class="paragraph">
<p>La mécanique utilisée par la directive <code>v-bind:something="value"</code> est très simple&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>d&#8217;abord, elle tente de modifier la propriété <code>something</code> si elle existe&#160;;</p>
</li>
<li>
<p>autrement, elle affecte la valeur à l&#8217;attribut <code>something</code>, ou l&#8217;enlève si <code>value</code> est null.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note que cette mécanique est sensible à la casse, donc il faut utiliser le nom correct de la propriété&#160;:
<code>textcontent</code> ou <code>TEXTCONTENT</code> ne fonctionneront pas&#160;; il faut utiliser <code>textContent</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_v_bind_avec_un_objet">9.3.3. <code>v-bind</code> avec un objet</h4>
<div class="paragraph">
<p>Il est aussi possible d&#8217;utiliser <code>v-bind</code> sans préciser de nom de propriété,
mais en lui donnant un objet directement.
Dans ce cas, la directive lie toutes les clés de l&#8217;objet&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button v-bind="buttonProperties"&gt;Log in&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>avec une propriété <code>buttonProperties</code>,
qui peut avoir autant de paires de clé/valeur que tu le désires&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">setup() {
  return {
    buttonProperties: ref({
      disabled: true,
      type: 'button' as const
    }),
  };
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_classes_et_styles">9.3.4. Classes et styles</h4>
<div class="paragraph">
<p>Il est assez commun dans les applications web d&#8217;avoir à calculer quelles
classes ou styles CSS doivent être appliqués à un élément.
On peut faire ça manuellement en construisant une chaîne de caractères
<code>computedClasses</code> contenant toutes les classes à appliquer,
et ensuite utiliser <code>:class="computedClasses"</code> dans le template.
Il en va de même pour les styles avec <code>:style="computedStyles"</code>.</p>
</div>
<div class="paragraph">
<p>Mais <code>v-bind</code> permet de faire les choses plus élégamment pour ces deux
cas d&#8217;utilisation fréquents.
On peut utiliser <code>:class</code> et <code>:style</code> avec un objet comme valeur,
pour dynamiquement ajouter ou enlever des classes et des styles
CSS à l&#8217;élément.</p>
</div>
<div class="paragraph">
<p>Par exemple,</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button class="btn" :class="{ 'btn-primary': isPrimary, 'btn-sm': isSmall }"&gt;Log in&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>avec les propriétés <code>isPrimary</code> et <code>isSmall</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">setup() {
  return {
    isPrimary: ref(true),
    isSmall: ref(false),
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>ajoutera la classe CSS <code>btn-primary</code> au bouton et enlèvera la classe <code>btn-sm</code>.</p>
</div>
<div class="paragraph">
<p>Note qu&#8217;une alternative est d&#8217;exposer directement depuis le composant un tableau de classes
CSS, ou un objet comme celui que nous avons défini dans le template&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button class="btn" :class="buttonClasses"&gt;Log in&lt;/button&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">setup() {
  return {
    buttonClasses: ref({
      'btn-primary': true,
      'btn-small': false
    }),
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le même principe peut être utilisé pour les styles CSS, avec <code>:style</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div :style="textStyle"&gt;Some text&lt;/div&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">setup() {
  return {
    textStyle: ref({
      color: 'red',
      fontWeight: 'bold' as const
    })
  };
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_événements_avec_v_on">9.4. Événements avec <code>v-on</code></h3>
<div class="paragraph">
<p>Si tu développes des applications web,
tu sais qu&#8217;afficher des données n&#8217;est qu&#8217;une petite partie du travail&#160;:
il faut aussi gérer les interactions avec l&#8217;utilisateur.
Pour permettre ces interactions, le navigateur émet des événements,
que l&#8217;on peut écouter&#160;: <code>click</code>, <code>keyup</code>, <code>mousemove</code>, etc.
Vue est encore là pour nous aider à les gérer&#160;!</p>
</div>
<div class="paragraph">
<p>Supposons que nous voulions qu&#8217;un bouton enregistre
une action lorsque l&#8217;utilisateur clique dessus.</p>
</div>
<div class="paragraph">
<p>Réagir à un événement peut être fait en utilisant la directive <code>v-on</code>, comme suit&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button v-on:click="save()"&gt;Save&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Un clic sur le bouton de l&#8217;exemple ci-dessus appellera la fonction
<code>save()</code> du composant.</p>
</div>
<div class="paragraph">
<p>Ajoutons-la&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export default defineComponent({
  name: 'Races',
  setup() {
    function save() {
      // Do something when user saves
    }
    return {
      save
    };
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme pour les données, les composants Vue exposent des fonctions au template
en les retournant en tant que propriétés dans la fonction <code>setup</code>.</p>
</div>
<div class="paragraph">
<p>Comme c&#8217;était le cas pour <code>v-bind</code>, la plupart des développeurs Vue préfèrent
utiliser la syntaxe raccourcie de <code>v-on:event</code>&#160;: <code>@event</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button @click="save()"&gt;Save&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est la syntaxe que nous utiliserons dans le reste du livre.</p>
</div>
<div class="paragraph">
<p>La valeur passée à la directive <code>v-on</code> peut être un appel de fonction,
mais elle peut être n&#8217;importe quelle instruction exécutable, par exemple&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button @click="firstname = 'Cédric'"&gt;Save&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que <code>firstname</code> doit être une propriété du composant.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const firstname = ref('JB');
return {
  firstname,
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cependant, je ne recommande pas d&#8217;utiliser de telles instructions dans le template.
Appeler une fonction respecte l&#8217;encapsulation du composant, rend le code
plus maintenable et testable, et rend le code du template plus simple.</p>
</div>
<div class="paragraph">
<p>L&#8217;événement peut être émis par l&#8217;élément lui-même, ou par l&#8217;un de ces
descendants.
Vue réagira à l&#8217;événement même s&#8217;il se propage depuis un descendant.
Considérons le template suivant&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div @click="save()"&gt;
  &lt;button&gt;Save&lt;/button&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Même si c&#8217;est sur le bouton que l&#8217;utilisateur clique,
la fonction <code>save()</code> sera appelée, parce que l&#8217;événement se propage
à son <code>div</code> parent.</p>
</div>
<div class="paragraph">
<p>On peut bien sûr passer des arguments à la fonction.
Et l&#8217;un de ces arguments peut être l&#8217;événement lui-même&#160;!
Il suffit pour cela de passer <code>$event</code> à la fonction&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button @click="saveName('Cédric', $event)"&gt;Save&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut ainsi gérer l&#8217;événement comme on l&#8217;entend depuis la fonction&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function saveName(name: string, event: Event) {
  // Do something with the name
  event.preventDefault();
  event.stopPropagation();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si on ne stoppe pas sa propagation, l&#8217;événement
continuera à se propager vers les éléments parents
et déclenchera donc potentiellement d&#8217;autres gestionnaires
d&#8217;événement installés plus haut dans l&#8217;arbre.</p>
</div>
<div class="paragraph">
<p>Tu peux utiliser l&#8217;événement pour empêcher le comportement
par défaut ou stopper sa propagation comme montré ci-dessus.
Ou tu peux utiliser les <em>modifiers</em>  <code>.stop</code> et <code>.prevent</code>.</p>
</div>
<div class="sect3">
<h4 id="_les_modifiers_prevent_et_stop">9.4.1. Les <em>modifiers</em> <code>.prevent</code> et <code>.stop</code></h4>
<div class="paragraph">
<p>Au lieu de gérer l&#8217;événement dans la fonction,
tu peux ajouter un <em>modifier</em> à la directive <code>v-on</code>.</p>
</div>
<div class="paragraph">
<p><code>.prevent</code> empêche le comportement par défaut du navigateur.
Par exemple, pour réagir à l&#8217;événement <code>submit</code> d&#8217;un formulaire,
mais ne pas recharger la page à la soumission&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;form @submit.prevent="save()"&gt;
  &lt;!-- a form --&gt;
  &lt;button type="submit"&gt;Save&lt;/button&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>.stop</code> quant à lui arrête la propagation de l&#8217;événement vers le haut de l&#8217;arbre&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button @click.stop="save()"&gt;Save&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu peux chaîner plusieurs <em>modifiers</em> si nécessaire&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button @click.prevent.stop="save()"&gt;Save&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il en existe quelques autres pour <code>v-on</code>,
intéressants notamment pour la gestion des événements clavier et souris.</p>
</div>
</div>
<div class="sect3">
<h4 id="_événements_clavier">9.4.2. Événements clavier</h4>
<div class="paragraph">
<p>Les événements clavier sont vraiment faciles à gérer grâce aux <em>modifiers</em>
que l&#8217;on peut ajouter après <code>keyup</code>, <code>keydown</code> ou <code>keypress</code>&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>.esc</code> déclenche le gestionnaire si la touche est <kbd>esc</kbd>&#160;;</p>
</li>
<li>
<p><code>.delete</code> déclenche le gestionnaire si la touche est <kbd>delete</kbd>&#160;;</p>
</li>
<li>
<p><code>.space</code> déclenche le gestionnaire si la touche est <kbd>space</kbd>&#160;;</p>
</li>
<li>
<p><code>.up</code> déclenche le gestionnaire si la touche est <kbd>up</kbd>&#160;;</p>
</li>
<li>
<p><code>.down</code> déclenche le gestionnaire si la touche est <kbd>down</kbd>&#160;;</p>
</li>
<li>
<p><code>.left</code> déclenche le gestionnaire si la touche est <kbd>left</kbd>&#160;;</p>
</li>
<li>
<p><code>.right</code> déclenche le gestionnaire si la touche est <kbd>right</kbd>&#160;;</p>
</li>
<li>
<p><code>.[n&#8217;importe quel caractère]</code>, par exemple <code>.b</code>
déclenche le gestionnaire si la touche est <kbd>b</kbd>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;textarea @keydown.space="onSpacePress()"&gt;&lt;/textarea&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Chaque fois que l&#8217;on enfonce la barre d&#8217;espace,
la fonction <code>onSpacePress()</code> sera appelée.
Et on peut aussi les combiner avec d&#8217;autres <em>modifiers</em>, appelés <em>system modifiers</em>&#160;: <code>.ctrl</code>, <code>.shift</code>, <code>.alt</code>, <code>.meta</code>,
comme <code>@keydown.ctrl.space</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;textarea @keydown.ctrl.space="showHint()"&gt;&lt;/textarea&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_exact">9.4.3. <code>.exact</code></h4>
<div class="paragraph">
<p>Si tu veux qu&#8217;un gestionnaire soit appelé pour la combinaison de touches données,
et uniquement cette combinaison, sans aucun <em>system modifier</em> additionnel,
tu peux ajouter le <em>modifier</em> <code>.exact</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!-- `save` is called on ctrl+click, ctrl+alt+click, etc. --&gt;
&lt;button @click.ctrl="save()"&gt;Save&lt;/button&gt;
&lt;!-- `save` is called only on ctrl+click --&gt;
&lt;button @click.ctrl.exact="save()"&gt;Save&lt;/button&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_événements_souris">9.4.4. Événements souris</h4>
<div class="paragraph">
<p>Le même principe peut être utilisé pour les événements souris avec
les <em>modifiers</em> <code>.left</code>, <code>.middle</code> et <code>.right</code>.</p>
</div>
<div class="paragraph">
<p>Par exemple&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button @mousedown.right="save()"&gt;Save&lt;/button&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_once">9.4.5. <code>.once</code></h4>
<div class="paragraph">
<p>Pour qu&#8217;un gestionnaire soit appelé une seule fois,
tu peux utiliser le <em>modifier</em> <code>.once</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;button @click.once="save()"&gt;Save&lt;/button&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_passive_modifier">9.4.6. <code>.passive</code> modifier</h4>
<div class="paragraph">
<p>Le <em>modifier</em> <code>.passive</code> est un peu différent&#160;:
il permet de dire au navigateur que le comportement par défaut devrait être
exécuté sans attendre que le gestionnaire d&#8217;événement ait terminé.</p>
</div>
<div class="paragraph">
<p>Cela peut être pratique pour gérer des événements qui sont émis à haute fréquence,
comme un <code>scroll</code> ou un <code>mousemove</code>,
mais sans affecter
<a href="https://developer.chrome.com/blog/passive-event-listeners/">la fluidité du scroll du navigateur</a>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div @mousemove.passive="onMouseMove()"&gt;Some content&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_self">9.4.7. <code>.self</code></h4>
<div class="paragraph">
<p>Ce <em>modifier</em> est utilisé pour ne réagir que si l&#8217;événement est émis par l&#8217;élément
lui-même, et pas par un de ses descendants&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!-- calls `save` only if the click is on the `div` --&gt;
&lt;!-- and not if it is on the `button` --&gt;
&lt;div @click.self="save()"&gt;
  &lt;button&gt;Save&lt;/button&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_capture">9.4.8. <code>.capture</code></h4>
<div class="paragraph">
<p>Pour être complet, il y a un dernier <em>modifier</em>,
que l&#8217;on n&#8217;utilise que très rarement&#160;: <code>.capture</code>.
Il permet de capturer un événement émis par un descendant et de le
gérer en premier, avant que les descendants ne puissent le gérer eux-mêmes&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!-- calls `save` first if the click is on the `button` --&gt;
&lt;!-- before calling `saveName` from the `button` --&gt;
&lt;div @click.capture="save()"&gt;
  &lt;button @click="saveName('Cédric', $event)"&gt;Save&lt;/button&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_templates_et_typescript">9.5. Templates et TypeScript</h3>
<div class="paragraph">
<p>Comme on le disait plus haut, il n&#8217;y a pas d&#8217;erreur de compilation
si tu as une erreur dans une expression de ton template.
Tu auras seulement une erreur au runtime.
<a href="https://github.com/johnsoncodehk/volar">Volar</a> peut cependant vous aider
et va être capable d&#8217;analyser vos templates pour remonter les erreurs potentielles&#160;!
Pour ce faire, il s&#8217;appuie sur TypeScript, et n&#8217;est pas parfait,
mais c&#8217;est de loin le mieux que vous pouvez espérer (nous, on l&#8217;utilise partout).</p>
</div>
<div class="paragraph">
<p>Note que Vue&#160;3.2+ permet d&#8217;écrire du TypeScript dans les templates directement.
Ce qui est parfois pratique pour indiquer à Volar
que telle variable n&#8217;est pas nulle, ou de tel type&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;Welcome {{ (user!.name as string).toLowerCase() }}&lt;/h2&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_résumé">9.6. Résumé</h3>
<div class="paragraph">
<p>Les templates de Vue offrent une syntaxe riche et déclarative
pour exprimer comment gérer les parties dynamiques de la vue des composants.
Vue permet de faire de l&#8217;affichage, du binding de propriétés, d&#8217;attributs et d&#8217;événements,
de façon claire, avec peu d&#8217;éléments syntaxiques différents&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>{{}}</code> pour l&#8217;interpolation&#160;;</p>
</li>
<li>
<p><code>v-bind:property</code> ou <code>:property</code> pour le binding de propriétés et d&#8217;attributs&#160;;</p>
</li>
<li>
<p><code>v-on:event</code> ou <code>@event</code> pour le binding d&#8217;événements.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cela nécessite un peu de pratique pour être complètement à l&#8217;aise avec cette syntaxe,
mais je suis sûr que ça viendra vite, et qu&#8217;une fois maîtrisée, les templates te
sembleront lisibles et faciles à écrire.</p>
</div>
<div class="paragraph">
<p>Si tu veux mettre en pratique ce chapitre,
exerce-toi avec l&#8217;exercice <em>Templates</em> de notre formation en ligne&#160;!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaie notre
<a href="https://vue-exercises.ninja-squad.com/exercises/1/quiz-templates">quiz</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>
et l&#8217;exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/2/templates">Templates</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Gratuit" width="18px" title="Gratuit"></span>.
Ils sont gratuits et font partie de notre formation en ligne (Pro Pack),
où tu apprendras à construire une application complète, pas à pas.
Cet exercice consiste à construire un petit composant,
un menu responsive, et à jouer avec son template.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Parlons à présent des directives&#160;!</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="directives">10. Directives</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Les directives sont des outils essentiels à l&#8217;écriture d&#8217;une application avec Vue.
Nous en avons déjà utilisé deux&#160;: <code>v-bind</code> et <code>v-on</code>.
Il y en a d&#8217;autres. Certaines sont vraiment très utiles.
D&#8217;autres sont moins fréquemment utilisées, mais néanmoins bonnes à connaître.</p>
</div>
<div class="paragraph">
<p>Commençons par celle que l&#8217;on utilise quotidiennement&#160;: <code>v-if</code>.</p>
</div>
<div class="sect2">
<h3 id="_des_conditions_dans_les_templates_avec_v_if">10.1. Des conditions dans les templates avec <code>v-if</code></h3>
<div class="paragraph">
<p>Cette directive porte un nom évocateur.
<code>v-if</code> permet, comme son nom le laisse supposer,
de n&#8217;afficher une section du template que si une condition est vraie&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div v-if="user.role === 'ADMIN'"&gt;
  &lt;h2&gt;Admin {{ user.name }}&lt;/h2&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La <code>div</code> elle-même n&#8217;est affichée que si l&#8217;utilisateur
est un administrateur.</p>
</div>
<div class="paragraph">
<p>Tu peux combiner <code>v-if</code> avec la directive <code>v-else</code>,
pour afficher une alternative si la condition est fausse.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div v-if="user.role === 'ADMIN'"&gt;
  &lt;h2&gt;Admin {{ user.name }}&lt;/h2&gt;
&lt;/div&gt;
&lt;div v-else&gt;
  &lt;h2&gt;Hello&lt;/h2&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et tu peux aller plus loin en utilisant <code>v-else-if</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div v-if="user.role === 'ADMIN'"&gt;
  &lt;h2&gt;Admin {{ user.name }}&lt;/h2&gt;
&lt;/div&gt;
&lt;div v-else-if="user.role === 'ACCOUNTANT'"&gt;
  &lt;h2&gt;Accountant&lt;/h2&gt;
&lt;/div&gt;
&lt;div v-else-if="user.role === 'DEVELOPER'"&gt;
  &lt;h2&gt;Developer&lt;/h2&gt;
&lt;/div&gt;
&lt;div v-else&gt;
  &lt;h2&gt;Hello&lt;/h2&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_masquer_du_contenu_avec_v_show">10.2. Masquer du contenu avec <code>v-show</code></h3>
<div class="paragraph">
<p>Il existe une autre directive similaire à <code>v-if</code>&#160;: <code>v-show</code>.
<code>v-show</code> applique le style CSS <code>display: none;</code> à un élément
si la condition qui lui est fournie est fausse.
<code>v-if</code> permet aussi de masquer du contenu en fonction d&#8217;une condition,
mais elle fait plus que ça&#160;: lorsque la condition est fausse, <code>v-if</code>
enlève le contenu du DOM, et elle le recrée et le réinsère dans le DOM
lorsque la condition devient vraie.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div v-show="user.role === 'ADMIN'"&gt;
  &lt;h2&gt;Admin {{ user.name }}&lt;/h2&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Très souvent, tu peux utiliser l&#8217;une ou l&#8217;autre sans différence
visible de comportement.</p>
</div>
<div class="paragraph">
<p>Ce n&#8217;est pas toujours le cas cependant. Par exemple, masquer un élément de formulaire
invalide avec <code>v-show</code> ne rendra pas le formulaire valide. De même, si des expressions
utilisées dans la section invisible lèvent des erreurs lorsqu&#8217;elles sont évaluées
et que la condition est fausse, utiliser <code>v-if</code> est impératif.</p>
</div>
<div class="paragraph">
<p>Il peut aussi y avoir des différences de performance&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>v-if</code> détruit réellement les éléments du DOM et les <em>listeners</em> associés, et les recrée au besoin.
Elle a donc un coût un peu plus grand si la condition change. Mais quand la condition est fausse,
Vue n&#8217;a plus à surveiller et mettre à jour toute la section enlevée du DOM.
Elle permet donc une meilleure performance quand une large part du
DOM est enlevée, et que la valeur de la condition change rarement.</p>
</li>
<li>
<p><code>v-show</code> ne fait que rendre invisible une partie du DOM, mais Vue continue
à surveiller et mettre à jour cette partie invisible. En revanche, le coût d&#8217;un
changement de valeur de la condition est minimal, puisqu&#8217;elle ne fait que changer
la valeur d&#8217;un style CSS.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ne t&#8217;embarrasse pas trop avec ces considérations de performance cependant, et utilise
ce qui est correct, et ce qui te semble le mieux. 🙂</p>
</div>
</div>
<div class="sect2">
<h3 id="_rendu_unique_avec_v_once">10.3. Rendu unique avec <code>v-once</code></h3>
<div class="paragraph">
<p>Tant que nous parlons de performance,
évoquons la directive <code>v-once</code>, qui peut être bénéfique.
Lorsqu&#8217;elle est appliquée à un élément,
cet élément et tous ses descendants ne seront rendus qu&#8217;une seule fois.
Ensuite, Vue ne s&#8217;occupera plus du tout de toute cette partie du DOM.</p>
</div>
<div class="paragraph">
<p>Cette directive peut être utile pour des longues pages
affichant de nombreuses informations, mais qui ne changent pas&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div v-once&gt;
  &lt;!-- never updates, even if `user.name` changes--&gt;
  &lt;h2&gt;Admin {{ user.name }}&lt;/h2&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_répéter_des_éléments_avec_v_for">10.4. Répéter des éléments avec <code>v-for</code></h3>
<div class="paragraph">
<p>C&#8217;est inévitable&#160;: ton application finira forcément par devoir afficher
des listes de quelque chose.</p>
</div>
<div class="paragraph">
<p>C&#8217;est pour résoudre ce problème ultra-commun que <code>v-for</code> est prévu&#160;:
elle permet d&#8217;instancier un élément dans le DOM pour chaque élément d&#8217;une collection.
Notre composant <code>Races</code> contient une propriété <code>races</code>, retournée par la fonction
<code>setup()</code>, qui, comme tu t&#8217;en doutes, est un tableau de courses à afficher.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">setup() {
  const races = ref([
    { id: 1, name: 'Lyon' },
    { id: 2, name: 'Amsterdam' }
  ]);
  return {
    races,
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nous pouvons afficher ce tableau de courses avec <code>v-for</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li v-for="race in races"&gt;{{ race.name }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que tu peux utiliser <code>in</code> ou <code>of</code> indifféremment&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li v-for="race of races"&gt;{{ race.name }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et cela nous donne une jolie liste à puces,
avec un élément <code>li</code> pour chaque course de notre tableau&#160;!</p>
</div>
<div class="paragraph">
<p>Si un nouvel élément est ajouté à la collection,
Vue le détectera et ajoutera automatiquement
un nouveau <code>li</code>.
Et, évidemment, la liste sera aussi mise à jour si le tableau est
réordonné ou si des éléments sont supprimés du tableau.</p>
</div>
<div class="paragraph">
<p>Note qu&#8217;il est recommandé d&#8217;aider Vue à traquer quel élément du tableau
correspond à quel élément du DOM.
Nous reviendrons là-dessus en détails plus tard, mais
pour l&#8217;instant, sache que tu peux utiliser un
<em>binding</em> <code>:key</code> pour aider Vue à identifier fonctionnellement
un élément du tableau.
Dans notre cas, l&#8217;identifiant de la course est le meilleur candidat&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li v-for="race in races" :key="race.id"&gt;{{ race.name }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li&gt;Lyon&lt;/li&gt;
  &lt;li&gt;Amsterdam&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il est possible de connaître l&#8217;index de l&#8217;élément courant à l&#8217;intérieur d&#8217;un <code>v-for</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li v-for="(race, index) in races" :key="race.id"&gt;{{ index }} - {{ race.name }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les parenthèses sont optionnelles, mais je trouve ça plus clair lorsqu&#8217;elles sont présentes.
<code>index</code> contient l&#8217;index de l&#8217;élément courant, commençant à 0.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li&gt;0 - Lyon&lt;/li&gt;
  &lt;li&gt;1 - Amsterdam&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Itérer sur un tableau est de loin l&#8217;usage le plus courant de <code>v-for</code>,
mais tu peux aussi t&#8217;en servir pour itérer sur les propriétés d&#8217;un objet&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li v-for="(pony, position) in podium" :key="position"&gt;{{ position }}: {{ pony }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>où <code>podium</code> est défini ainsi dans le <code>setup</code> du composant&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">setup() {
  const podium = ref({
    gold: 'Rainbow Dash',
    silver: 'Pinkie Pie',
    bronze: 'Sweet Milk'
  });
  return {
    podium,
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;index de la propriété est également accessible&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li v-for="(pony, position, index) in podium" :key="position"&gt;{{ index + 1 }} - {{ position }}: {{ pony }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li&gt;1 - gold: Rainbow Dash&lt;/li&gt;
  &lt;li&gt;2 - silver: Pinkie Pie&lt;/li&gt;
  &lt;li&gt;3 - bronze: Sweet Milk&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sois prudent cependant&#160;: si l&#8217;objet vient du serveur, en JSON, il n&#8217;y a pas
de garantie sur l&#8217;ordre des propriétés de l&#8217;objet.
En général, il est préférable d&#8217;utiliser un tableau lorsque l&#8217;ordre
a de l&#8217;importance.</p>
</div>
<div class="paragraph">
<p>Tu peux aussi itérer sur un intervalle très facilement&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li v-for="number in 3" :key="number"&gt;{{ number }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que l&#8217;intervalle commence à <code>1</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li&gt;1&lt;/li&gt;
  &lt;li&gt;2&lt;/li&gt;
  &lt;li&gt;3&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_du_contenu_html_avec_v_html">10.5. Du contenu HTML avec <code>v-html</code></h3>
<div class="paragraph">
<p>Si tu veux afficher du contenu HTML, ta première intuition sera sans doute
de faire&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;{{ dynamicHTML }}&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>avec&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">setup() {
  return {
    dynamicHTML: ref('&lt;strong&gt;Cédric&lt;/strong&gt;')
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais cela ne fonctionnera pas&#160;: le <em>code source</em> du HTML sera affiché&#8230;&#8203;
On peut cependant faire un <em>rendu</em> d&#8217;un contenu HTML en utilisant la propriété <code>innerHTML</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div :innerHTML="dynamicHTML"&gt;&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ou, plus simplement, en utilisant la directive <code>v-html</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div v-html="dynamicHTML"&gt;&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Attention cependant&#160;! Le contenu n&#8217;est pas interprété par Vue.
Donc les interpolations ou les directives que pourraient contenir ce contenu HTML
seront complètement ignorées par Vue.
Il s&#8217;agit aussi évidemment d&#8217;être particulièrement prudent
avec ce genre de contenu dynamique HTML&#160;: s&#8217;il ne provient pas d&#8217;une source fiable,
tu risques de gros problèmes de sécurité.</p>
</div>
</div>
<div class="sect2">
<h3 id="_du_contenu_non_interprété_v_pre">10.6. Du contenu non interprété <code>v-pre</code></h3>
<div class="paragraph">
<p>Presque à l&#8217;inverse de <code>v-html</code>,
<code>v-pre</code> permet précisément d&#8217;inclure dans le template du HTML statique qui ne doit
pas être interprété par Vue, par exemple de l&#8217;interpolation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div v-pre&gt;{{ hello }}&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>affichera&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;{{ hello }}&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_autres_directives">10.7. Autres directives</h3>
<div class="paragraph">
<p>Il existe 3 autres directives natives.
La première est <code>v-cloak</code>, qui permet de masquer un template tant que Vue
est en train de le compiler.
Mais cette directive n&#8217;est pas nécessaire si l&#8217;on utilise Vite ou la CLI,
parce qu&#8217;aucun template ne sera de toute façon affiché avant d&#8217;être compilé.</p>
</div>
<div class="paragraph">
<p>Les deux autres, <code>v-model</code> et <code>v-slot</code>, sont plus importantes.
Nous y reviendrons dans les chapitres suivants&#160;: elles méritent
des explications détaillées.
Suspense, suspense&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>En attendant, nous avons un exercice pour toi&#160;!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaie notre troisième exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/3/races-list">List of races</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>&#160;!
Il est gratuit, et fait partie de notre Pack Pro,
où tu apprendras par la pratique à construire une application complète pas à pas.
Cet exercice te guide dans la construction d&#8217;un autre composant&#160;: la liste des courses.
Ce qui semble être un bon cas d&#8217;usage pour <code>v-for</code>&#160;!</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-components">11. Créer des composants</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Depuis Vue 3, il y a plusieurs façons de créer des composants.
Ce livre utilise la nouvelle <em>Composition API</em> introduite par Vue 3.
Si tu as utilisé Vue 1 ou Vue 2 auparavant, l'<em>Options API</em>
t&#8217;est sûrement plus familière.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Jusqu&#8217;à présent, nous nous sommes principalement concentrés
sur les templates, sans trop se soucier de comment on écrit
le composant lui-même.
Mais nous avons déjà mentionné l&#8217;importance des
<em>propriétés réactives</em> pour que Vue mette à jour le DOM
lorsque l&#8217;état du composant change.</p>
</div>
<div class="paragraph">
<p>Le principe fondamental de Vue est de se baser sur des templates
déclaratifs, affichant les données exposées par le composant
et rafraîchissant la vue chaque fois que les données changent.
Pour que la magie de Vue puisse opérer,
le framework doit être conscient des changements apportés
aux données affichées par le template.
Certains frameworks, comme Angular, détectent les changements chaque fois
qu&#8217;un événement se produit en comparant les nouvelles valeurs des
expressions utilisées dans le template avec leur valeur précédente.
Vue utilise une stratégie différente.
Il utilise ce qu&#8217;il appelle des "propriétés réactives" (<em>reactive properties</em>).</p>
</div>
<div class="paragraph">
<p>Les propriétés réactives sont des propriétés qui sont capables
de signaler qu&#8217;elles ont été modifiées.
En rendant les propriétés réactives,
on permet à Vue d&#8217;être averti des changements
apportés à ces propriétés, ce qui lui permet de mettre à jour le DOM
quand c&#8217;est nécessaire.</p>
</div>
<div class="paragraph">
<p>Voyons cela un peu plus en détails.</p>
</div>
<div class="sect2">
<h3 id="_une_propriété_réactive_avec_ref">11.1. Une propriété réactive avec <code>ref</code></h3>
<div class="paragraph">
<p>Vue 3 introduit une fonction <code>ref</code>
que tu peux utiliser pour définir une propriété réactive.
Vue mettra ainsi la vue à jour lorsque la <code>value</code>
de la <code>ref</code> change, sans que tu aies à faire quoi que ce soit.
On peut utiliser la propriété <code>ref</code> dans le template directement&#160;:
Vue en extraira la <code>value</code> automatiquement&#160;:</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;Ponyracer&lt;/h1&gt;
    &lt;h2&gt;{{ numberOfUsers }} users&lt;/h2&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent, ref } from 'vue';

export default defineComponent({
  name: 'App',

  setup() {
    const numberOfUsers = ref(146);
    // update the counter after 3 seconds
    setTimeout(() =&gt; (numberOfUsers.value = 147), 3000);
    return { numberOfUsers };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;intérêt de TypeScript et de son inférence de type est notoire ici&#160;:
<code>numberOfUsers</code> est de type <code>Ref&lt;number&gt;</code>.
Donc si tu tentes d&#8217;écrire <code>numberOfUsers = 147</code>
ou <code>numberOfUsers.value = 'hello'</code>,
TypeScript te préviendra gentiment que ça n&#8217;a pas de sens 😀.</p>
</div>
</div>
<div class="sect2">
<h3 id="_une_propriété_réactive_avec_reactive">11.2. Une propriété réactive avec <code>reactive</code></h3>
<div class="paragraph">
<p><code>ref</code> est pratique pour travailler avec des valeurs primitives.
Il n&#8217;y a pas d&#8217;autre moyen pour rendre une valeur primitive réactive
que de l&#8217;envelopper dans un objet.
Mais, lorsque l&#8217;on travaille déjà avec des objets,
c&#8217;est un peu pénible d&#8217;avoir à toujours écrire <code>.value.property</code>
pour modifier la valeur d&#8217;une propriété de l&#8217;objet&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export default defineComponent({
  name: 'Pony',

  setup() {
    const pony = ref({
      name: 'Rainbow Dash',
      color: 'GREEN'
    });
    // update the name after 3 seconds
    setTimeout(() =&gt; {
      pony.value.name = 'Pinkie Pie';
    }, 3000);
    return { pony };
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;idéal serait de rendre l&#8217;objet lui-même réactif.
C&#8217;est ici que la fonction <code>reactive()</code> aide&#160;!
Elle est similaire à <code>ref</code> dans le sens qu&#8217;elle permet de définir des
propriétés réactives.
Et Vue va donc observer les changements et rafraîchir la vue en conséquence.</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export default defineComponent({
  name: 'Pony',

  setup() {
    const pony = reactive({
      name: 'Rainbow Dash',
      color: 'GREEN'
    });
    // update the name after 3 seconds
    setTimeout(() =&gt; {
      pony.name = 'Pinkie Pie';
    }, 3000);
    return { pony };
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir, plus besoin de l&#8217;indirection <code>.value</code> ici.
Tu peux modifier l&#8217;état de l&#8217;objet de manière naturelle,
et tu peux toujours utiliser <code>{{ pony.name }}</code> dans le template&#160;!</p>
</div>
<div class="paragraph">
<p>Le truc cool, c&#8217;est que l&#8217;effet est récursif&#160;: les sous-propriétés des
propriétés de l&#8217;objet sont elles aussi réactives&#160;!</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export default defineComponent({
  name: 'Pony',

  setup() {
    const pony = reactive({
      name: 'Rainbow Dash',
      color: 'GREEN',
      origin: {
        country: 'FRANCE'
      }
    });
    // update the country of origin after 3 seconds
    setTimeout(() =&gt; {
      pony.origin.country = 'GERMANY';
    }, 3000);
    return { pony };
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cela a le même effet sur les collections et leurs éléments,
aussi bien présents que futurs&#160;: si l&#8217;on ajoute une nouvelle propriété
à un objet réactif ou un nouvel élément à l&#8217;une de ses collections,
le nouvel objet sera, lui aussi, réactif.
Cela n&#8217;était pas le cas dans Vue 2.x, et en constituait l&#8217;une de ses limitations.
Nous expliquerons comment c&#8217;est devenu possible avec Vue 3 dans un prochain chapitre.</p>
</div>
<div class="paragraph">
<p>Il peut dès lors être tentant d&#8217;envelopper les propriétés primitives du
composant dans un objet, et d&#8217;éviter ainsi les usages de <code>ref()</code> and <code>.value</code>.
On utilise alors <code>reactive()</code> dans tous les cas.
C&#8217;est un choix parfaitement valide.</p>
</div>
<div class="paragraph">
<p>Construisons un composant <code>Product</code>.</p>
</div>
<div class="paragraph">
<p>Au lieu de&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Product.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;{{ price }} * {{ quantity }}&lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent, ref } from 'vue';

export default defineComponent({
  name: 'Product',

  setup() {
    const price = ref(10);
    const quantity = ref(1);
    // update the price and quantity after 3 seconds
    setTimeout(() =&gt; {
      price.value = 9;
      quantity.value = 3;
    }, 3000);
    return { price, quantity };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>tu peux utiliser un objet enveloppant et le rendre réactif avec <code>reactive()</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Product.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;{{ state.price }} * {{ state.quantity }}&lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent, reactive } from 'vue';

export default defineComponent({
  name: 'Product',

  setup() {
    const state = reactive({
      price: 10,
      quantity: 1
    });
    // update the price and quantity after 3 seconds
    setTimeout(() =&gt; {
      state.price = 9;
      state.quantity = 3;
    }, 3000);
    return { state };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Attention"></i>
</td>
<td class="content">
Tu pourrais alors être tenté de déstructurer l&#8217;objet <code>state</code>
pour utiliser <code>price</code> et <code>quantity</code> directement dans le template
au lieu de <code>state.price</code> and <code>state.quantity</code>.
Mais cela casserait la réactivité de ces propriétés,
et le template ne verrait plus aucun des changements apportés à <code>state</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ainsi, ceci ne fonctionne pas&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Product.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;{{ price }} * {{ quantity }}&lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent, reactive } from 'vue';

export default defineComponent({
  name: 'Product',

  setup() {
    const state = reactive({
      price: 10,
      quantity: 1
    });
    // update the price and quantity after 3 seconds
    setTimeout(() =&gt; {
      state.price = 9;
      state.quantity = 3;
    }, 3000);
    // destructure the state
    // to use price and quantity directly in the template
    return { ...state };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais tout n&#8217;est pas perdu&#160;:
Vue contient une fonction <code>toRefs</code> qui permet de transformer
un objet réactif en références réactives&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Product.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;{{ price }} * {{ quantity }}&lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent, reactive, toRefs } from 'vue';

export default defineComponent({
  name: 'Product',

  setup() {
    const state = reactive({
      price: 10,
      quantity: 1
    });
    // update the price and quantity after 3 seconds
    setTimeout(() =&gt; {
      state.price = 9;
      state.quantity = 3;
    }, 3000);
    // use toRefs to destructure the state
    return { ...toRefs(state) };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ref_ou_reactive">11.3. <code>ref</code> ou <code>reactive</code></h3>
<div class="paragraph">
<p>Alors lequel choisir&#160;?
Comme ils sont assez similaires, c&#8217;est, dans la plupart des cas,
plutôt une affaire de goût personnel.
Voici cependant quelque chose qui nous a aidé à comprendre&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">ref(obj) ~= reactive({ value: obj })</code></pre>
</div>
</div>
<div class="paragraph">
<p>Une <code>ref</code> à un objet est pratiquement
la même chose qu&#8217;une propriété <code>reactive</code>
contenant une <code>value</code> avec cet objet.
Si c&#8217;est difficile à saisir sous cette forme, pas de souci&#160;:
cela nous a pris longtemps pour comprendre nous-même 😅.</p>
</div>
<div class="paragraph">
<p>Voici quelques exemples, qui pourront peut-être t&#8217;aider.</p>
</div>
<div class="sect3">
<h4 id="_avec_des_primitives">11.3.1. Avec des primitives</h4>
<div class="paragraph">
<p>Pas besoin de réfléchir à deux fois, il faut ici une <code>ref</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const name = ref('Cédric');
name.value = 'Cyril';

const isAdmin = ref(false);
isAdmin.value = true;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_avec_des_tableaux">11.3.2. Avec des tableaux</h4>
<div class="paragraph">
<p>Les tableaux fonctionnent avec les deux,
mais ne peuvent être ré-assignés qu&#8217;avec une <code>ref</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const users = ref&lt;Array&lt;string&gt;&gt;([]);
users.value.push('Cédric');
users.value = ['JB']; // can be re-assigned</code></pre>
</div>
</div>
<div class="paragraph">
<p>Avec <code>reactive</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const otherUsers = reactive&lt;Array&lt;string&gt;&gt;([]);
// you don't have to write `.value` anymore
otherUsers.push('Cédric');
// but we can't re-assign the array</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_avec_des_objets">11.3.3. Avec des objets</h4>
<div class="paragraph">
<p>C&#8217;est très proche de ce que nous avions avec des tableaux.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const admin = ref({ name: 'Cédric' });
admin.value.name = 'JB';
admin.value = { name: 'Agnès' };</code></pre>
</div>
</div>
<div class="paragraph">
<p>Avec <code>reactive</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const otherAdmin = reactive({ name: 'Cédric' });
// you don't have to write `.value` anymore
otherAdmin.name = 'JB';
// but we can't re-assign the object</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu le vois, tu ne peux pas vraiment te tromper.
Dans le futur, il y aura potentiellement une recommandation officielle,
mais pour l&#8217;instant, choisi celui que tu préfères 😉.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dériver_une_valeur_avec_computed">11.4. Dériver une valeur avec <code>computed</code></h3>
<div class="paragraph">
<p>Il est assez fréquent de devoir recalculer une valeur
à chaque fois qu&#8217;une autre valeur change.
Par exemple, dans le composant <code>Product</code> que nous venons d&#8217;utiliser,
il serait pratique de calculer <code>total</code>,
chaque fois que <code>price</code> ou <code>quantity</code> change.</p>
</div>
<div class="paragraph">
<p>Vue rend cela très simple grâce à la fonction <code>computed()</code>.
<code>computed</code> prend une fonction <em>getter</em> en argument et renvoie
une référence (en lecture seule)&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Product.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;{{ price }} * {{ quantity }} = {{ total }}&lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { computed, defineComponent, reactive, toRefs } from 'vue';

export default defineComponent({
  name: 'Product',

  setup() {
    const state = reactive({
      price: 10,
      quantity: 1
    });

    const total = computed(() =&gt; state.price * state.quantity);

    // update the price and quantity after 3 seconds
    setTimeout(() =&gt; {
      state.price = 9;
      state.quantity = 3;
    }, 3000);

    return { ...toRefs(state), total };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Vue détecte les propriétés réactives dont dépend la valeur de <code>total</code>,
et les observe afin de recalculer <code>total</code>. Chaque fois que l&#8217;une d&#8217;elles
change, il exécute la fonction <em>getter</em> pour assigner une nouvelle
valeur à <code>total</code>.</p>
</div>
<div class="paragraph">
<p>Cela ne fonctionne qu&#8217;avec des propriétés réactives&#160;:
si <code>state</code> n&#8217;était pas un objet réactif,
mais un simple objet,
la <em>computed property</em> ne serait jamais réévaluée.</p>
</div>
<div class="paragraph">
<p>Les propriétés calculées sont évaluées à la demande&#160;:
si une propriété calculée n&#8217;est jamais affichée ou utilisée ailleurs,
alors Vue ne la recalcule même pas.</p>
</div>
</div>
<div class="sect2">
<h3 id="_produire_un_effet_de_bord_avec_watcheffect_et_watch">11.5. Produire un effet de bord avec <code>watchEffect</code> et <code>watch</code></h3>
<div class="paragraph">
<p>Parfois, il est nécessaire de savoir quand une propriété change,
mais pas nécessairement pour en calculer une autre.</p>
</div>
<div class="paragraph">
<p>Par exemple, on pourrait vouloir
produire un effet de bord quand une propriété change.</p>
</div>
<div class="paragraph">
<p>L&#8217;exemple typique est une page de recherche,
qui doit demander de nouveaux résultats au serveur chaque fois
que l&#8217;utilisateur saisit une nouvelle requête.
Ou, si l&#8217;on reprend l&#8217;exemple du composant <code>Product</code>,
nous pourrions vouloir tracer chaque changement subi par la propriété
<code>total</code>.</p>
</div>
<div class="paragraph">
<p>C&#8217;est ce que permet de faire la fonction <code>watchEffect</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Product.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const total = computed(() =&gt; state.price * state.quantity);

const totalHistory = ref&lt;Array&lt;string&gt;&gt;([]);
watchEffect(
  // this is the effect called when one of its dependencies changes
  () =&gt; {
    totalHistory.value.push(`Total changed to ${total.value}`);
  }
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir, on peut définir un effet de bord à exécuter,
et Vue va automatiquement surveiller les dépendances de l&#8217;effet,
et le ré-exécuter dès qu&#8217;une des dépendances change.</p>
</div>
<div class="paragraph">
<p>On peut également accéder à la nouvelle valeur de la propriété,
mais aussi à l&#8217;ancienne si nécessaire,
en utilisant <code>watch</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Product.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const total = computed(() =&gt; state.price * state.quantity);

const totalHistory = ref&lt;Array&lt;string&gt;&gt;([]);
watch(
  // this is the source of the watcher
  () =&gt; total.value,
  // this is the callback called when the source changes
  (newTotal, oldTotal) =&gt; {
    totalHistory.value.push(`Total changed from ${oldTotal} to ${newTotal}`);
  },
  // a watcher with a source is lazy by default
  // whereas a watcher with just an effect and no source is not
  // but we can make it run immediately with this option
  { immediate: true }
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il est aussi possible d&#8217;observer un tableau de valeur, pour produire un effet
de bord lorsqu&#8217;une quelconque des propriétés du tableau change.
Note que, par défaut, <code>watch</code> est <em>lazy</em> (fainéant)
et ne s&#8217;exécutera pas immédiatement,
alors que <code>watchEffect</code> sera lui exécuté directement
(car Vue a besoin d&#8217;exécuter l&#8217;effet afin de déterminer les dépendances réactives
qu&#8217;il a besoin de surveiller, alors qu&#8217;on les définit manuellement avec <code>watch</code>).</p>
</div>
<div class="paragraph">
<p><code>watch</code> est du coup aussi très pratique si tu as besoin de n&#8217;exécuter l&#8217;effet
que pour certains changements, et non pas dès que n&#8217;importe laquelle des dépendances change
(comme c&#8217;est le cas avec <code>watchEffect</code>).</p>
</div>
<div class="paragraph">
<p>Si nécessaire, tu peux arrêter le <em>watcher</em> en appelant la fonction retournée par
<code>watch</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Product.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const stopRecording = watchEffect(() =&gt; {
  totalHistory.value.push(`Total changed to ${total.value}`);
});

function stop() {
  stopRecording();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il est aussi possible de demander au watcher de faire un peu de ménage
lorsqu&#8217;il s&#8217;arrête&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Product.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const stopRecording = watchEffect(
  // the effect takes a parameter
  // which is a function called when the watcher is stopped
  onCleanup =&gt; {
    totalHistory.value.push(`Total changed to ${total.value}`);
    // clean the history when stop watching
    onCleanup(() =&gt; (totalHistory.value = []));
  }
);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_passer_des_props_aux_composants">11.6. Passer des <code>props</code> aux composants</h3>
<div class="paragraph">
<p>Construisons un composant <code>Race</code>, qui affiche les poneys
engagés dans la course.</p>
</div>
<div class="paragraph">
<p>Un tel composant peut ressembler à ça&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Race.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;{{ name }}&lt;/h1&gt;
    &lt;div&gt;
      &lt;h2&gt;{{ pony1.name }}&lt;/h2&gt;
      &lt;small&gt;{{ pony1.color }}&lt;/small&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;h2&gt;{{ pony2.name }}&lt;/h2&gt;
      &lt;small&gt;{{ pony2.color }}&lt;/small&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;h2&gt;{{ pony3.name }}&lt;/h2&gt;
      &lt;small&gt;{{ pony3.color }}&lt;/small&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent, reactive, ref } from 'vue';

export default defineComponent({
  name: 'Race',

  setup() {
    const name = ref('Paris');
    const pony1 = reactive({
      name: 'Rainbow Dash',
      color: 'BLUE'
    });
    const pony2 = reactive({
      name: 'Pinkie Pie',
      color: 'PINK'
    });
    const pony3 = reactive({
      name: 'Fluttershy',
      color: 'YELLOW'
    });
    return { name, pony1, pony2, pony3 };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le template est plein de copié-collés&#8230;&#8203;
Si l&#8217;on décide de changer la manière dont on affiche la couleur d&#8217;un poney,
il faut penser à le faire 3 fois.
Dans une application plus complexe, tu comprends vite que la situation
est loin d&#8217;être idéale.</p>
</div>
<div class="paragraph">
<p>Tu m&#8217;objecteras sans doute qu&#8217;il suffirait d&#8217;utiliser un tableau
de poneys, et de les afficher tous les trois avec <code>v-for</code>.
Et tu aurais raison.
Mais supposons maintenant qu&#8217;il faille afficher le gagnant de
la course en haut du template, dans une section à part&#160;?
<code>v-for</code> ne nous est plus d&#8217;aucun secours ici.
Il nous faut donc une meilleure solution pour garder notre
code <em>DRY</em>.</p>
</div>
<div class="paragraph">
<p>Mais nous avons appris que l&#8217;on pouvait utiliser un composant
à l&#8217;intérieur d&#8217;un autre composant.
Extraire un plus petit composant réutilisable est la bonne
manière de résoudre ce problème.
On comprend vite ici qu&#8217;un composant <code>Pony</code> nous sauverait.
Une fois créé, on n&#8217;aurait plus qu&#8217;à utiliser
un élément <code>&lt;Pony /&gt;</code> dans le template
du composant <code>Race</code> chaque fois que l&#8217;on veut afficher un poney,
et donc éviter les copié-collés&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Race.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;{{ name }}&lt;/h1&gt;
    &lt;Pony /&gt;
    &lt;Pony /&gt;
    &lt;Pony /&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais&#8230;&#8203; comment dire à chaque poney quel nom et quelle couleur il doit afficher&#160;? 🤔</p>
</div>
<div class="paragraph">
<p>C&#8217;est ici que les <code>props</code> entrent en jeu&#160;!</p>
</div>
<div class="paragraph">
<p>Dans un composant, tu peux définir des <code>props</code>
afin de pouvoir recevoir des données du composant parent.
Ces <code>props</code> deviennent partie intégrante de l&#8217;état du composant.</p>
</div>
<div class="paragraph">
<p>Ainsi, le composant <code>Pony</code> devrait ressembler à cela&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;
    &lt;h2&gt;{{ name }}&lt;/h2&gt;
    &lt;small&gt;{{ color }}&lt;/small&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent } from 'vue';

export default defineComponent({
  name: 'Pony',

  props: {
    name: String,
    color: String
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir, l&#8217;objet définissant le composant
a une propriété <code>props</code>, qui est un objet définissant
tout ce que le composant accepte de recevoir de son parent.
Pour chaque <em>prop</em> , on spécifie le type de la propriété.
Bizarrement, on ne peut pas utiliser les types TypeScript ici&#160;:
cette API existe depuis longtemps, avant que le support de TypeScript
soit introduit, et Vue ne supporte que les "types" JavaScript&#160;:
<code>String</code>, <code>Number</code>, <code>Boolean</code>, <code>Date</code>, <code>Function</code>,
<code>Symbol</code>, <code>Object</code> et <code>Array</code>.
Nous verrons plus tard comment améliorer cela.</p>
</div>
<div class="paragraph">
<p>À l&#8217;exécution, Vue vérifie les valeurs passées par le parent pour chaque <em>prop</em> .
Si une valeur ne correspond pas au type attendu,
La console affiche un avertissement comme celui-ci&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">'[Vue warn]: Invalid prop: type check failed for prop "ponyModel". Expected Object, got Number with value 2.'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si tu examines le code source du composant <code>Pony</code>,
tu verras que l&#8217;on peut utiliser les <em>props</em> directement dans le template.</p>
</div>
<div class="paragraph">
<p>Maintenant, comment le composant parent peut-il passer des valeurs
au composant <code>Pony</code>&#160;?
Revenons au composant <code>Race</code>&#160;:
on peut utiliser simplement <code>&lt;Pony name="Rainbow Dash" color="BLUE" /&gt;</code>
si les valeurs des <em>props</em> sont statiques.
Si elles sont dynamiques&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Race.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;{{ name }}&lt;/h1&gt;
    &lt;Pony :name="pony1.name" :color="pony1.color" /&gt;
    &lt;Pony :name="pony2.name" :color="pony2.color" /&gt;
    &lt;Pony :name="pony3.name" :color="pony3.color" /&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Si tu veux passer un nombre, un booléen, un tableau, etc.,
tu <em>dois</em> utiliser <code>v-bind:</code>, même pour une valeur statique.
Autrement, Vue passera toujours une string&#160;:
<code>&lt;Pony speed="16" isRunning="false" /&gt;</code> passerait
<code>"16"</code> pour la vitesse et <code>"false"</code> pour le booléen <code>isRunning</code>,
au lieu de <code>16</code> et <code>false</code>. Pour passer le booléen <code>true</code> en revanche,
il suffit de ne pas spécifier de valeur pour l&#8217;attribut&#160;: <code>&lt;Pony isRunning /&gt;</code>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>La situation est déjà bien meilleure, mais on peut faire mieux.
Au lieu de passer chaque valeur individuellement
au composant <code>Pony</code>, on peut passer directement l&#8217;objet
contenant toutes ces valeurs&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Race.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;{{ name }}&lt;/h1&gt;
    &lt;Pony :ponyModel="pony1" /&gt;
    &lt;Pony :ponyModel="pony2" /&gt;
    &lt;Pony :ponyModel="pony3" /&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il nous suffit pour cela de spécifier une unique <em>prop</em>
dans le composant <code>Pony</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { defineComponent } from 'vue';

export default defineComponent({
  name: 'Pony',

  props: {
    ponyModel: Object
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est pratique et logique, mais on perd ainsi une information
très utile&#160;: le type de l&#8217;objet.
On <em>sait</em> que <code>ponyModel</code> n&#8217;est pas n&#8217;importe quel objet, mais
qu&#8217;il s&#8217;agit d&#8217;une entité bien précise de notre application,
définie par l&#8217;interface <code>PonyModel</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">PonyModel.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export interface PonyModel {
  id: number;
  name: string;
  color: string;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour résoudre ce problème de typage, on peut utiliser le type
<code>PropType&lt;T&gt;</code> pour spécifier le type de la <em>prop</em> &#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { defineComponent, PropType } from 'vue';
import { PonyModel } from '@/models/PonyModel';

export default defineComponent({
  name: 'Pony',

  props: {
    ponyModel: Object as PropType&lt;PonyModel&gt;
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>À présent que cette <em>prop</em>  est correctement typée,
il est beaucoup plus simple et robuste de l&#8217;utiliser dans le code du
composant, comme on va le voir bientôt.</p>
</div>
<div class="sect3">
<h4 id="_props_obligatoires">11.6.1. Props obligatoires</h4>
<div class="paragraph">
<p>Vue permet de définir qu&#8217;une <em>prop</em>  est obligatoire&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">props: {
  ponyModel: {
    type: Object as PropType&lt;PonyModel&gt;,
    required: true
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La déclaration de la <em>prop</em> est un peu plus verbeuse&#160;:
au lieu d&#8217;utiliser <code>prop: type</code> on utilise à présent <code>prop: { type: type, required: true }</code>.
En marquant la <em>prop</em> obligatoire,
on demande à Vue de faire une vérification supplémentaire à l&#8217;exécution,
lorsque le composant est utilisé,
et de lever une erreur pour signaler que l&#8217;on a oublié de passer
une valeur requise.
Le message d&#8217;erreur prend cette forme&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">'[Vue warn]: Missing required prop: "ponyModel"'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_props_avec_des_valeurs_par_défaut">11.6.2. Props avec des valeurs par défaut</h4>
<div class="paragraph">
<p>On peut aussi donner une valeur par défaut à une <em>prop</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">props: {
  ponyModel: {
    type: Object as PropType&lt;PonyModel&gt;,
    default: () =&gt; ({
      name: 'Rainbow Dash',
      color: 'BLUE'
    })
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme cette <em>prop</em> est un objet, il faut en réalité
fournir une fonction de fabrique comme valeur par défaut.
Pour une valeur primitive comme un nombre, on utiliserait simplement
<code>default: 42</code> par exemple.</p>
</div>
</div>
<div class="sect3">
<h4 id="_props_avec_validateurs">11.6.3. Props avec validateurs</h4>
<div class="paragraph">
<p>Dernière possibilité, mais pas la moindre&#160;: on peut définir un
validateur pour une <em>prop</em>.
Par exemple, pour s&#8217;assurer qu&#8217;une valeur supérieure à 5
est toujours passée pour la <em>prop</em> <code>speed</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">speed: {
  type: Number,
  validator: (speed: number) =&gt; speed &gt; 5
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>À l&#8217;exécution, Vue valide que la <em>prop</em> obéit bien à la règle de validation,
et émet un avertissement si ce n&#8217;est pas le cas&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">'[Vue warn]: Invalid prop: custom validator check failed for prop "speed".'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Depuis Vue 3.4, la fonction <code>validator</code> est appelée avec un deuxième argument
contenant toutes les <em>props</em> , ce qui permet de valider la valeur par rapport aux autres <em>props</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">min: {
  type: Number,
  required: true,
  validator: (value: number) =&gt; value &gt;= 0
},
max: {
  type: Number,
  required: true,
  validator: (value: number, props: { min: number }) =&gt; value &gt;= props.min
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Toutes ces vérifications (typage, présence obligatoire et validation)
sont omises quand l&#8217;application est exécutée en mode production.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_utiliser_des_props_dans_la_fonction_setup">11.6.4. Utiliser des props dans la fonction <code>setup</code></h4>
<div class="paragraph">
<p>Nous avons vu que les <strong>props</strong> pouvaient être utilisées dans le template,
mais comment les utiliser dans la fonction <code>setup()</code> dont nous
avons parlé plus tôt&#160;?</p>
</div>
<div class="paragraph">
<p>Eh bien en fait, le premier paramètre de la fonction <code>setup()</code>
peut être <code>props</code>&#160;!
Et on peut alors utiliser les <strong>props</strong> comme n&#8217;importe quelle autre propriété réactive&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">props: {
  ponyModel: {
    type: Object as PropType&lt;PonyModel&gt;,
    required: true
  }
},

setup(props) {
  const ponyImageUrl = computed(() =&gt; `images/pony-${props.ponyModel.color.toLowerCase()}.gif`);
  return { ponyImageUrl };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dans cet exemple, on définit une <em>computed property</em> <code>ponyImageUrl</code> qui se base
sur la <code>color</code> de la <em>prop</em> <code>ponyModel</code>.
Chaque fois que la valeur de la <em>prop</em> change, l&#8217;URL de l&#8217;image change aussi.</p>
</div>
<div class="paragraph">
<p>Et comme on a spécifié le type de la <em>prop</em>,
le compilateur TypeScript sait que <code>props.ponyModel</code>
est de type <code>PonyModel</code>. 😎</p>
</div>
<div class="paragraph">
<p>Note que les <code>props</code> sont en lecture seule&#160;:
tu ne peux pas les modifier dans le composant
qui reçoit la <em>prop</em>. En revanche, le composant parent, qui
fournit la <em>prop</em> , peut en changer sa valeur, bien sûr.
Alors, comment faire pour modifier une <em>prop</em>
qui nous est fournie par le parent&#160;? On utilise un événement&#160;!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Mise en pratique"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaye nos exercices
<a href="https://vue-exercises.ninja-squad.com/exercises/4/race-detail">Détail d&#8217;une course</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>
et
<a href="https://vue-exercises.ninja-squad.com/exercises/5/computed-properties">Propriétés calculées</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAo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" alt="Free" width="18"></span>&#160;!
Ces exercises vont te guider dans la construction d&#8217;un composant avancé
avec des <em>props</em> et <em>computed properties</em>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_des_événements_spécifiques_avec_emit">11.7. Des événements spécifiques avec <code>emit</code></h3>
<div class="paragraph">
<p>L&#8217;objet <code>props</code> ne peut pas être modifié par le composant enfant, qui le reçoit.
Tu <em>peux</em> modifier le <em>contenu</em> d&#8217;une <em>prop</em> si c&#8217;est un objet ou un tableau,
mais c&#8217;est considéré comme une mauvaise pratique.
Lorsqu&#8217;un composant veut notifier son parent
que quelque chose doit être changé, cependant, il peut émettre un événement.
Le parent peut écouter cet événement et mettre à jour son état en conséquence.</p>
</div>
<div class="paragraph">
<p>Par exemple, le composant <code>Pony</code> peut recevoir une <em>prop</em> <code>ponyModel</code>,
et peut émettre un événement <code>selected</code>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMTY4JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgMjYwIDE2OCcgd2lkdGg9JzI2MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMTY4JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzI2MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00zNS4wIDM1LjAgTDEyNS4wIDM1LjAgTDEyNS4wIDYzLjAgTDM1LjAgNjMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J00zNS4wIDEwNS4wIEwxMjUuMCAxMDUuMCBMMTI1LjAgMTMzLjAgTDM1LjAgMTMzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMzUuMCAzNS4wIEwxMjUuMCAzNS4wIEwxMjUuMCA2My4wIEwzNS4wIDYzLjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00zNS4wIDEwNS4wIEwxMjUuMCAxMDUuMCBMMTI1LjAgMTMzLjAgTDM1LjAgMTMzLjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004MC4wIDg0LjAgTDg1LjAgOTguMCBMOTAuMCA4NC4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004NS4wIDYzLjAgTDg1LjAgOTEuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzYwJyB5PSc1NCc+PCFbQ0RBVEFbUmFjZV1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PScxMDUnIHk9JzgyJz48IVtDREFUQVtwcm9wIHBvbnlNb2RlbF1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNCcgc3Ryb2tlPSdub25lJyB4PSc2MScgeT0nMTI0Jz48IVtDREFUQVtQb255XV0+PC90ZXh0PjwvZz48L3N2Zz4=" alt="intro data flow" width="260" height="168">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMTY4JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgMjYwIDE2OCcgd2lkdGg9JzI2MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMTY4JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzI2MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00zNS4wIDM1LjAgTDEyNS4wIDM1LjAgTDEyNS4wIDYzLjAgTDM1LjAgNjMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J00zNS4wIDEwNS4wIEwxMjUuMCAxMDUuMCBMMTI1LjAgMTMzLjAgTDM1LjAgMTMzLjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMzUuMCAzNS4wIEwxMjUuMCAzNS4wIEwxMjUuMCA2My4wIEwzNS4wIDYzLjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00zNS4wIDEwNS4wIEwxMjUuMCAxMDUuMCBMMTI1LjAgMTMzLjAgTDM1LjAgMTMzLjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004NS4wIDcwLjAgTDgwLjAgODQuMCBMOTAuMCA4NC4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004NS4wIDc3LjAgTDg1LjAgMTA1LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc2MCcgeT0nNTQnPjwhW0NEQVRBW1JhY2VdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMTEwJyB5PSc5Nic+PCFbQ0RBVEFbZXZlbnQgc2VsZWN0ZWRdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTQnIHN0cm9rZT0nbm9uZScgeD0nNjEnIHk9JzEyNCc+PCFbQ0RBVEFbUG9ueV1dPjwvdGV4dD48L2c+PC9zdmc+" alt="intro event flow" width="260" height="168">
</div>
</div>
<div class="paragraph">
<p>Comment émet-on un événement&#160;?
Il s&#8217;avère que <code>setup(props)</code> peut recevoir un deuxième paramètre,
le <code>context</code>&#160;: <code>setup(props, context)</code>.
<code>context</code> est un objet qui contient plusieurs éléments,
sur lesquels nous reviendrons plus tard.
Pour l&#8217;instant, ce qui nous importe, c&#8217;est qu&#8217;il contient
une fonction <code>emit</code>. Traditionnellement, on y accède
en utilisant la déstructuration&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div @click="selectPony()"&gt;
    &lt;h2 :style="{ color: ponyModel.color }"&gt;{{ ponyModel.name }}&lt;/h2&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent, PropType } from 'vue';
import { PonyModel } from '@/models/PonyModel';

export default defineComponent({
  name: 'Pony',

  props: {
    ponyModel: {
      type: Object as PropType&lt;PonyModel&gt;,
      required: true
    }
  },

  emits: {
    // We declare that the only event emitted by the component will be 'selected'
    // and that the emitted value is of type `PonyModel`
    // The function is a validator of the event argument, checked by Vue in development mode
    selected: (pony: PonyModel) =&gt; pony.color !== 'PURPLE'
  },

  setup(props, { emit }) {
    function selectPony() {
      // we emit a 'selected' event containing the pony entity
      emit('selected', props.ponyModel);
    }

    return { selectPony };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
La propriété <code>emits</code> est optionnelle, mais pratique.
À la compilation, TypeScript vérifie que tu n&#8217;émets que des événements
déclarés dans la propriété <code>emits</code>
et que la valeur de l&#8217;événement est du type adéquat.
Dans cet exemple, la compilation échouerait
si tu tentais d&#8217;émettre un événement qui n&#8217;est pas nommé <code>selected</code>,
ou qui n&#8217;est pas un <code>PonyModel</code>.
À l&#8217;exécution, mais seulement pendant le développement,
Vue vérifie aussi que le prédicat fourni accepte les événements émis.
Si ce n&#8217;est pas le cas, l&#8217;événement sera émis,
mais tu verras un avertissement dans la console.
Dans cet exemple, un avertissement sera donc affiché si tu émets un poney violet.
Si tu ne veux pas valider la valeur de l&#8217;événement,
il suffit de retourner <code>true</code> dans cette fonction prédicat.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Comme tu peux le voir,
<code>emit</code> nous permet de passer le nom et la valeur (le <em>payload</em>) de l&#8217;événement
à émettre.
Il ne nous reste plus qu&#8217;à écouter cet événement dans le template du composant
parent, et à obtenir sa valeur si nécessaire en utilisant <code>$event</code>, exactement comme on le fait
avec des événements standards du DOM.</p>
</div>
<div class="paragraph">
<p>Le composant <code>Race</code> peut changer la couleur du poney
lorsqu&#8217;il est sélectionné, par exemple&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Race.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Pony :ponyModel="pony" @selected="changeColor(pony)" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>avec la fonction <code>changeColor</code> suivante, qui assigne une couleur aléatoire au poney&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Race.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function changeColor(pony: PonyModel) {
  pony.color = randomColor();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Maintenant, chaque fois que les utilisateurs cliquent
sur un poney, il émet un événement <code>selected</code>,
auquel le composant <code>Race</code> réagit en appelant <code>changeColor()</code>.
La couleur du poney sélectionné change,
et comme c&#8217;est une <em>prop</em> du composant <code>Pony</code>,
le composant se rafraîchit et affiche le poney dans sa nouvelle couleur&#160;!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Mise en pratique"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaye notre exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/6/pony-component">Composant Pony</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
pour construire un nouveau composant avec des événements spécifiques.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_fonctions_du_cycle_de_vie">11.8. Fonctions du cycle de vie</h3>
<div class="paragraph">
<p>Très souvent, il est nécessaire de faire un peu de travail lorsque le composant est initialisé.
La fonction <code>setup</code> est appelée lorsque le composant est créé, et définit
la majeure partie du processus d&#8217;initialisation.
Comment alors appeler une API afin de peupler une propriété
après l&#8217;affichage du template par exemple&#160;?
Les fonctions de cycle de vie peuvent aider dans ce cas.
On les utilise à l&#8217;intérieur de la fonction <code>setup</code>, toutes de la même manière&#160;:
elles acceptent une fonction callback, qui peut être <code>async</code>,
et qui sera appelée par Vue à un moment précis du cycle de vie du composant.
Nous verrons plus tard que la fonction <code>setup</code> elle-même
peut être asynchrone dans un cas précis.</p>
</div>
<div class="paragraph">
<p>Les principales fonctions, correspondant chacune à un moment de la vie du composant, sont&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>onBeforeMount</code>/<code>onMounted</code>,
appelée avant/après que le composant a été "monté", c&#8217;est-à-dire inséré dans le DOM
(y&#8217;a probablement une blague avec "monter le poney", mais restons concentrés)&#160;;</p>
</li>
<li>
<p><code>onBeforeUpdate</code>/<code>onUpdated</code>,
appelée avant/après que le composant a été modifié
(quelque chose a changé, et le DOM a été mis à jour)&#160;;</p>
</li>
<li>
<p><code>onBeforeUnmount</code>/<code>onUnmounted</code>,
appelée avant/après que le composant a été détruit
(enlevé du DOM)</p>
</li>
<li>
<p><code>onErrorCaptured</code>
appelée si une erreur survient dans l&#8217;un des composants descendants.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Voyons quelques exemples.</p>
</div>
<div class="sect3">
<h4 id="_initialiser_un_composant_avec_onmounted">11.8.1. Initialiser un composant avec <code>onMounted()</code></h4>
<div class="paragraph">
<p>Un usage très fréquent de <code>onMounted</code> est d&#8217;appeler une API asynchrone
afin d&#8217;initialiser une propriété réactive du composant.
Si <code>fetchRace()</code> est une fonction asynchrone
(et c&#8217;est le cas, puisqu&#8217;elle fait un appel HTTP au backend pour obtenir une course),
alors on peut écrire&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Race.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">props: {
  raceId: {
    type: Number,
    required: true
  }
},

setup(props) {
  const race = ref&lt;RaceModel | null&gt;(null);

  // we fetch the details of the race based on its ID
  onMounted(async () =&gt; {
    race.value = await fetchRace(props.raceId);
  });

  return { race };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>onMounted</code> peut aussi être utile si on veut
manipuler le DOM créé pour le composant, comme nous le verrons plus tard.</p>
</div>
</div>
<div class="sect3">
<h4 id="_faire_le_ménage_avec_onunmounted">11.8.2. Faire le ménage avec <code>onUnmounted()</code></h4>
<div class="paragraph">
<p>Une source fréquente de fuites mémoires dans les applications
est d&#8217;oublier d&#8217;arrêter des tâches récurrentes, qui tournent en tâche de fond.</p>
</div>
<div class="paragraph">
<p>Imaginons que nous voulions que le composant <code>Race</code>
rafraîchisse la course affichée toutes les 10 secondes.
Nous pourrions écrire&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Race.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">setup(props) {
  const race = ref&lt;RaceModel | null&gt;(null);

  onMounted(() =&gt; {
      // we fetch the details of the race based on its ID every 10s
      window.setInterval(async () =&gt; (race.value = await fetchRace(props.raceId)), 10000);
  });


  return { race };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais nous venons d&#8217;introduire un bug&#160;:
chaque fois que le composant est instancié,
il démarre une nouvelle tâche de fond, qui ne s&#8217;arrête jamais&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Au bout d&#8217;un moment, si les utilisateurs naviguent vers ce composant,
puis vers une autre page de l&#8217;application, puis de nouveau vers ce composant,
et ainsi de suite, le serveur va finir par s&#8217;écrouler sous le poids
des requêtes incessantes de mise à jour, et le navigateur va consommer bien plus
de mémoire et de bande passante que nécessaire.</p>
</div>
<div class="paragraph">
<p>On peut arrêter le processus avec <code>onUnmounted</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Race.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">setup(props) {
  const race = ref&lt;RaceModel | null&gt;(null);
  let intervalRef: number | undefined;

  onMounted(() =&gt; {
    intervalRef =
      // we fetch the details of the race based on its ID every 10s
      window.setInterval(async () =&gt; (race.value = await fetchRace(props.raceId)), 10000);
  });

  onUnmounted(() =&gt; {
    //we cancel the timeout
    window.clearInterval(intervalRef);
  });

  return { race };
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaye notre
<a href="https://vue-exercises.ninja-squad.com/exercises/7/quiz-components">quiz</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
pour voir si tu as tout compris&#160;!</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="composition-api">12. API Composition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nous avons déjà introduit l&#8217;API Composition
dans notre précédent chapitre sur la construction des composants.</p>
</div>
<div class="paragraph">
<p>Mais nous n&#8217;avons pas réellement expliqué en quoi elle permettait
d&#8217;améliorer la conception de nos composants. C&#8217;est ce que nous allons faire maintenant.
Et ensuite, nous verrons comment cette API permet aussi de partager du code
entre plusieurs composants.</p>
</div>
<div class="sect2">
<h3 id="_une_conception_propre_grâce_à_lapi_composition">12.1. Une conception propre grâce à l&#8217;API Composition</h3>
<div class="paragraph">
<p>Imaginons un composant <code>Order</code> permettant à un utilisateur
de commander un produit avec une quantité donnée.
Nous voulons afficher les informations concernant le produit,
ainsi que le prix total de la commande.
Nous voulons aussi permettre à l&#8217;utilisateur d&#8217;augmenter ou de baisser
la quantité.
Et, enfin, nous voulons tracer quand un composant est affiché
et quand il est détruit, pour des raisons analytiques.</p>
</div>
<div class="paragraph">
<p>Un tel composant peut ressembler à cela&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Order.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">setup(props) {
  const product = ref&lt;ProductModel | null&gt;(null);
  const quantity = ref(0);
  const price = computed(() =&gt; quantity.value * (product.value?.unitPrice ?? 0));

  onMounted(async () =&gt; {
    // log a trace that the user entered this page
    await trace('enter');
  });

  // fetch the product data on initialization and refresh them if the props change
  watchEffect(async () =&gt; {
    product.value = await getProduct(props.productId);
  });

  function increaseQuantity() {
    quantity.value += 1;
  }

  function decreaseQuantity() {
    if (quantity.value &gt; 0) {
      quantity.value -= 1;
    }
  }

  async function order() {
    // place the order
  }

  onUnmounted(async () =&gt; {
    // log a trace that the user left this page
    await trace('exit');
  });

  return { product, quantity, price, increaseQuantity, decreaseQuantity, order };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le code est compréhensible, mais les différents aspects sont tous
mélangés les uns avec les autres.</p>
</div>
<div class="paragraph">
<p>Dans Vue 2.x, cela aurait été pire.
En effet, l&#8217;API Composition, a été introduite avec Vue 3.0.
Auparavant, c&#8217;était l&#8217;API Options qu&#8217;il fallait utiliser (on peut toujours l&#8217;utiliser d&#8217;ailleurs),
et elle nécessitait de déclarer plusieurs options&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>les propriétés réactives dans l&#8217;option <code>data</code>&#160;;</p>
</li>
<li>
<p>les méthodes du composant dans l&#8217;option <code>methods</code>&#160;;</p>
</li>
<li>
<p>les <em>watchers</em> dans l&#8217;option <code>watch</code>&#160;;</p>
</li>
<li>
<p>les propriétés calculées dans l&#8217;option <code>computed</code>&#160;;</p>
</li>
<li>
<p>les <em>hooks</em> chacun dans une option (<code>mounted</code>, <code>destroyed</code>, etc.)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ainsi, pour un composant complexe, la logique se retrouvait
éclatée entre toutes ces différentes options.</p>
</div>
<div class="paragraph">
<p>L&#8217;un des aspects intéressants de l&#8217;API Composition
est qu&#8217;elle permet de grouper tout le code concernant un aspect fonctionnel
à un seul endroit, séparé du code concernant les autres aspects.
Et on peut même extraire du code partagé <em>en dehors</em> des composants.</p>
</div>
<div class="paragraph">
<p>Refactorisons notre composant <code>Order</code>, en extrayant
une fonction séparée pour chaque aspect.</p>
</div>
<div class="paragraph">
<p>Vue propose une convention que tu peux respecter&#160;:
implémenter une fonction <code>use&#8230;&#8203;</code>
qui retourne un objet contenant les différentes propriétés réactives
et fonctions liées à un aspect donné.
Nous verrons dans les prochains chapitres que de nombreuses bibliothèques
utilisent cette convention. Le routeur, par exemple, expose une fonction
<code>useRouter</code>.</p>
</div>
<div class="paragraph">
<p>Dans notre composant, nous pouvons donc commencer par extraire une fonction
<code>useTracking</code>, hors du composant, dédiée au traçage de l&#8217;utilisation du composant&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Order.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function useTracking() {
  onMounted(async () =&gt; {
    // log a trace that the user entered this page
    await trace('enter');
  });

  onUnmounted(async () =&gt; {
    // log a trace that the user left this page
    await trace('exit');
  });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Extrayons ensuite une fonction <code>useProduct</code>, contenant la logique relative au produit&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Order.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function useProduct(productId: Ref&lt;number&gt;) {
  const product = ref&lt;ProductModel | null&gt;(null);
  // fetch the product data on initialization and refresh them if the props change
  watchEffect(async () =&gt; {
    product.value = await getProduct(productId.value);
  });
  return product;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et enfin une fonction <code>useOrderService</code>,
pour tout ce qui concerne la commande, sa quantité et son prix&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Order.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function useOrderService(product: Ref&lt;ProductModel | null&gt;) {
  const quantity = ref(0);
  const price = computed(() =&gt; quantity.value * (product.value?.unitPrice ?? 0));

  function increaseQuantity() {
    quantity.value += 1;
  }

  function decreaseQuantity() {
    if (quantity.value &gt; 0) {
      quantity.value -= 1;
    }
  }

  async function order() {
    // place the order
  }

  return { quantity, price, increaseQuantity, decreaseQuantity, order };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Chacune des fonctions extraites est plus simple et lisible, et
le code du composant se résume à présent à&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Order.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">setup(props) {
  useTracking();

  // we need `toRefs` to destructure the props
  // and keep the reactivity
  const { productId } = toRefs(props);
  const product = useProduct(productId);

  const orderService = useOrderService(product);

  return { product, ...orderService };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le code du composant est donc bien plus concis. Il est plus simple de voir d&#8217;un seul
coup d&#8217;œil ce qui concerne une fonctionnalité particulière.</p>
</div>
<div class="paragraph">
<p>Et, cerise sur le gâteau, ces fonctions <code>use&#8230;&#8203;</code>,
que l&#8217;on appelle souvent des <em>composables</em>,
peuvent être partagées entre composants.</p>
</div>
</div>
<div class="sect2">
<h3 id="_extraire_de_la_logique_commune">12.2. Extraire de la logique commune</h3>
<div class="paragraph">
<p>Fréquemment dans une application,
plusieurs composants devront partager
de la logique commune, par exemple
appeler la même API HTTP.</p>
</div>
<div class="paragraph">
<p>Au lieu de dupliquer le code, on peut l&#8217;extraire
dans un fichier séparé.
Par exemple, si plusieurs composants doivent
appeler des fonctions relatives à l&#8217;utilisateur telles que
<code>authenticate</code>, <code>logout</code>, <code>register</code>, etc.
on peut placer toutes ces fonctions dans un fichier dédié.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { UserModel } from '@/models/UserModel';

export function authenticate(login: string, password: string): Promise&lt;UserModel&gt; {
  // call the HTTP API
}

export function logout(): void {
  // ...
}

// ...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour tirer profit de l&#8217;API Composition,
nous devrions retourner ces fonctions en tant que propriétés d&#8217;un objet,
retourné par une fonction <code>useUserService</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">UserService.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { UserModel } from '@/models/UserModel';

async function authenticate(login: string, password: string): Promise&lt;UserModel&gt; {
  // call the HTTP API
}

function logout(): void {
  // ...
}


// ...

export function useUserService() {
  return {
    authenticate,
    logout
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut ensuite utiliser ce <em>composable</em> dans un composant comme suit&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Login.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">setup() {
  const credentials = {
    login: '',
    password: ''
  };
  const userService = useUserService();
  async function login() {
    await userService.authenticate(credentials.login, credentials.password);
  }
  return { credentials, login };
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lapi_composition_hors_des_composants">12.3. L&#8217;API Composition hors des composants</h3>
<div class="paragraph">
<p>Jusqu&#8217;ici, envelopper les fonctions de gestion de l&#8217;utilisateur
dans un objet retourné par <code>useUserService()</code> n&#8217;apporte pas grand-chose,
parce que cet objet n&#8217;a aucun état, ni aucune logique
liée à un quelconque composant.
Mais il serait aussi intéressant de retourner, en plus des seules fonctions,
l&#8217;utilisateur authentifié&#160;: plusieurs composants peuvent avoir
besoin de l&#8217;afficher ou de connaître ses propriétés.</p>
</div>
<div class="paragraph">
<p>Comme l&#8217;API Composition n&#8217;est pas liée aux composants,
on peut l&#8217;utiliser directement dans la fonction <code>useUserService</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">UserService.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { ref } from 'vue';
import { UserModel } from '@/models/UserModel';

const userModel = ref&lt;UserModel | null&gt;(null);

async function authenticate(login: string, password: string): Promise&lt;UserModel&gt; {
  // call the HTTP API
  // in case of success, store the logged-in user
  userModel.value = response.data;
}

function logout(): void {
  // ...
  userModel.value = null;
}


// ...

export function useUserService() {
  return {
    userModel,
    authenticate,
    logout
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>À présent, tout composant peut accéder à l&#8217;utilisateur courant
et l&#8217;utiliser dans son template directement, puisque c&#8217;est une valeur réactive&#160;!</p>
</div>
<div class="listingblock">
<div class="title">Home.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;div v-if="userModel"&gt;Hello {{ userModel.name }}!&lt;/div&gt;
  &lt;div v-else&gt;Welcome, anonymous comrade!&lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
export default defineComponent({
  name: 'Home',

  setup() {
    const { userModel } = useUserService();
    return { userModel };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Revenons à notre cas d&#8217;utilisation de traçage de l&#8217;utilisation d&#8217;un composant&#160;:
on voudrait tracer que l&#8217;utilisateur entre ou sort d&#8217;un composant.</p>
</div>
<div class="paragraph">
<p>On peut bien sûr gérer ça dans chaque composant en y définissant les <em>hooks</em> <code>onMounted</code>
et <code>onUnmounted</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Home.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;div v-if="userModel"&gt;Hello {{ userModel.name }}!&lt;/div&gt;
  &lt;div v-else&gt;Welcome&lt;/div&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent, onMounted, onUnmounted } from 'vue';
import { useUserService } from './UserService';

export default defineComponent({
  name: 'Home',

  setup() {
    const { userModel, trace } = useUserService();
    onMounted(async () =&gt; await trace('home:enter'));
    onUnmounted(async () =&gt; await trace('home:exit'));
    return { userModel };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>avec la fonction <code>trace</code> définie comme suit&#160;:</p>
</div>
<div class="listingblock">
<div class="title">UserService.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">async function trace(event: string): Promise&lt;void&gt; {
  // call the tracing HTTP API with userModel.id
  // and the event
}

export function useUserService() {
  return {
    userModel,
    trace,
    authenticate,
    logout
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais c&#8217;est un peu pénible de devoir ajouter ces <em>hooks</em> dans chaque composant.
On peut faire plus élégant&#160;:
déplacer les appels à <code>onMounted</code> et <code>onUnmounted</code> dans <code>useUserService</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">UserService.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export function useUserService(view?: string) {
  if (view) {
    onMounted(async () =&gt; await trace(`${view}:enter`));
    onUnmounted(async () =&gt; await trace(`${view}:exit`));
  }
  return {
    userModel,
    authenticate,
    logout
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ce simple changement permet de faire en sorte que,
chaque fois qu&#8217;un composant appelle <code>useUserService</code> et lui passe un nom de vue,
les appels à <code>trace</code> sont faits automatiquement&#160;!
C&#8217;est pas beau ça&#160;?</p>
</div>
<div class="listingblock">
<div class="title">Home.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export default defineComponent({
  name: 'Home',

  setup() {
    const { userModel } = useUserService('home');
    return { userModel };
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour résumer,
l&#8217;API Composition permet d&#8217;extraire de la logique dans une fonction <code>use&#8230;&#8203;</code>
qui retourne un objet. Cet objet peut contenir des fonctions
(synchrones ou asynchrones)
mais aussi des propriétés réactives (avec <code>ref</code> ou <code>reactive</code>).
Les fonctions <code>use&#8230;&#8203;</code> permettent aussi de définir des <em>watchers</em>,
des propriétés calculées ou des <em>hooks</em> de cycle de vie.
Elles peuvent être utilisées pour améliorer la lisibilité
d&#8217;un composant en centralisant les parties du code concernant un aspect spécifique,
ou être utilisées pour partager du code entre plusieurs composants
et les faire communiquer entre eux.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaie l&#8217;exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/8/lifecycle-hooks">Lifecycle hooks</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
pour créer ta première fonction <code>use&#8230;&#8203;</code> et mettre en application le <em>hook</em> <code>onMounted</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_un_exemple_de_la_communauté_vueuse">12.4. Un exemple de la communauté&#160;: VueUse</h3>
<div class="paragraph">
<p>Un des trucs cools avec ce pattern est que ces <em>composables</em>
peuvent être extraits et réutilisés.
<a href="https://vueuse.org/">VueUse</a> est une bibliothèque open-source
de la communauté Vue qui offre des <em>tonnes</em> de fonctions utilitaires.</p>
</div>
<div class="paragraph">
<p>Voici quelques-unes de mes préférées&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://vueuse.org/core/useTitle/"><code>useTitle</code></a>&#160;:
pour changer le titre d&#8217;une page</p>
</li>
<li>
<p><a href="https://vueuse.org/core/useGeolocation/"><code>useGeolocation</code></a>&#160;:
pour récupérer la position d&#8217;un utilisateur</p>
</li>
<li>
<p><a href="https://vueuse.org/integrations/useQRCode/"><code>useQRCode</code></a>&#160;:
pour générer des QR codes</p>
</li>
<li>
<p><a href="https://vueuse.org/core/useBreakpoints/"><code>useBreakpoints</code></a>&#160;:
pour être notifié d&#8217;un changement de la taille de l&#8217;écran dans ton code (comme le fait une media query en CSS)</p>
</li>
<li>
<p><a href="https://vueuse.org/core/useClipboard/"><code>useClipboard</code></a>&#160;:
pour lire ou écrire du contenu dans le copier/coller</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">VueUse.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;{{ coords.latitude }} - {{ coords.longitude }}&lt;/div&gt;
  &lt;img :src="qrcode" alt="Become a Ninja with Vue 3" /&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent } from 'vue';
import { useGeolocation, useTitle } from '@vueuse/core';
import { useQRCode } from '@vueuse/integrations/useQRCode';

export default defineComponent({
  name: 'VueUse',

  setup() {
    // change the title
    useTitle('VueUse is awesome');
    // get the position of the user
    const { coords } = useGeolocation();
    // generate a QR code for the ebook
    const qrcode = useQRCode('https://books.ninja-squad.com/vue');
    return { coords, qrcode };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il y a aussi des intégrations avec firebase, axios, etc.
Plein de petites pépites auxquelles penser
la prochaine que tu as besoin de quelque chose&#160;!</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="styles">13. Style des composants</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Faisons une pause pour parler un peu style et CSS quelques instants.
Oh noooon, mais pourquoi parler de CSS&#160;?!
Parce que Vue (et Vite ou la CLI) fait beaucoup pour nous sur ce sujet.</p>
</div>
<div class="paragraph">
<p>En tant que développeur web,
tu ajoutes souvent des classes CSS sur tes éléments.
Et l&#8217;essence même de CSS,
c&#8217;est que ce style va <em>cascader</em>
(rappelons que CSS signifie <em>Cascading Style Sheets</em>).
C&#8217;est fréquemment un comportement voulu
(pour, par exemple, changer la police globalement dans toute l&#8217;application),
mais parfois non.
Imaginons que tu souhaites ajouter un style sur l&#8217;élément sélectionné d&#8217;une liste&#160;:
tu vas probablement utiliser un sélecteur CSS très restreint, comme <code>li.selected</code>.
Ou encore plus restreint,
en utilisant une convention comme <a href="https://en.bem.info/methodology/css/">BEM</a>,
parce que tu veux styler l&#8217;élément sélectionné
dans une partie bien spécifique de ton application.</p>
</div>
<div class="paragraph">
<p>Les styles que tu définis dans un composant (dans la partie <code>style</code> d&#8217;un SFC)
sont par défaut appliqués globalement.</p>
</div>
<div class="paragraph">
<p>Et sur ce point Vite et la CLI peut se rendre utile.
Les styles peuvent s&#8217;appliquer au composant courant et seulement à celui-ci.
Mais comment est-ce possible&#160;?</p>
</div>
<div class="sect2">
<h3 id="_styles_scoped">13.1. Styles <code>scoped</code></h3>
<div class="paragraph">
<p>Tout commence par l&#8217;écriture d&#8217;un style.
Prenons par exemple notre composant <code>Pony</code>,
que tu dois commencer à bien connaître.
C&#8217;est une version simplifiée, affichant uniquement l&#8217;image du poney
et son nom dans un élément <code>span</code>.
Pour l&#8217;exemple, ajoutons une classe CSS <code>highlight</code> à ce <code>span</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;img :src="ponyModel.imageUrl" :alt="ponyModel.name" /&gt;
  &lt;span class="highlight"&gt;{{ ponyModel.name }}&lt;/span&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cette classe est définie dans les styles du composant,
mais note que nous avons ajouté <code>scoped</code> à l&#8217;élément <code>style</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;style scoped&gt;
.highlight {
  color: red;
}
&lt;/style&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu le vois, on veut afficher le nom du poney en rouge.</p>
</div>
<div class="paragraph">
<p>Pour être sûr que notre style ne s&#8217;applique qu&#8217;au composant <code>Pony</code>,
Vue va <em>inliner</em> le CSS dans le <code>&lt;head&gt;</code> de la page.
Mais avant de l'<em>inliner</em>,
Vue va réécrire le sélecteur CSS,
pour lui ajouter un attribut unique.
Cet attribut unique sera ensuite ajouté sur tous les éléments du template du composant&#160;!
Ainsi, le style s&#8217;appliquera uniquement à notre composant&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;html&gt;
  &lt;head&gt;
    &lt;style&gt;.highlight[data-v-0a17a18c] {color: red}&lt;/style&gt;
  &lt;/head&gt;
  &lt;body&gt;
    ...
    &lt;Pony&gt;
      &lt;div data-v-0a17a18c=""&gt;
        &lt;img src="..." alt="Rainbow Dash" data-v-0a17a18c=""&gt;
        &lt;span class="highlight" data-v-0a17a18c=""&gt;Rainbow Dash&lt;/span&gt;
      &lt;/div&gt;
    &lt;/Pony&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le sélecteur de classe <code>highlight</code> a été réécrit en <code>.highlight[data-v-0a17a18c]</code>,
alors il ne s&#8217;appliquera que sur les éléments qui auront à la fois la classe <code>highlight</code>
et l&#8217;attribut <code>data-v-0a17a18c</code>.
Tu peux aussi vérifier que cet attribut a bien été ajouté automatiquement à notre <code>span</code>,
pour que tout fonctionne parfaitement.</p>
</div>
<div class="paragraph">
<p>Cette fonctionnalité est très pratique.
Cela permet par exemple d&#8217;utiliser des composants fournis par une librairie tierce,
sans avoir à se soucier de potentiels conflits entre nos classes CSS et les leurs&#160;!</p>
</div>
</div>
<div class="sect2">
<h3 id="_styles_module">13.2. Styles <code>module</code></h3>
<div class="paragraph">
<p>Vue supporte aussi les styles  <code>module</code>.
Cette fonctionnalité est basée sur la spécification
<a href="https://github.com/css-modules/css-modules">CSS Modules</a>
et permet d&#8217;utiliser <code>$style</code> dans ton template et dans ton code&#160;!
C&#8217;est une solution assez populaire dans certains écosystèmes (comme React),
mais je ne l&#8217;ai jamais utilisée 😬.</p>
</div>
</div>
<div class="sect2">
<h3 id="_v_bind_en_css">13.3. <code>v-bind</code> en CSS</h3>
<div class="paragraph">
<p>Tu peux aussi directement utiliser <code>v-bind</code> dans le CSS
pour lier une valeur CSS à une propriété de ton composant&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;script setup lang="ts"&gt;
import { ref } from 'vue';
const ponyModel = ref({
  name: 'Rainbow Dash',
  imageUrl: '',
  color: 'blue'
});
&lt;/script&gt;

&lt;style scoped&gt;
.highlight {
  color: v-bind('ponyModel.color');
}
&lt;/style&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est bien sûr réactif&#160;:
si <code>ponyModel.color</code> change,
alors la couleur se met à jour.</p>
</div>
</div>
<div class="sect2">
<h3 id="_v_deep_v_global_et_v_slotted">13.4. <code>v-deep</code>, <code>v-global</code> et <code>v-slotted</code></h3>
<div class="paragraph">
<p>Les styles <code>scoped</code> dans un SFC supportent aussi des extensions CSS spécifiques
pour certains cas très précis.</p>
</div>
<div class="paragraph">
<p>Par exemple, on veut parfois ajouter un style explicitement à un composant enfant.
Mais comment pouvons-nous faire ça,
alors qu&#8217;un style <code>scoped</code> ne s&#8217;applique par essence qu&#8217;au composant courant&#160;?</p>
</div>
<div class="paragraph">
<p>C&#8217;est là qu&#8217;entre en jeu <code>::v-deep()</code>, ou <code>:deep()</code> en raccourci&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="css">/* deep selectors */
::v-deep(.foo) {}
/* shorthand */
:deep(.foo) {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Au contraire, si tu veux rendre une règle globale,
tu peux utiliser <code>::v-global()</code> ou <code>:global()</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="css">/* one-off global rule */
::v-global(.foo) {}
/* shorthand */
:global(.foo) {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La dernière extension permet de cibler le contenu des slots.
En Vue 3, le contenu des slots n&#8217;est pas modifié par les styles <code>scoped</code>.
Si tu veux viser explicitement le contenu des slots,
tu peux utiliser <code>::v-slotted()</code> ou <code>:slotted()</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="css">/* targeting slot content */
::v-slotted(.foo) {}
/* shorthand */
:slotted(.foo) {}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_postcss">13.5. PostCSS</h3>
<div class="paragraph">
<p>Vite et Vue CLI utilisent <a href="https://postcss.org/">PostCSS</a> sous le capot
pour transformer notre CSS.</p>
</div>
<div class="paragraph">
<p>Mais, ici, ils diffèrent légèrement&#160;:
Vite considère que tu cibles des navigateurs modernes,
et ne fait donc que peu de transformation par défaut.
Mais tu peux lui fournir une configuration PostCSS si nécessaire,
et elle sera appliquée automatiquement.</p>
</div>
</div>
<div class="sect2">
<h3 id="_pre_processeurs_css">13.6. Pre-processeurs CSS</h3>
<div class="paragraph">
<p>CSS s&#8217;améliore d&#8217;année en année.
Il est maintenant possible de faire des variables CSS par exemple.
C&#8217;est pour cela que Vite recommande de s&#8217;en tenir au CSS standard.</p>
</div>
<div class="paragraph">
<p>Mais si tu veux utiliser plus que du CSS brut,
alors Vite et la CLI ont aussi un support natif des pré-processeurs CSS les plus courants&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SCSS</p>
</li>
<li>
<p>Less</p>
</li>
<li>
<p>Stylus</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tu as simplement besoin d&#8217;installer le pré-processeur dont tu as besoin,
(avec son "loader" Webpack si tu utilises la CLI)&#160;:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>npm install --save-dev sass</pre>
</div>
</div>
<div class="paragraph">
<p>Tu peux ensuite utiliser l&#8217;attribut <code>lang</code> sur l&#8217;élément <code>style</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;style lang="scss"&gt;

&lt;/style&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et la CLI s&#8217;occupe du reste.</p>
</div>
<div class="paragraph">
<p>Pour résumer, Vite ou la CLI s&#8217;avèrent très précieux pour la partie CSS d&#8217;une application.
Tu voudras probablement utiliser des styles <code>scoped</code> la plupart du temps
et Vue fera marcher sa magie 🎁&#160;!</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="many-ways">14. Les nombreuses façons de définir des composants</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Comme nous le disions dans le chapitre précédent,
il y a plusieurs façons de définir des composants depuis Vue&#160;3.</p>
</div>
<div class="paragraph">
<p>Ce livre utilise l&#8217;API de Composition,
introduite en Vue&#160;3,
mais tu as peut-être déjà croisé l&#8217;API Options, utilisée en Vue 1 et 2,
d&#8217;ailleurs toujours utilisable en Vue&#160;3.
Vue&#160;3 offre aussi une autre approche,
inspirée par le framework Svelte.
Passons en revue ces différentes alternatives.</p>
</div>
<div class="sect2">
<h3 id="_api_options">14.1. API Options</h3>
<div class="paragraph">
<p>C&#8217;est la manière historique de construire des composants Vue.
Tu utilises un objet,
dans lequel tu définis les données réactives avec <code>data</code>,
les méthodes avec <code>methods</code>,
les données calculées avec <code>computed</code>, etc.
C&#8217;est tout à fait utilisable et toujours supporté par Vue&#160;3,
mais principalement par souci de compatibilité.
Elle n&#8217;offre pas la même flexibilité que l&#8217;API de Composition,
et impose ainsi aux développeurs d&#8217;utiliser les Mixins pour partager du comportement.</p>
</div>
<div class="listingblock">
<div class="title">Product.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;{{ price }} * {{ quantity }} = {{ total }}&lt;/div&gt;
  &lt;CustomButton @click="addOne()"&gt;Add 1 unit&lt;/CustomButton&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { defineComponent } from 'vue';
import CustomButton from '@/chapters/many-ways/CustomButton.vue';

export default defineComponent({
  name: 'Product',
  components: {
    CustomButton
  },
  data() {
    return {
      price: 10,
      quantity: 1
    };
  },
  computed: {
    total(): number {
      return this.price * this.quantity;
    }
  },
  methods: {
    addOne(): void {
      this.quantity++;
    }
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_api_de_composition">14.2. API de Composition</h3>
<div class="paragraph">
<p>Vue&#160;3 a introduit l&#8217;API de Composition après une longue discussion et réflexion avec la communauté.
L&#8217;idée est de fournir une API flexible avec un excellent support TypeScript.
Cette API concentre la majorité du travail dans la propriété <code>setup</code> de la définition du composant.</p>
</div>
<div class="listingblock">
<div class="title">Product.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;{{ price }} * {{ quantity }} = {{ total }}&lt;/div&gt;
  &lt;CustomButton @click="addOne()"&gt;Add 1 unit&lt;/CustomButton&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { computed, defineComponent, ref } from 'vue';
import CustomButton from '@/chapters/many-ways/CustomButton.vue';

export default defineComponent({
  name: 'Product',

  components: {
    CustomButton
  },

  setup() {
    const price = ref(10);
    const quantity = ref(1);
    const total = computed(() =&gt; price.value * quantity.value);
    const addOne = () =&gt; quantity.value++;
    return { price, quantity, total, addOne };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_script_setup">14.3. Script setup</h3>
<div class="paragraph">
<p>Vue&#160;3.2 introduit une autre façon de déclarer un composant,
basée sur l&#8217;API de Composition,
mais légèrement moins verbeuse,
en ajoutant un attribut <code>setup</code> à l&#8217;élément <code>script</code> de ton SFC&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Product.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div&gt;{{ price }} * {{ quantity }} = {{ total }}&lt;/div&gt;
  &lt;CustomButton @click="addOne()"&gt;Add 1 unit&lt;/CustomButton&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { computed, ref } from 'vue';
import CustomButton from '@/chapters/many-ways/CustomButton.vue';
const price = ref(10);
const quantity = ref(1);
const total = computed(() =&gt; price.value * quantity.value);
const addOne = () =&gt; quantity.value++;
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir, cette syntaxe enlève pas mal de <em>boilerplate</em>,
car tout ce qui dans la section <code>script</code> est automatiquement exposé dans le template.
Cela s&#8217;inspire fortement de ce que fait le framework Svelte,
et c&#8217;est la façon préférée de définir des composants actuellement.
C&#8217;est la version que nous utiliserons dans ce livre et les exercices à partir de maintenant.
On se penche plus en détails sur cette syntaxe dans le chapitre suivant&#160;:
finissons notre tour avant.</p>
</div>
</div>
<div class="sect2">
<h3 id="_api_classe">14.4. API Classe</h3>
<div class="paragraph">
<p>Vue&#160;2 avait une API basée sur les classes pour définir les composants,
qui était la meilleure solution quand on voulait coder en TypeScript,
et qui est toujours supportée en Vue&#160;3.
Les différents outils de l&#8217;écosystème ne supportent pas aussi bien cette syntaxe,
car la manière recommandée d&#8217;utiliser TypeScript est désormais l&#8217;API de Composition avec <code>script setup</code>.</p>
</div>
<div class="paragraph">
<p>Cette API a même failli devenir l&#8217;API par défaut en Vue&#160;3,
mais après une <a href="https://github.com/vuejs/rfcs/pull/17#issuecomment-494242121/">longue discussion</a>
avec la communauté,
l&#8217;API de Composition a été préférée.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="script-setup">15. <code>script setup</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vue&#160;3.2 a introduit la syntaxe <code>script setup</code>,
une façon un peu moins verbeuse de déclarer les composants.
On l&#8217;active en ajoutant l&#8217;attribut <code>setup</code> à la balise <code>script</code> d&#8217;un SFC,
et on peut alors enlever un peu de boilerplate du composant.</p>
</div>
<div class="paragraph">
<p>Prenons un exemple pratique et migrons-le vers cette syntaxe&#160;!</p>
</div>
<div class="sect2">
<h3 id="_migrer_un_composant">15.1. Migrer un composant</h3>
<div class="paragraph">
<p>Le composant <code>Pony</code> ci-dessous a deux props (le <code>ponyModel</code> à afficher, et une option <code>isRunning</code>).
Basée sur ces deux props, une URL est calculée pour l&#8217;image du poney affichée dans le template
(via un autre composant <code>CustomImage</code>).
Le composant émet également un événement <code>selected</code> quand on clique dessus.</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;figure @click="clicked()"&gt;
    &lt;CustomImage :src="ponyImageUrl" :alt="ponyModel.name" /&gt;
    &lt;figcaption&gt;{{ ponyModel.name }}&lt;/figcaption&gt;
  &lt;/figure&gt;
&lt;/template&gt;

&lt;script lang="ts"&gt;
import { computed, defineComponent, PropType } from 'vue';
import CustomImage from './CustomImage.vue';
import { PonyModel } from '@/models/PonyModel';

export default defineComponent({
  components: { CustomImage },

  props: {
    ponyModel: {
      type: Object as PropType&lt;PonyModel&gt;,
      required: true
    },
    isRunning: {
      type: Boolean,
      default: false
    }
  },

  emits: {
    selected: () =&gt; true
  },

  setup(props, { emit }) {
    const ponyImageUrl = computed(() =&gt; `/pony-${props.ponyModel.color}${props.isRunning ? '-running' : ''}.gif`);

    function clicked() {
      emit('selected');
    }

    return { ponyImageUrl, clicked };
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Première étape&#160;: ajoutons l&#8217;attribut <code>setup</code> à l&#8217;élément <code>script</code>.
On peut alors garder seulement le contenu de la fonction <code>setup</code>,
et supprimer l&#8217;appel à <code>defineComponent</code> et <code>setup</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;script setup lang="ts"&gt;
import { computed, PropType } from 'vue';
import CustomImage from './CustomImage.vue';
import { PonyModel } from '@/models/PonyModel';

  components: { CustomImage },

  props: {
    ponyModel: {
      type: Object as PropType&lt;PonyModel&gt;,
      required: true
    },
    isRunning: {
      type: Boolean,
      default: false
    }
  },

  emits: {
    selected: () =&gt; true
  },

    const ponyImageUrl = computed(() =&gt; `/pony-${props.ponyModel.color}${props.isRunning ? '-running' : ''}.gif`);

    function clicked() {
      emit('selected');
    }

    return { ponyImageUrl, clicked };
&lt;/script&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_retour_implicite">15.2. Retour implicite</h3>
<div class="paragraph">
<p>On peut aussi supprimer le <code>return</code> à la fin&#160;:
toutes les déclarations de haut niveau à l&#8217;intérieur d&#8217;un <code>script setup</code> (ainsi que les imports)
sont automatiquement disponibles dans le template.
Ici <code>ponyImageUrl</code> et <code>clicked</code> sont disponibles sans avoir besoin de les renvoyer.</p>
</div>
<div class="paragraph">
<p>C&#8217;est la même chose pour les <code>components</code>&#160;!
Importer le composant <code>CustomImage</code> est suffisant,
et Vue comprend qu&#8217;il est utilisé dans le template.
On peut donc enlever la déclaration <code>components</code>.</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { computed, PropType } from 'vue';
import CustomImage from './CustomImage.vue';
import { PonyModel } from '@/models/PonyModel';

  props: {
    ponyModel: {
      type: Object as PropType&lt;PonyModel&gt;,
      required: true
    },
    isRunning: {
      type: Boolean,
      default: false
    }
  },

  emits: {
    selected: () =&gt; true
  },

    const ponyImageUrl = computed(() =&gt; `/pony-${props.ponyModel.color}${props.isRunning ? '-running' : ''}.gif`);

    function clicked() {
      emit('selected');
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>On y est presque&#160;:
il reste à migrer les déclarations <code>props</code> et <code>emits</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_defineprops">15.3. <code>defineProps</code></h3>
<div class="paragraph">
<p>Vue nous donne une fonction <code>defineProps</code> que l&#8217;on peut utiliser pour déclarer les props.
C&#8217;est une fonction disponible à la compilation (une macro),
il n&#8217;y a donc pas besoin de l&#8217;importer dans le code&#160;:
Vue comprend tout seul lorsqu&#8217;il compile le composant.</p>
</div>
<div class="paragraph">
<p><code>defineProps</code> renvoie les props&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const props = defineProps({
  ponyModel: {
    type: Object as PropType&lt;PonyModel&gt;,
    required: true
  },
  isRunning: {
    type: Boolean,
    default: false
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>defineProps</code> reçoit la même déclaration que <code>props</code> comme paramètre.
Mais on peut faire encore mieux pour les utilisateurs TypeScript&#160;!</p>
</div>
<div class="paragraph">
<p><code>defineProps</code> est typé de façon générique&#160;:
on peut l&#8217;appeler sans paramètre,
mais en spécifiant une interface comme "forme" des props.
Plus besoin de l&#8217;horrible <code>Object as PropType&lt;Something&gt;</code>&#160;!
On peut utiliser de vrais types TypeScript,
et ajouter <code>?</code> pour marquer une prop comme optionnelle 😍.</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const props = defineProps&lt;{
  ponyModel: PonyModel;
  isRunning?: boolean;
}&gt;();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nous avons perdu un bout d&#8217;information cependant.
Dans la version précédente, nous pouvions spécifier que <code>isRunning</code> avait une valeur par défaut à <code>false</code>.
Pour avoir le même comportement, on peut utiliser la fonction <code>withDefaults</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface Props {
  ponyModel: PonyModel;
  isRunning?: boolean;
}

const props = withDefaults(defineProps&lt;Props&gt;(), { isRunning: false });</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ou encore plus simple, depuis Vue&#160;3.2.20 et son option <code>reactivityTransform</code>,
on peut déstructurer et donner une valeur par défaut à une prop directement&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">interface Props {
  ponyModel: PonyModel;
  isRunning?: boolean;
}

const { ponyModel, isRunning = false } = defineProps&lt;Props&gt;();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cela permet d&#8217;utiliser les props directement, sans avoir à écrire <code>props.</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const ponyImageUrl = computed(() =&gt; `/pony-${ponyModel.color}${isRunning ? '-running' : ''}.gif`);</code></pre>
</div>
</div>
<div class="paragraph">
<p>La dernière partie à migrer est la déclaration des événements.</p>
</div>
</div>
<div class="sect2">
<h3 id="_defineemits">15.4. <code>defineEmits</code></h3>
<div class="paragraph">
<p>Vue nous offre également une fonction <code>defineEmits</code>,
très similaire à <code>defineProps</code>.
<code>defineEmits</code> renvoie la fonction <code>emit</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const emit = defineEmits({
  selected: () =&gt; true
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ou encore mieux, avec TypeScript&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const emit = defineEmits&lt;{
  selected: [];
}&gt;();</code></pre>
</div>
</div>
<div class="paragraph">
<p>La déclaration complète est plus courte de 10 lignes,
ce qui est pas mal pour un composant d&#8217;une trentaine de lignes&#160;!
Le composant est plus simple à lire, et plus facile à écrire en TypeScript.
Il est cependant un peu étrange de voir tout exposé automatiquement dans le template,
sans avoir à écrire de return, mais on s&#8217;habitue.</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;figure @click="clicked()"&gt;
    &lt;CustomImage :src="ponyImageUrl" :alt="ponyModel.name" /&gt;
    &lt;figcaption&gt;{{ ponyModel.name }}&lt;/figcaption&gt;
  &lt;/figure&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { computed } from 'vue';
import CustomImage from './CustomImage.vue';
import { PonyModel } from '@/models/PonyModel';

interface Props {
  ponyModel: PonyModel;
  isRunning?: boolean;
}

const props = withDefaults(defineProps&lt;Props&gt;(), { isRunning: false });

const emit = defineEmits&lt;{
  selected: [];
}&gt;();

const ponyImageUrl = computed(() =&gt; `/pony-${props.ponyModel.color}${props.isRunning ? '-running' : ''}.gif`);

function clicked() {
  emit('selected');
}
&lt;/script&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_defineoptions">15.5. <code>defineOptions</code></h3>
<div class="paragraph">
<p>Vue v3.3 a introduit une nouvelle macro appelée <code>defineOptions</code>.
Elle est pratique pour déclarer certaines options du component
tel son nom (si le nom inféré basé sur le nom du fichier ne convient pas)
ou pour définir l&#8217;option <code>inheritAttrs</code> pat exemple&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="typescript">defineOptions({ name: 'Pony' });</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_fermé_par_défaut_et_defineexpose">15.6. Fermé par défaut et <code>defineExpose</code></h3>
<div class="paragraph">
<p>Il y a une différence subtile entre les deux façons d&#8217;écrire des composants&#160;:
un composant <code>script setup</code> est "fermé par défaut".
Cela veut dire que d&#8217;autres composants ne voit pas ce qui est défini à l&#8217;intérieur de celui-ci.</p>
</div>
<div class="paragraph">
<p>Par exemple, le composant <code>Pony</code> peut accéder au composant <code>CustomImage</code> qu&#8217;il utilise
(en utilisant des refs, comme on le verra dans un chapitre plus loin).
Si <code>CustomImage</code> est déclaré avec <code>defineComponent</code>,
alors tout ce que renvoie sa fonction <code>setup</code> est aussi visible par le composant parent (<code>Pony</code>).
En revanche, si <code>CustomImage</code> est défini avec <code>script setup</code>,
alors <em>rien</em> n&#8217;est visible pour le composant parent.
<code>CustomImage</code> peut cependant exposer ce qu&#8217;il souhaite en ajoutant <code>defineExpose({ key: value })</code>.
Alors <code>value</code> sera accessible comme étant <code>key</code>.</p>
</div>
<div class="paragraph">
<p>Cette syntaxe est donc celle qui est recommandée pour construire tes composants.
Les exemples de composants l&#8217;utiliseront donc à partir de maintenant,
ainsi que les exercices de notre formation en ligne.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaye l&#8217;exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/9/script-setup">Script setup</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
pour migrer notre application à cette syntaxe.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tests">16. Tester ton application</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_tester_cest_douter">16.1. Tester c&#8217;est douter</h3>
<div class="paragraph">
<p>J&#8217;adore les tests automatisés.
Ma vie professionnelle tourne autour de cette barre de progression qui devient verte dans mon IDE,
et me félicite d&#8217;avoir bien travaillé.
J&#8217;espère que les tests sont aussi importants pour toi, car ils sont le filet de sécurité ultime quand on écrit du code.
Rien n&#8217;est plus pénible que tester du code manuellement.</p>
</div>
<div class="paragraph">
<p>Vue fait du bon travail en nous permettant d&#8217;écrire des tests assez simplement,
avec l&#8217;aide de quelques outils.</p>
</div>
<div class="paragraph">
<p>Tu peux écrire plusieurs types de test&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>des tests unitaires&#160;;</p>
</li>
<li>
<p>des tests de bout en bout (<em>end-to-end</em>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Les premiers sont là pour vérifier qu&#8217;une petite unité de code
(un composant, un service&#8230;&#8203;) fonctionne correctement en isolation,
c&#8217;est-à-dire sans considérer ses dépendances.
Écrire un test unitaire requiert d&#8217;exécuter chacune des fonctions
d&#8217;un composant ou d&#8217;un service, et de vérifier que le résultat obtenu
est conforme à nos attentes, en fonction des entrées que nous lui avons fournies.
On peut aussi vérifier que les dépendances utilisées par cette unité de
code sont correctement appelées. Par exemple, qu&#8217;un service envoie la requête HTTP
quel l&#8217;on attend de lui.</p>
</div>
<div class="paragraph">
<p>On peut aussi écrire des tests de bout en bout.
Leur principe est plutôt de simuler un utilisateur
qui interagit avec l&#8217;application, en démarrant une réelle instance de
l&#8217;application et en pilotant programmatiquement le navigateur afin
de saisir des valeurs dans des champs de formulaire, de cliquer sur des boutons, etc.
On peut ensuite vérifier que la page affichée est dans l&#8217;état attendu,
avec les bonnes informations affichées, une URL correcte, ou quoi que ce soit d&#8217;autre.</p>
</div>
<div class="paragraph">
<p>Nous allons couvrir tout cela. Commençons par les tests unitaires.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tests_unitaires">16.2. Tests unitaires</h3>
<div class="paragraph">
<p>Comme nous venons de le voir, les tests unitaires permettent de tester une petite
unité de code en isolation.
Chaque test permet seulement de vérifier qu&#8217;une toute petite partie de l&#8217;application
fonctionne comme attendu, mais ils ont de nombreux avantages&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ils sont très rapides. Tu peux en exécuter plusieurs centaines en quelques secondes&#160;;</p>
</li>
<li>
<p>ils sont très efficaces pour tester (pratiquement) tout ton code, y compris les
cas très particuliers, qu&#8217;il peut être difficile de tester avec l&#8217;application réelle.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>L&#8217;un des principes fondamentaux des tests unitaires est l'<strong>isolation</strong>&#160;:
on ne veut pas s&#8217;encombrer des dépendances de l&#8217;unité testée.
Du coup, on utilise plutôt des <em>"mocks"</em> à la place des dépendances réelles.
Ce sont des objets ou fonctions fictifs, créés spécifiquement pour les besoins du test.</p>
</div>
<div class="paragraph">
<p>Pour nous aider à écrire ces tests, nous allons nous appuyer sur quelques outils.
D&#8217;abord, on a besoin d&#8217;une bibliothèque pour écrire les tests.</p>
</div>
<div class="paragraph">
<p>L&#8217;une des plus populaires,
(sinon la plus populaire) est <a href="https://jestjs.io">Jest</a>,
mais nous allons utiliser ma préférée, <a href="https://vitest.dev/">Vitest</a>&#160;!</p>
</div>
</div>
<div class="sect2">
<h3 id="_vitest">16.3. Vitest</h3>
<div class="paragraph">
<p>Vitest est une solution super intéressante&#160;:
elle est très similaire à Jest (même API, et aussi basée sur jsdom)
mais plus rapide et moderne.</p>
</div>
<div class="paragraph">
<p>Si tu génères ton projet avec <code>create-vue</code> au lieu de la Vue CLI,
ce sera la solution de test unitaire qui te sera proposée.
Les exercices du pack pro utilisent tous Vitest bien sûr&#160;:
tu vas pouvoir en faire ta source d&#8217;inspiration (et de configuration)
pour tester toutes les facettes de tes projets&#160;!</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTY1IiBoZWlnaHQ9IjE2NSIgdmlld0JveD0iMCAwIDE2NSAxNjUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMjAuODMxIDU3LjI1NDNMODQuNjkzIDEwOS41MDVDODQuMzA5OSAxMTAuMDU5IDgzLjc1NTggMTEwLjQ3NCA4My4xMTQ4IDExMC42ODdDODIuNDczOCAxMTAuOSA4MS43ODA5IDExMC44OTggODEuMTQxMiAxMTAuNjg0QzgwLjUwMTUgMTEwLjQ2OSA3OS45NSAxMTAuMDUyIDc5LjU3MDIgMTA5LjQ5N0M3OS4xOTA1IDEwOC45NDEgNzkuMDAzMiAxMDguMjc3IDc5LjAzNyAxMDcuNjA2TDgwLjQ4MzMgNzguNzU4Mkw1Ny4xMzQzIDczLjgwNjRDNTYuNjM1MyA3My43MDA3IDU2LjE3MDQgNzMuNDc0IDU1Ljc4MDcgNzMuMTQ2NUM1NS4zOTEgNzIuODE5MSA1NS4wODg1IDcyLjQwMDkgNTQuOTAwMSA3MS45MjlDNTQuNzExNyA3MS40NTcxIDU0LjY0MzIgNzAuOTQ2MSA1NC43MDA2IDcwLjQ0MTJDNTQuNzU4IDY5LjkzNjQgNTQuOTM5NSA2OS40NTMyIDU1LjIyOTEgNjkuMDM0NUw5MS4zNjc1IDE2Ljc4MzdDOTEuNzUwNyAxNi4yMjk0IDkyLjMwNDggMTUuODE0NSA5Mi45NDU4IDE1LjYwMThDOTMuNTg2OSAxNS4zODkxIDk0LjI3OTggMTUuMzkwMiA5NC45MTk2IDE1LjYwNTFDOTUuNTU5MyAxNS44MTk5IDk2LjExMDkgMTYuMjM2NyA5Ni40OTA2IDE2Ljc5MjNDOTYuODcwMyAxNy4zNDc4IDk3LjA1NzUgMTguMDExNyA5Ny4wMjM2IDE4LjY4MzNMOTUuNTc3MyA0Ny41MzE0TDExOC45MjYgNTIuNDgyOEMxMTkuNDI1IDUyLjU4ODUgMTE5Ljg5IDUyLjgxNTIgMTIwLjI4IDUzLjE0MjZDMTIwLjY3IDUzLjQ3MDEgMTIwLjk3MiA1My44ODgzIDEyMS4xNiA1NC4zNjAyQzEyMS4zNDkgNTQuODMyMSAxMjEuNDE3IDU1LjM0MzEgMTIxLjM2IDU1Ljg0NzlDMTIxLjMwMyA1Ni4zNTI4IDEyMS4xMjEgNTYuODM2IDEyMC44MzEgNTcuMjU0N0wxMjAuODMxIDU3LjI1NDNaIiBmaWxsPSIjRkNDNzJCIi8+CjxwYXRoIGQ9Ik04Mi45ODY2IDE1My4zNDNDODIuMDI1NCAxNTMuMzQ0IDgxLjA3MzUgMTUzLjE1NiA4MC4xODU1IDE1Mi43ODhDNzkuMjk3NSAxNTIuNDIgNzguNDkwOSAxNTEuODggNzcuODEyMiAxNTEuMkw0My42NjU4IDExNy4wNTZDNDIuMjk5OCAxMTUuNjgzIDQxLjUzNDEgMTEzLjgyNCA0MS41MzY2IDExMS44ODdDNDEuNTM5MiAxMDkuOTUgNDIuMzA5OCAxMDguMDkyIDQzLjY3OTYgMTA2LjcyM0M0NS4wNDkzIDEwNS4zNTMgNDYuOTA2NCAxMDQuNTgyIDQ4Ljg0MzUgMTA0LjU3OUM1MC43ODA3IDEwNC41NzcgNTIuNjM5OSAxMDUuMzQyIDU0LjAxMzQgMTA2LjcwOEw4Mi45ODY2IDEzNS42NzhMMTQ2LjEwNSA3Mi41NjI2QzE0Ny40ODEgNzEuMjA4OCAxNDkuMzM2IDcwLjQ1MzYgMTUxLjI2NiA3MC40NjE1QzE1My4xOTcgNzAuNDY5MyAxNTUuMDQ2IDcxLjIzOTYgMTU2LjQxIDcyLjYwNDVDMTU3Ljc3NSA3My45Njk1IDE1OC41NDYgNzUuODE4NCAxNTguNTU0IDc3Ljc0ODdDMTU4LjU2MSA3OS42NzkgMTU3LjgwNiA4MS41MzQyIDE1Ni40NTIgODIuOTEwMUw4OC4xNTk3IDE1MS4yQzg3LjQ4MTEgMTUxLjg4MSA4Ni42NzQ3IDE1Mi40MiA4NS43ODY5IDE1Mi43ODhDODQuODk5MiAxNTMuMTU2IDgzLjk0NzUgMTUzLjM0NCA4Mi45ODY2IDE1My4zNDNaIiBmaWxsPSIjNzI5QjFCIi8+CjxwYXRoIGQ9Ik04Mi45NTcyIDE1My4zNDNDODMuOTE4NCAxNTMuMzQ0IDg0Ljg3MDMgMTUzLjE1NiA4NS43NTgzIDE1Mi43ODhDODYuNjQ2MyAxNTIuNDIgODcuNDUyOCAxNTEuODggODguMTMxNiAxNTEuMkwxMjIuMjc4IDExNy4wNTZDMTIzLjY0NCAxMTUuNjgzIDEyNC40MSAxMTMuODI0IDEyNC40MDcgMTExLjg4N0MxMjQuNDA1IDEwOS45NSAxMjMuNjM0IDEwOC4wOTIgMTIyLjI2NCAxMDYuNzIzQzEyMC44OTQgMTA1LjM1MyAxMTkuMDM3IDEwNC41ODIgMTE3LjEgMTA0LjU3OUMxMTUuMTYzIDEwNC41NzcgMTEzLjMwNCAxMDUuMzQyIDExMS45MyAxMDYuNzA4TDgyLjk1NzIgMTM1LjY3OEwxOS44Mzg5IDcyLjU2MjZDMTguNDYyOSA3MS4yMDg4IDE2LjYwNzcgNzAuNDUzNiAxNC42Nzc1IDcwLjQ2MTVDMTIuNzQ3MiA3MC40NjkzIDEwLjg5ODIgNzEuMjM5NiA5LjUzMzMxIDcyLjYwNDVDOC4xNjgzOSA3My45Njk1IDcuMzk4MTEgNzUuODE4NCA3LjM5MDI1IDc3Ljc0ODdDNy4zODIzOSA3OS42NzkgOC4xMzc1OSA4MS41MzQyIDkuNDkxMzUgODIuOTEwMUw3Ny43ODQgMTUxLjJDNzguNDYyNyAxNTEuODgxIDc5LjI2OTEgMTUyLjQyIDgwLjE1NjggMTUyLjc4OEM4MS4wNDQ2IDE1My4xNTYgODEuOTk2MyAxNTMuMzQ0IDgyLjk1NzIgMTUzLjM0M1oiIGZpbGw9IiM3MjlCMUIiIGZpbGwtb3BhY2l0eT0iMC41Ii8+Cjwvc3ZnPgo=" alt="Vitest">
</div>
</div>
<div class="paragraph">
<p>Vitest a été construit afin d&#8217;utiliser Vite
pour s&#8217;occuper de toutes les transformations nécessaires pour lancer les tests.
On n&#8217;a donc pas besoin de <code>ts-jest</code> ou <code>@vue/vue3-jest</code>.
Et Vitest marche super bien avec les Modules ECMAScript (ESM),
alors que Jest&#8230;&#8203; pas vraiment.</p>
</div>
<div class="paragraph">
<p>Toutes les options de configuration vont soit dans un fichier dédié <code>vitest.config.ts</code>,
soit directement dans la configuration Vite, dans une propriété <code>test</code>.</p>
</div>
<div class="paragraph">
<p>Vitest nous met à disposition les fonctions suivantes pour structurer nos tests&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>describe()</code> définit une suite de tests (un groupe de tests)&#160;;</p>
</li>
<li>
<p><code>test()</code> définit un test&#160;;</p>
</li>
<li>
<p><code>expect()</code> définit une assertion.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Un test JavaScript basique pour une simple classe telle que celle-ci&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Pony {
  constructor(
    public name: string,
    public speed: number
  ) {}

  isFasterThan(speed: number): boolean {
    return this.speed &gt; speed;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>écrit avec Vitest ressemblerait à cela&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('Pony', () =&gt; {
  test('should be faster than a slow speed', () =&gt; {
    const pony = new Pony('Rainbow Dash', 10);
    expect(pony.isFasterThan(8)).toBe(true);
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;appel à <code>expect()</code> peut être chaîné avec un tas de méthodes,
appelée <em>matchers</em>,
comme <code>toBe()</code>, <code>toBeLessThan()</code>, <code>toBeUndefined()</code>, etc.
Chaque <em>matcher</em> peut être inversé avec la propriété <code>not</code> de l&#8217;objet retourné par <code>expect()</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('Pony', () =&gt; {
  test('should not be faster than a fast speed', () =&gt; {
    const pony = new Pony('Rainbow Dash', 10);
    expect(pony.isFasterThan(20)).not.toBe(true);
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le fichier de test est un fichier séparé de celui contenant le code à tester,
en général avec une extension <code>.spec.ts</code>.
Le test d&#8217;un composant <em>Pony</em> écrit dans le fichier <code>Pony.vue</code> sera donc
typiquement écrit dans un fichier <code>Pony.spec.ts</code>.
Où placer le fichier <code>.spec.ts</code> est une histoire de préférences&#160;:
certains aiment placer le code et son test côte à côte, dans un sous-répertoire <code>__tests__</code>&#160;;
d&#8217;autres préfèrent placer le fichier de test dans une arborescence séparée, dédiée aux tests.
J&#8217;ai tendance à me simplifier la vie en faisant ce que <code>create-vue</code> fait par défaut,
à savoir un répertoire <code>__tests__</code> à côté des fichiers testés.</p>
</div>
<div class="paragraph">
<p>Souvent, tous les tests définis par un appel à <code>test()</code>
nécessitent un contexte commun qui doit être préparé avant le test proprement dit.
Tu peux utiliser la fonction <code>beforeEach()</code> pour mettre en place ce contexte
avant chaque test.
Par exemple, si j&#8217;ai plusieurs tests sur le même poney,
ça a du sens d&#8217;utiliser <code>beforeEach()</code> pour créer et initialiser ce poney,
au lieu de copier-coller le même code dans chacun des tests.</p>
</div>
<div class="listingblock">
<div class="title">Pony.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('Pony', () =&gt; {
  let pony: Pony;

  beforeEach(() =&gt; {
    pony = new Pony('Rainbow Dash', 10);
  });

  test('should be faster than a slow speed', () =&gt; {
    expect(pony.isFasterThan(8)).toBe(true);
  });

  test('should not be faster than the same speed', () =&gt; {
    expect(pony.isFasterThan(10)).toBe(false);
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il existe aussi une fonction <code>afterEach</code>, mais je l&#8217;utilise rarement&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Une dernière astuce&#160;: Vitest permet de créer les objets fictifs que j&#8217;évoquais précédemment
(<em>mocks</em> ou <em>spies</em>, comme tu préfères),
ou même d&#8217;espionner les appels à une méthode d&#8217;un objet réel.
On peut ensuite faire des assertions sur ces méthodes espions,
telles que <code>toHaveBeenCalled()</code> qui vérifie que la méthode a été appelée,
ou bien <code>toHaveBeenCalledWith()</code> qui vérifie que la méthode a été appelée avec des paramètres
bien précis.</p>
</div>
<div class="paragraph">
<p>Par exemple, supposons que l&#8217;on veuille tester cette classe <code>Race</code>, qui a une méthode <code>start()</code>.
Cette méthode appelle <code>run()</code> sur chacun des poneys de la course,
et retourne les poneys qui ont bien voulu démarrer (ils peuvent être têtus parfois&#160;:
<code>run()</code> retourne un booléen)&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Race.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">class Race {
  constructor(private ponies: Array&lt;Pony&gt;) {}

  start(): Array&lt;Pony&gt; {
    return (
      this.ponies
        // start every pony
        // and only keeps the ones that started running
        .filter(pony =&gt; pony.run(10))
    );
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nous voulons tester la méthode <code>start()</code>, et vérifier qu&#8217;elle appelle bien
<code>run()</code> sur chacun des poneys.
Donc, on va espionner la méthode <code>run()</code> de tous les poneys de la course&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Race.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('Race', () =&gt; {
  let rainbowDash: Pony;
  let pinkiePie: Pony;
  let race: Race;

  beforeEach(() =&gt; {
    rainbowDash = new Pony('Rainbow Dash');
    // first pony agrees to run
    vi.spyOn(rainbowDash, 'run').mockReturnValue(true);

    pinkiePie = new Pony('Pinkie Pie');
    // second pony refuses to run
    vi.spyOn(pinkiePie, 'run').mockReturnValue(false);

    // create a race with these two ponies
    race = new Race([rainbowDash, pinkiePie]);
  });

});</code></pre>
</div>
</div>
<div class="paragraph">
<p>et vérifier qu&#8217;elle a bien été appelée&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Race.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">test('should make the ponies run when it starts', () =&gt; {
  // start the race
  const runningPonies: Array&lt;Pony&gt; = race.start();
  // should have called `run()` on the ponies
  expect(pinkiePie.run).toHaveBeenCalled();
  // with a speed of 10
  expect(rainbowDash.run).toHaveBeenCalledWith(10);
  // as one pony refused to start, the result should be an array of one pony
  expect(runningPonies).toEqual([rainbowDash]);
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quand tu écris des tests unitaires, veille à ce qu&#8217;ils
soient courts et lisibles.
Et commence par les faire échouer d&#8217;abord, pour être sûr qu&#8217;ils testent correctement
ce qu&#8217;ils sont supposés tester.</p>
</div>
<div class="paragraph">
<p>L&#8217;étape suivante est d&#8217;exécuter nos tests.
Vitest exécute les tests dans <a href="https://github.com/jsdom/jsdom">jsdom</a>,
un environnement ressemblant à celui fourni par un navigateur, mais qui tourne dans Node.js.
La Vue CLI fournit la commande <code>npm run test:unit</code> pour exécuter les tests unitaires.
Elle permet aussi de surveiller tes fichiers et de réexécuter les tests à chaque sauvegarde avec&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">npm run test:unit -- --watch</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme exécuter les tests est très rapide, c&#8217;est pratique d&#8217;utiliser cette option
et d&#8217;avoir un feedback (presque) immédiat sur le code.
Si nécessaire, il est aussi possible de n&#8217;exécuter que certains tests.</p>
</div>
<div class="paragraph">
<p>Je ne vais pas rentrer dans le détail de la configuration de Vitest,
mais c&#8217;est un projet très intéressant, avec de nombreux plugins utilisables,
pour le faire fonctionner avec les bibliothèques que tu veux, obtenir de la couverture de code, etc.
Et bien sûr, si tu écris ton code, comme moi, en TypeScript,
le typage est supporté nativement.</p>
</div>
<div class="paragraph">
<p>À présent que nous savons comment écrire un test unitaire, ajoutons Vue au cocktail.</p>
</div>
</div>
<div class="sect2">
<h3 id="_vuetest_utils">16.4. <code>@vue/test-utils</code></h3>
<div class="paragraph">
<p>Vue a une bibliothèque officielle dédiée aux tests appelée
<a href="https://vue-test-utils.vuejs.org/"><code>@vue/test-utils</code></a>.</p>
</div>
<div class="paragraph">
<p>Elle permet d&#8217;aller plus loin que de simplement tester du code,
en permettant de tester des composants Vue.
On peut <em>monter</em> (<em>mount</em>) un composant dans un test,
et tester non seulement son état et ses fonctions, mais
aussi sa vue et ses événements.</p>
</div>
<div class="paragraph">
<p>Supposons que nous ayons écrit un joli composant <code>Pony</code>.
Il a des <em>props</em>,
et il affiche une image qui dépend de sa couleur.
Il émet aussi un événement lorsque l&#8217;utilisateur clique dessus&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;figure @click="clicked()"&gt;
    &lt;img :src="ponyImageUrl" :alt="ponyModel.name" /&gt;
    &lt;figcaption&gt;{{ ponyModel.name }}&lt;/figcaption&gt;
  &lt;/figure&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { computed } from 'vue';
import { PonyModel } from '@/models/PonyModel';

const props = defineProps&lt;{
  ponyModel: PonyModel;
}&gt;();

const emit = defineEmits&lt;{ ponySelected: [] }&gt;();

const ponyImageUrl = computed(() =&gt; `/images/pony-${props.ponyModel.color.toLowerCase()}.gif`);

function clicked() {
  emit('ponySelected');
}
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nous voulons tester que le composant affiche une image avec l&#8217;attribute <code>src</code> correct.
Nous allons donc <em>monter</em> le composant, c&#8217;est-à-dire instancier le composant, avec sa vue,
dans notre test unitaire&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('Pony.vue', () =&gt; {
  test('should display an image and a legend', () =&gt; {
    const ponyModel: PonyModel = {
      id: 1,
      name: 'Fast Rainbow',
      color: 'PURPLE'
    };

    const wrapper = mount(Pony, {
      props: {
        ponyModel
      }
    });
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>La fonction <code>mount()</code> retourne un <code>wrapper</code>,
qui expose des propriétés et méthodes intéressantes.</p>
</div>
<div class="paragraph">
<p>Par exemple, le wrapper a une propriété <code>vm</code>,
qui représente l&#8217;instance du composant.
Tu peux l&#8217;utiliser pour vérifier la valeur des différentes propriétés du composant&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const url = (wrapper.vm as unknown as { ponyImageUrl: string }).ponyImageUrl;
expect(url).toBe('/images/pony-purple.gif');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il a aussi les méthodes <code>get</code>, <code>find</code> et <code>findAll</code>,
pour trouver des éléments du DOM à l&#8217;intérieur de la vue du composant&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// you can use `wrapper.get` if you want the test to fail if the element is not found
const image = wrapper.get('img');
expect(image.attributes('src')).toBe('/images/pony-purple.gif');
expect(image.attributes('alt')).toBe('Fast Rainbow');

// or you can use `wrapper.find` if you want to check if the element exists or not
const legend = wrapper.find('figcaption');
expect(legend.exists()).toBeTruthy();
expect(legend.text()).toContain('Fast Rainbow');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notre premier test de composant ressemble donc finalement à ça&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">test('should display an image and a legend', () =&gt; {
  const ponyModel: PonyModel = {
    id: 1,
    name: 'Fast Rainbow',
    color: 'PURPLE'
  };

  const wrapper = mount(Pony, {
    props: {
      ponyModel
    }
  });

  // you can use `wrapper.get` if you want the test to fail if the element is not found
  const image = wrapper.get('img');
  expect(image.attributes('src')).toBe('/images/pony-purple.gif');
  expect(image.attributes('alt')).toBe('Fast Rainbow');

  // or you can use `wrapper.find` if you want to check if the element exists or not
  const legend = wrapper.find('figcaption');
  expect(legend.exists()).toBeTruthy();
  expect(legend.text()).toContain('Fast Rainbow');
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Des méthodes similaires (<code>getComponent</code>, <code>findComponent</code>, <code>findAllComponents</code>)
permettent également de trouver
les sous-composants Vue utilisés par notre template.
Par exemple, si notre composant <code>Pony</code> utilisait un sous-composant <code>CustomImage</code>,
<code>wrapper.getComponent(CustomImage)</code> nous permettrait de le localiser.</p>
</div>
<div class="paragraph">
<p>Testons à présent l&#8217;émission de l&#8217;événement lorsque l&#8217;on clique sur le poney.
La méthode <code>trigger</code> de vue-test-utils permet de déclencher un événement&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">test('should emit an event on click', () =&gt; {
  const ponyModel: PonyModel = {
    id: 1,
    name: 'Fast Rainbow',
    color: 'PURPLE'
  };

  const wrapper = mount(Pony, {
    props: {
      ponyModel
    }
  });

  const figure = wrapper.get('figure');
  figure.trigger('click');
  // Check that the click handler on the `figure` element works
  // and emits the `ponySelected` event
  expect(wrapper.emitted('ponySelected')).toBeTruthy();
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si tu veux vérifier le DOM après avoir changé l&#8217;état du composant,
ou après avoir déclenché un évènement,
il te faut attendre que le DOM soit mis à jour.
Pour cela, tu peux:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>soit appeler <code>nextTick()</code> pour rafraîchir le DOM&#160;;</p>
</li>
<li>
<p>soit directement utiliser <code>await</code> sur l&#8217;action comme dans l&#8217;exemple suivant
(ce qui appelle <code>nextTick()</code> pour nous).</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Pony.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">test('should update image when the color changes', async () =&gt; {
  const ponyModel: PonyModel = {
    id: 1,
    name: 'Fast Rainbow',
    color: 'PURPLE'
  };

  const wrapper = mount(Pony, {
    props: {
      ponyModel
    }
  });

  const image = wrapper.get('img');
  expect(image.attributes('src')).toBe('/images/pony-purple.gif');

  // Update the prop
  await wrapper.setProps({
    ponyModel: {
      id: 1,
      name: 'Fast Rainbow',
      color: 'BLUE'
    }
  });

  // Check that the image has been updated
  expect(image.attributes('src')).toBe('/images/pony-blue.gif');
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir, on appelle la méthode <code>wrapper.setProps</code> pour mettre à jour les props,
et on utilise <code>await</code> pour attendre le résultat.
Tu peux faire de même avec <code>trigger</code>.</p>
</div>
<div class="paragraph">
<p><code>@vue/test-utils</code> fournit aussi des options pour monter un composant.
Les plus utiles sont les suivantes&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>l&#8217;option <code>stubs</code> pour monter un composant et remplacer certains sous-composants&#160;;</p>
</li>
<li>
<p>l&#8217;option <code>plugins</code> pour ajouter un plugin au test, comme le routeur&#160;.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Nos exercices en ligne contiennent des tests qui mettent en application
toutes ces fonctions, bien sûr.</p>
</div>
</div>
<div class="sect2">
<h3 id="_snapshot_testing">16.5. Snapshot testing</h3>
<div class="paragraph">
<p>Un moyen différent (ou complémentaire) de tester les templates est d&#8217;utiliser le
<em>snapshot testing</em>.
Vitest permet d&#8217;enregistrer un <em>snapshot</em> (un instantané) du DOM généré par un test de composant
(dans un format lisible)
et de le stocker dans un fichier accompagnant les tests, afin qu&#8217;il soit
examiné manuellement.</p>
</div>
<div class="listingblock">
<div class="title">Pony.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">test('should match the snapshot', () =&gt; {
  const ponyModel: PonyModel = {
    id: 1,
    name: 'Fast Rainbow',
    color: 'PURPLE'
  };

  const wrapper = mount(Pony, {
    props: {
      ponyModel
    }
  });

  expect(wrapper.element).toMatchSnapshot();
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lorsque tu exécutes le test pour la première fois, le test ne fait aucune vérification,
mais il génère le snapshot. Tu peux ensuite vérifier que le snapshot
contient la structure du DOM attendue (et corriger le code jusqu&#8217;à ce que
ce soit le cas).</p>
</div>
<div class="paragraph">
<p>Une fois que tu es satisfait du résultat, tu peux enregistrer
le snapshot dans ton système de gestion de versions (il devient
une partie des sources du projet), de façon à ce que chaque exécution
suivante du test vérifie que le DOM généré par le test corresponde
toujours au snapshot enregistré.</p>
</div>
<div class="paragraph">
<p>Si tu utilises cette fonctionnalité,
tu verras un répertoire <code>__snapshots__</code> apparaître,
contenant le snapshot&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.spec.ts.snap</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`Pony.vue &gt; should match the snapshot 1`] = `
&lt;figure&gt;
  &lt;img
    alt="Fast Rainbow"
    src="/images/pony-purple.gif"
  /&gt;
  &lt;figcaption&gt;
    Fast Rainbow
  &lt;/figcaption&gt;
&lt;/figure&gt;
`;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si tu modifies ensuite le template,
le test échoue et montre les différences par rapport au snapshot enregistré.
Dans cet exemple, j&#8217;ai ajouté un point d&#8217;exclamation après le nom du poney&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">Pony.vue › should match the snapshot

    expect(received).toMatchSnapshot()

  - Expected  - 1
  + Received  + 1

        alt=\"Fast Rainbow\"
        src=\"/images/pony-purple.gif\"
      /&gt;
      &lt;figcaption&gt;
  -     Fast Rainbow
  +     Fast Rainbow!
      &lt;/figcaption&gt;
    &lt;/figure&gt;"

 FAIL  Tests failed. Watching for file changes...
       press u to update snapshot, press h to show help</code></pre>
</div>
</div>
<div class="paragraph">
<p>À toi ensuite de choisir si le changement est un bug (et donc de le corriger)
ou bien si c&#8217;est un changement voulu, et donc d&#8217;accepter les changements
et d&#8217;enregistrer le nouveau snapshot.</p>
</div>
<div class="paragraph">
<p>Même si l&#8217;approche est séduisante,
je ne suis pas un grand fan de cette pratique,
parce que les développeurs acceptent parfois les changements
sans y prêter une grande attention.
Je considère donc le snapshot testing comme un complément
aux tests conventionnels, mais pas comme un remplacement.
Cela peut néanmoins être utile, et c&#8217;est très simple à écrire&#160;!</p>
</div>
</div>
<div class="sect2">
<h3 id="_tests_de_bout_en_bout">16.6. Tests de bout en bout</h3>
<div class="paragraph">
<p>Les tests de bout en bout (<em>end-to-end</em>, or <em>e2e</em>) sont l&#8217;autre type de tests que tu
peux écrire et exécuter.
Ils consistent à réellement lancer ton application dans un navigateur,
et à simuler un utilisateur interagissant avec l&#8217;application (en cliquant
sur des boutons, remplissant des formulaires, etc.).
Ils ont l&#8217;avantage de tester réellement l&#8217;application dans son
ensemble plutôt que des petites unités isolées, mais&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ils sont plus lents (plusieurs secondes par test)&#160;;</p>
</li>
<li>
<p>il est plus difficile de tester les cas à la marge.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Comme tu peux le deviner, tu n&#8217;as pas à choisir entre tests unitaires et tests
e2e. Combiner les deux est l&#8217;idéal pour avoir une bonne couverture et une
assurance raisonnable du bon fonctionnement de l&#8217;application.</p>
</div>
<div class="paragraph">
<p>Vue CLI propose l&#8217;utilisation de deux frameworks de tests&#160;:
<a href="https://www.cypress.io/">Cypress</a> et <a href="https://nightwatchjs.org/">Nightwatch.js</a>,
et create-vue donne également le support de Cypress.
Et je suis en pâmoison devant Cypress 😍.</p>
</div>
<div class="paragraph">
<p>Tu peux lancer les tests e2e avec&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">npm run test:e2e</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_cypress">16.7. Cypress</h3>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZMAAACHCAYAAADTLLRYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEY3QzhFRjRGMDc4MTFFNTgyMDhGMzEwRjI1QzI2RTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEY3QzhFRjVGMDc4MTFFNTgyMDhGMzEwRjI1QzI2RTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0RjdDOEVGMkYwNzgxMUU1ODIwOEYzMTBGMjVDMjZFMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0RjdDOEVGM0YwNzgxMUU1ODIwOEYzMTBGMjVDMjZFMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ph6wb9QAACrXSURBVHja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" alt="Cypress">
</div>
</div>
<div class="paragraph">
<p>Lorsque tu exécutes les tests e2e,
Cypress lance Electron, Chrome, Firefox ou Edge.
Tu peux aussi les lancer en mode <em>headless</em> (c’est-à-dire sans afficher la moindre fenêtre) avec&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="bash">npm run test:e2e -- --headless</code></pre>
</div>
</div>
<div class="paragraph">
<p>ce qui est pratique pour exécuter ces tests sur une plateforme d&#8217;intégration continue.</p>
</div>
<div class="paragraph">
<p>Cypress a plein de fonctionnalités intéressantes&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>il est facile à mettre en place&#160;;</p>
</li>
<li>
<p>il permet de <em>mocker</em> des réponses HTTP&#160;;</p>
</li>
<li>
<p>il permet de tester l&#8217;application avec différentes tailles de fenêtre (pratique pour les applications <em>responsive</em>)&#160;;</p>
</li>
<li>
<p>il offre un DSL relativement simple.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ce qui m&#8217;a conquis cependant est ce qu&#8217;il appelle le <em>time-travel debugging</em>.
À chaque étape du test, Cypress fait un snapshot, qui permet donc
de visualiser, directement dans le navigateur, l&#8217;aspect graphique et le contenu
du DOM.
En plaçant simplement sa souris sur une étape d&#8217;un test en échec, on peut
voir le contenu de la page et interagir avec elle pour rapidement
comprendre ce qui ne va pas.</p>
</div>
<div class="paragraph">
<p>Les tests Cypress sont écrits avec Mocha. Même si c&#8217;est une bibliothèque
différente de Vitest, tu verras qu&#8217;elle est très similaire. Ce qui importe plus,
c&#8217;est l&#8217;API spécifique de Cypress nous permettant d&#8217;interagir avec l&#8217;application.</p>
</div>
<div class="paragraph">
<p>Cypress nous met à disposition un objet <code>cy</code>,
qui nous permet par exemple d&#8217;appeler la méthode <code>visit()</code> pour&#8230;&#8203; visiter une page.
Ensuite, <code>get(selector)</code> permet de sélectionner tous les éléments qui correspondent à
un sélecteur CSS.
Ou encore <code>contains(selector, text)</code> permet de cibler les éléments contenant un texte donné.</p>
</div>
<div class="paragraph">
<p>Les objets retournés par ces méthodes offrent eux-mêmes des méthodes permettant
de vérifier leur état, comme <code>should('contain', text)</code> or <code>should('be', 'not.displayed')</code>.
Ou encore des méthodes comme <code>click()</code> et <code>type()</code> qui permettent d&#8217;interagir avec eux.</p>
</div>
<div class="paragraph">
<p>Comme je l&#8217;évoquais précédemment, tu peux aussi isoler les tests du backend,
en mockant les appels HTTP, et vérifier que les requêtes sont envoyées aux moments
opportuns.</p>
</div>
<div class="paragraph">
<p>Par exemple, supposons que la page de recherche de l&#8217;application affiche un titre,
et un champ de recherche permettant de trouver une course en appelant une API REST
lorsque l&#8217;utilisateur clique sur un bouton.</p>
</div>
<div class="paragraph">
<p>Un test de cette page ressemblerait à ça&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('Search', () =&gt; {
  it('should display a title', () =&gt; {
    cy.visit('/search');
    cy.contains('h1', 'Ponyracer');
  });

  it('should search a race', () =&gt; {
    // mock the API call
    cy.intercept('GET', 'api/races?query=London', []).as('searchRace');

    cy.visit('/search');
    // search the London race
    cy.get('input').type('London');
    // click on the search button
    cy.get('button').click();
    // we should have an API call
    cy.wait('@searchRace');
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ces tests peuvent être assez longs à écrire, mais ils sont vraiment utiles.
On peut les utiliser à d&#8217;autres fins, par exemple enregistrer
des vidéos de démonstration, prendre des copies d&#8217;écran,
les comparer au pixel prêt d&#8217;une exécution à l&#8217;autre avec <a href="https://percy.io">Percy</a>,
etc.</p>
</div>
<div class="paragraph">
<p>Avec les tests unitaires et les tests e2e, tu as toutes les clés
en main pour construire une application robuste et maintenable&#160;!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Pratique"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Tous les exercices de notre Pro Pack viennent avec des tests unitaires et e2e.
Si tu veux en apprendre plus, nous t&#8217;encourageons à y jeter un œil&#160;:
nous avons testé toute l&#8217;application (100&#160;% de couverture)&#160;!
À la fin, tu auras des douzaines d&#8217;exemples dont tu pourras t&#8217;inspirer
pour tes propres projets.
Même les cas plus avancés sont couverts, comme la manipulation du temps dans l&#8217;exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/24/boost-pony">Boost a pony</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>,
ou la communication par Websockets dans l&#8217;exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/25/reactive-score">Reactive score</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="http">17. Envoyer et recevoir des données avec HTTP</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Cela ne vous surprendra pas&#160;: une bonne part de notre travail consiste
à demander à un serveur (le <em>backend</em>) de fournir des données à notre
application (le <em>frontend</em>), et à lui fournir des informations en retour.</p>
</div>
<div class="paragraph">
<p>En règle générale, on utilise HTTP pour cela, même s&#8217;il existe des
alternatives de nos jours, comme les <em>WebSockets</em>.
Vue ne fournit pas de module http, mais il existe de nombreuses
bibliothèques ou APIs qui nous permettent d&#8217;envoyer des requêtes HTTP.</p>
</div>
<div class="paragraph">
<p>L&#8217;un des choix possibles est l&#8217;API <a href="https://caniuse.com/#feat=fetch">fetch</a>,
qui est directement mise à disposition par la plupart des navigateurs.
Vous pouvez parfaitement construire votre application en vous basant sur <code>fetch</code>.</p>
</div>
<div class="paragraph">
<p>Mais de nombreux développeurs utilisent plutôt la bibliothèque
<a href="https://github.com/axios/axios">axios</a>.
Axios offre une API basée sur les promesses, et est utilisable
aussi bien dans Node.js que dans les navigateurs.</p>
</div>
<div class="paragraph">
<p>Et elle offre quelques fonctionnalités pratiques que <code>fetch</code> ne fournit pas.
En route&#160;!</p>
</div>
<div class="sect2">
<h3 id="_obtenir_des_données">17.1. Obtenir des données</h3>
<div class="paragraph">
<p>Axios fournit un service sous la forme d&#8217;un objet que tu peux importer dans n&#8217;importe quel fichier.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import axios from 'axios';</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il expose plusieurs méthodes, qui correspondent aux <em>verbes</em> du protocole HTTP&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>get</code></p>
</li>
<li>
<p><code>post</code></p>
</li>
<li>
<p><code>put</code></p>
</li>
<li>
<p><code>delete</code></p>
</li>
<li>
<p><code>patch</code></p>
</li>
<li>
<p><code>head</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Toutes ces méthodes retournent une <code>Promise</code>,
que tu peux donc utiliser en appelant <code>then</code>,
ou en utilisant <code>async/await</code>, qui est ma technique favorite.</p>
</div>
<div class="paragraph">
<p>Commençons par rapatrier les courses disponibles dans Ponyracer.
Nous supposerons qu&#8217;un <em>backend</em> est déjà en place, et qu&#8217;il expose
une API <em>RESTful</em>. Pour obtenir les courses, nous enverrons une requête
GET à une URL telle que 'http://backend.url/api/races'.</p>
</div>
<div class="paragraph">
<p>En général, l&#8217;URL de base de tes requêtes HTTP sera stockée dans une variable
ou un service, que tu configureras en fonction de ton environnement.
Si les ressources REST sont servies par le même serveur que celui qui sert
ton application Vue, tu peux utiliser un chemin plutôt qu&#8217;une URL complète&#160;:
'/api/races'.</p>
</div>
<div class="paragraph">
<p>Utiliser <code>axios</code> pour envoyer une telle requête est simplissime&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const response = await axios.get('/api/races');</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>axios.get</code> retourne une <code>Promise</code> contenant la réponse
en cas de succès, donc on peut utiliser <code>await</code> pour obtenir le résultat.</p>
</div>
<div class="paragraph">
<p>Le contenu (<em>body</em>) de la réponse est en général la partie qui nous intéresse.
Il se trouve dans la propriété <code>data</code> de la réponse&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// races is of type `any`
const races = response.data;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme <code>axios</code> n&#8217;a aucune idée des données que tu essaies d&#8217;obtenir,
la méthode <code>get</code> est générique,
et tu peux (et en général, devrait) spécifier le type de données retournées par le serveur.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const response = await axios.get&lt;Array&lt;RaceModel&gt;&gt;('/api/races');
// races is of type `Array&lt;RaceModel&gt;`
const races = response.data;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Remarque que tu n&#8217;as pas besoin de désérialiser le <em>body</em> de la réponse
pour transformer son contenu en objet ou en tableau JavaScript.
C&#8217;est fait automatiquement par Axios.
Cependant, Axios ne fait aucune vérification pour s&#8217;assurer que le
document JSON obtenu est conforme au type générique spécifié lors de l&#8217;appel.
Il t&#8217;appartient de choisir le type correct, et de concevoir
l&#8217;interface <code>RaceModel</code> de manière à ce qu&#8217;elle corresponde effectivement
à la structure du document JSON envoyé par le serveur.</p>
</div>
<div class="paragraph">
<p>Bien entendu, tu as aussi accès au reste des informations contenues dans la
réponse HTTP, grâce aux propriétés <code>status</code>, <code>headers</code>, etc.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const response = await axios.get&lt;Array&lt;RaceModel&gt;&gt;('/api/races');
// status contains 200
const status = response.status;
// headers contains []
const headers = response.headers;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La promesse retournée sera en erreur si le statut de la réponse est différent de
2xx or 3xx. Dans ce cas, l&#8217;erreur contenue dans la promesse est de type <code>AxiosError</code>.</p>
</div>
<div class="paragraph">
<p>Envoyer des données est également assez simple.
Il suffit d&#8217;appeler <code>post()</code> ou <code>put()</code>, avec l&#8217;URL de destination et l&#8217;objet à envoyer&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const response = await axios.post&lt;RaceModel&gt;('/api/races', newRace);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Encore une fois, nul besoin de sérialiser l&#8217;objet en JSON. Axios s&#8217;en charge.
Le type générique <code>RaceModel</code>, comme pour l&#8217;appel à <code>get()</code>,
représente le type attendu dans la réponse.
Donc, dans cet exemple, le serveur attend un <code>RaceModel</code> en entrée,
et fournit en sortie le <code>RaceModel</code> créé.</p>
</div>
<div class="paragraph">
<p>Je ne te montrerai pas d&#8217;exemple pour les autres méthodes&#160;: je suis sûr que tu as compris le principe.</p>
</div>
</div>
<div class="sect2">
<h3 id="_options_avancées">17.2. Options avancées</h3>
<div class="paragraph">
<p>Bien sûr, il est possible de configurer tes requêtes plus finement.
Chaque méthode prend un argument optionnel <code>config</code>,
qui permet de configurer la requête comme tu l&#8217;entends.
Voici quelques-unes des options, les plus utiles.</p>
</div>
<div class="paragraph">
<p><code>params</code> représente les paramètres de recherche de la requête à ajouter en fin d&#8217;URL
(que l&#8217;on connaît sous le nom de <em>query string</em>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const params = {
  sort: 'ascending',
  page: '1'
};
const response = await axios.get&lt;Array&lt;RaceModel&gt;&gt;('/api/races', { params });
// will call the URL /api/races?sort=ascending&amp;page=1</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;option <code>headers</code> permet d&#8217;ajouter des entêtes à la requête.
C&#8217;est souvent nécessaire, par exemple pour l&#8217;authentification
basée sur des <em>JSON Web Tokens</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const headers = { Authorization: `Bearer ${token}` };
const response = await axios.get&lt;Array&lt;RaceModel&gt;&gt;('/api/races', { headers });</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nous mettrons cela en pratique dans nos exercices très bientôt.</p>
</div>
</div>
<div class="sect2">
<h3 id="_intercepteurs">17.3. Intercepteurs</h3>
<div class="paragraph">
<p>L&#8217;une des raisons de vouloir utiliser Axios plutôt que l&#8217;API Fetch
est le support des intercepteurs.
Ils sont intéressants pour&#8230;&#8203; intercepter les requêtes envoyées ou les réponses
reçues par ton application.</p>
</div>
<div class="paragraph">
<p>Supposons par exemple que tu veuilles ajouter un entête spécifique à tout
un ensemble de requêtes HTTP.
C&#8217;est possible, sans répéter le même code pour chacune des requêtes,
en écrivant un intercepteur tel que celui-ci&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">axios.interceptors.request.use((config: InternalAxiosRequestConfig) =&gt; {
  if (user) {
    config.headers!.Authorization = `Bearer ${user.token}`;
  }
  return config;
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>À présent, chaque requête passera par l&#8217;intercepteur,
qui ajoutera l&#8217;entête si nécessaire (dans notre exemple, si l&#8217;utilisateur courant est identifié).</p>
</div>
<div class="paragraph">
<p>Tu peux aussi intercepter les réponses. C&#8217;est extrêmement pratique
pour gérer les erreurs de manière générique et centralisée&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">axios.interceptors.response.use(
  (response: AxiosResponse) =&gt; response,
  error =&gt; {
    // do whatever you want with the error
    return Promise.reject(error);
  }
);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tests">17.4. Tests</h3>
<div class="paragraph">
<p>Nous avons maintenant un composant ou un service qui envoie une requête HTTP
pour obtenir les courses de poneys.
Comment le tester&#160;?</p>
</div>
<div class="paragraph">
<p>Dans un test unitaire, nous voulons éviter de réellement envoyer une requête
au serveur&#160;: ce n&#8217;est pas ce que nous voulons tester.
Nous voudrions donc simuler un serveur et lui faire renvoyer des données
de test fictives.
Il nous suffit pour cela d&#8217;utiliser <code>vi.spyOn</code>
pour "remplacer" les méthodes d&#8217;Axios et leur faire retourner ce que l&#8217;on désire&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const fakeRace = { id: 1 } as RaceModel;
const fakeResponse = { status: 200, data: fakeRace } as AxiosResponse;
vi.spyOn(axios, 'get').mockResolvedValue(fakeResponse);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et voilà&#160;!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaye notre exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/10/http">HTTP</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>&#160;!
Nous avons préparé une API REST complète, prête à être utilisée.
Récupérons donc les courses avec Axios.
Plus tard, nous apprendrons comment appeler une API sécurisée avec un système d&#8217;authentification et des intercepteurs
dans l&#8217;exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/22/http-auth">HTTP avec authentification</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>.
Dans le même genre, nous utiliserons aussi les
<a href="https://vue-exercises.ninja-squad.com/exercises/23/websockets">WebSockets</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco0APWP0jRywpmrWwBGIJnuEBsAKERityoCDQrOzZOvjIm5KSJ0ktsBJhS0zOzAAYocikRCis7N0++IhaknFwEsERGCVCe5Vn+SE7GpK2yuk6+EtZIKdcCWBd0d/2GjZu8JABKFLmcaMjGOIjeHHZTGluA4eC91XtuU2oG6C+4GhOWHCXarvWOMTKGt0hjZ/hvgF3ec/cepfY6+SQVEQgqq7Xet5082H/g4MFDh4/g6LHj9RMnTwGnpeeMUlNAv8MxYSnSxtn5c+cvaHbxkmaXgTXSuKKuzgIuxuSaaJG/ru1uAJLdVOoW37S7MWG372iru9gifffUfWD43Lkxd2PCHtiTPMQj6dukrgIwf+7sdmdjwh5riyfmaNhTvpvL2nhGkXou2r3Q3YC10uC7eQm80uysszFhr3WnC8CaMAi39a52kSQmOrx5q9tdBmQzyIwfhJ1zNibsdkeSV9iyQpB30fa1OSb247mLRysE2eFyTDjJ+/aj2WkJwihaVcHsjf3wUak92z5J9rkjyLOz9bqeq58YczAm7I0OfVG+e59386Cpr3y+nZ65GRPxTQe+Kx9HMROvfviD1mnf+M9izaq5caQLw999qOpTsIZHJ1YW3MuMvt/9AUPLzCANymH0Tpg50TIz8/6ydTudmhNXv5Za1lY/14EnfU6/fbqdbCZpsCLFgBgP30sq4v8zk94qkT6xRz9V87TjDAgtN/Ef+NJ1qTw62wcPigwVRYVhqkL26rNCBw/ao2+Ju1J5dDgjo9xjjMaFZIIYipJzVgDeOrqn8cj9oieNx2F5r3uHeVwlmlCtqmFySkBueumlt3pEmbvSeDiS6ZlrDUIUiAqzpGO2KOJ4K7WHS3N989Ji4eoiEflCMk56LooY7j+W0sPLU4WhxTn+Nw8TYCLG475Ufao8GMGSClXEsqjJXSk9HJcOslLJMuxBqyKOnpseNSnPjVqPfqnRHxAmEAm4/6XEKo3tlf1CVays+KtUZm19jQAiET1Ja1TxeIz0bGxube9sbpiLcN5KtCht0uNV0rMbRe++934UfWAuwrk/wVjbJD3CU6Tlwyj66L333oui6MMU+5cT69GlAkTPx2WFT977JIqiXdLQn4kI27hPE+DTaJ9PtSmvxpUEQok2TI7iRT6jGksy7BuI4BfdS4SQpVF8Tgpd+F6h4SWxz1IKkWbpUThFkA8jxRdfkg4lUAyUkuQrc5EWR5KnGnygRL4mQFCpjl9WEorVcVORxg6WqIj1b8oa335HmFl/vHhFJvG+iG8q0sobBPP9d9//QAjNeBJoa2PaIAaAs3iCVs1EOnmDZCjiG4o0HuIJkp1IMTAUuZUdddmw1xrLZCbS5UhyecqOK+pOiETwzpV4jz1NGTEhPeDghqNdIV0mM2qR4kU8HeDCcEKX6mZ23A94kaqAhakinKTsCIpABBaGc+kUZcZyMpEWR0uYpwxAoxuMMg1eFiZ8TuHozxgLJpprnYMJM+gT8GgBDn9EiTJj+KAJ7FTAZMaHIBY55GAyPgZ9oRjXiBx2YjDv16en4x5yqCgEXhDAY2SIi+upon5Frg1eEIBHZpTYKoIp9qLMfM0LRJa1ORU6ZeJmNpn5IEN+/CmKfna0TFNyJj12EUAzm1/JfLB3f4nK/FpnlJwqORVcAvjsAwV9uv8WSX6qbwO7BadCgRArUuQrqiHyYyT5vR6RydBRuIQoqsJIQGn+kCJ/phY5pVZDEtaM1n5SgGb96+9//uAeHLb4udxkXpNgj3mJdlk/8yCzPOMip3Ke6oFXS7nJyVOqItOXvKSbbK8uChxoEOIaHO/V0CiI/VXiIjjRsEj3Yw4g3gOgu3rHwDTaWg9l5EGaZ9UYCtc0bpQTbkvz/4GN51Jy4u8SgI7mRr7vu5qbq7/xsW4yAL1ommgoGh1GWEIaAPDGm1gDrGWBTMEXLMihw/gpI/1siz/AwxqQjjoGOfSOB2gFGuyVSXEqvQinTa/RgiWqQ2g6AxFg0tYJDTS5XKhLBJt0yPSKpSl9u9b4oaz1DiX8D/PG9PeOWj+1+ZBajK7/QXCUeKfMRSA3trS0gM6IjxLXTCRjWD1DqyI8SvI2RXiUPGZThEeJd8qmCI8S16YIj5LQjohmwsvbFOFRUrIpwqPEsyrCo8S1KcKj5FULIvrbYrdNER4lJZsiPEo8OyKaKHFtivAouWRThEeJ021ThEdJzqYIj5KCHRFNlDxtU4RHySWbIo0Oo9uKiCZKcjZFeJQU7IhoouTphCL/Alq7hNcCRv2nAAAAAElFTkSuQmCC" alt="Pro" width="18"></span>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="slots">18. Slots</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_projection_de_contenu_avec_slot">18.1. Projection de contenu avec <code>slot</code></h3>
<div class="paragraph">
<p>Nous, les développeurs, n&#8217;aimons pas nous répéter. Il est donc assez commun
de vouloir créer des composants réutilisables, dont le contenu est dynamique.</p>
</div>
<div class="paragraph">
<p>Par exemple, supposons que nous voulions utiliser <a href="https://getbootstrap.com/docs/4.5/components/card/">un composant "card"</a>
en utilisant le framework CSS Bootstrap.
Le modèle d&#8217;une carte est le suivant&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div class="card"&gt;
  &lt;div class="card-body"&gt;
    &lt;h4 class="card-title"&gt;Card title&lt;/h4&gt;
    &lt;p class="card-text"&gt;Some quick example text&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut bien sûr copier-coller ce <em>boilerplate</em>
chaque fois que l&#8217;on veut afficher une carte dans l&#8217;application.
Mais à ce moment de ta lecture, tu dois sans doute te dire
que ce serait une bonne idée d&#8217;en faire un composant.
Deux parties de ce composant sont dynamiques (le titre et le contenu),
donc ta première idée consistera sans doute à utiliser des <em>props</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Card.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;div class="card"&gt;
    &lt;div class="card-body"&gt;
      &lt;h4 class="card-title"&gt;{{ title }}&lt;/h4&gt;
      &lt;p class="card-text"&gt;{{ text }}&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
defineProps&lt;{
  title: string;
  text: string;
}&gt;();
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>et tu utiliseras le composant ainsi&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Card title="Card title" text="Some quick example text"&gt;&lt;/Card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cela fonctionne parfaitement.
Mais, en examinant ton besoin plus attentivement,
tu vas réaliser que le contenu de la carte est souvent en fait du HTML,
contenant éventuellement des composants, des directives, des <em>bindings</em>,
et pas juste du texte.</p>
</div>
<div class="paragraph">
<p>Bien sûr, Vue supporte ce cas d&#8217;utilisation.
C&#8217;est très simple de fournir un bout de template HTML à un composant,
grâce à <code>&lt;slot&gt;</code>.</p>
</div>
<div class="paragraph">
<p><code>slot</code> est un tag fourni par Vue, te permettant d&#8217;inclure, dans
le template d&#8217;un composant enfant, un morceau de template
fourni par le composant parent&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Card.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;div class="card"&gt;
    &lt;div class="card-body"&gt;
      &lt;h4 class="card-title"&gt;{{ title }}&lt;/h4&gt;
      &lt;p class="card-text"&gt;
        &lt;slot&gt;&lt;/slot&gt;
      &lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
defineProps&lt;{
  title: string;
}&gt;();
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Un tel composant s&#8217;utilise comme ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Card title="Card title"&gt;Some quick &lt;strong&gt;example&lt;/strong&gt; text&lt;/Card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut également passer un composant Vue, par exemple&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Card title="Card title"&gt;
  &lt;Pony :ponyModel="pony" /&gt;
&lt;/Card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bien que, dans le DOM généré par Vue, le composant <code>Pony</code>
soit affiché à l&#8217;intérieur du composant <code>Card</code>, toutes les
expressions (comme <code>pony</code> dans l&#8217;exemple ci-dessus)
sont évaluées sur le composant parent,
et pas sur le composant <code>Card</code>.
Le morceau de template passé au composant <code>Card</code> n&#8217;a pas accès
à l&#8217;état du composant <code>Card</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_slots_nommés">18.2. Slots nommés</h3>
<div class="paragraph">
<p>Finalement, tu réaliseras aussi sans doute que le titre, lui aussi,
devrait pouvoir contenir du HTML.
Il est possible de passer plusieurs parties de contenu au composant
<code>Card</code>, à condition de <em>nommer</em> les slots.</p>
</div>
<div class="listingblock">
<div class="title">Card.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;div class="card"&gt;
    &lt;div class="card-body"&gt;
      &lt;h4 class="card-title"&gt;
        &lt;slot name="title"&gt;&lt;/slot&gt;
      &lt;/h4&gt;
      &lt;p class="card-text"&gt;
        &lt;slot&gt;&lt;/slot&gt;
      &lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le slot sans nom est implicitement nommé <code>default</code>.</p>
</div>
<div class="paragraph">
<p>Pour fournir le titre et le contenu au composant <code>Card</code>,
il te suffit de les envelopper dans un élément <code>template</code>
et de donner à ces deux éléments le nom du slot qu&#8217;ils doivent remplir.
Un <code>template</code> est juste un élément invisible.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Card&gt;
  &lt;template v-slot:title&gt;Card title&lt;/template&gt;
  &lt;template v-slot:default&gt;Some quick &lt;strong&gt;example&lt;/strong&gt; text&lt;/template&gt;
&lt;/Card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu peux aussi utiliser la syntaxe moins verbeuse (et en général préférée) <code>#name</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Card&gt;
  &lt;template #title&gt;Card title&lt;/template&gt;
  &lt;template #default&gt;Some quick &lt;strong&gt;example&lt;/strong&gt; text&lt;/template&gt;
&lt;/Card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que le nom <code>#default</code> n&#8217;a même pas besoin d&#8217;être spécifié&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Card&gt;
  &lt;template #title&gt;Card title&lt;/template&gt;
  &lt;template&gt;Some quick &lt;strong&gt;example&lt;/strong&gt; text&lt;/template&gt;
&lt;/Card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et tu peux même te passer de l&#8217;élément <code>template</code> autour du contenu du slot par défaut&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Card&gt;
  &lt;template #title&gt;Card title&lt;/template&gt;
  Some quick &lt;strong&gt;example&lt;/strong&gt; text
&lt;/Card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Certains composants fournis par Vue utilisent ce mécanisme de slots.
Nous en utiliserons certains dans les chapitres suivants.</p>
</div>
<div class="paragraph">
<p>En tant que développeur d&#8217;applications,
tu finiras aussi par utiliser les slots dans tes propres composants.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Mise en pratique"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaye notre exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/11/slots">Slots</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
pour construire un nouveau composant utilisant cette fonctionnalité.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_contenu_par_défaut">18.3. Contenu par défaut</h3>
<div class="paragraph">
<p>Si le composant parent ne fournit aucun contenu pour un slot,
le composant enfant peut afficher un contenu par défaut au lieu de laisser le
slot vide.
On peut donc, par exemple, donner un titre par défaut à notre composant <code>Card</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Card.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;div class="card"&gt;
    &lt;div class="card-body"&gt;
      &lt;h4 class="card-title"&gt;
        &lt;slot name="title"&gt;Default title&lt;/slot&gt;
      &lt;/h4&gt;
      &lt;p class="card-text"&gt;
        &lt;slot&gt;&lt;/slot&gt;
      &lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si on utilise le composant <code>Card</code> et que l&#8217;on omet
de spécifier un titre, le titre <em>Default title</em> sera affiché.</p>
</div>
</div>
<div class="sect2">
<h3 id="_slot_props">18.4. <em>Slot props</em></h3>
<div class="paragraph">
<p>Comme on l&#8217;a expliqué avant, le contenu du slot
peut accéder à l&#8217;état du composant <strong>courant</strong>.
Par exemple, si on utilise le composant <code>Card</code>,
on peut écrire&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Card&gt;
  &lt;template #title&gt;Card title&lt;/template&gt;
  Some quick &lt;strong&gt;{{ example }}&lt;/strong&gt; text
&lt;/Card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>où <code>example</code> est une propriété du composant <strong>courant</strong>, et non une propriété
de <code>Card</code>.</p>
</div>
<div class="paragraph">
<p>Mais, parfois, c&#8217;est très pratique de pouvoir accéder
à une propriété ou une fonction exposée par le composant <code>Card</code> lui-même.
Imaginons qu&#8217;il ait une fonction permettant de masquer le composant,
appelée quand on clique sur le bouton <em>Close</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Card.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;div v-if="!isClosed" class="card"&gt;
    &lt;div class="card-body"&gt;
      &lt;h4 class="card-title"&gt;
        &lt;slot name="title"&gt;Default title&lt;/slot&gt;
      &lt;/h4&gt;
      &lt;p class="card-text"&gt;
        &lt;slot&gt;&lt;/slot&gt;
      &lt;/p&gt;
      &lt;button class="btn btn-primary" @click="close()"&gt;Close&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { ref } from 'vue';

const isClosed = ref(false);
const close = () =&gt; (isClosed.value = true);
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tout le template du composant est enveloppé dans un <code>v-if</code>,
et si l&#8217;utilisateur clique sur le bouton <em>Close</em>,
la condition du <code>v-if</code> devient fausse,
enlevant donc la carte de la page.</p>
</div>
<div class="paragraph">
<p>Tout fonctionne comme prévu, mais, quelques semaines plus tard,
le client demande à pouvoir fermer certaines cartes
en cliquant sur un bouton contenu dans le titre de la carte.
Le problème, c&#8217;est que le titre ne fait pas partie du composant
<code>Card</code>. Il est <em>passé</em> au composant <code>Card</code> par le composant parent,
dans un template. Et ce template doit donc pouvoir appeler
la fonction <code>close</code> du composant <code>Card</code>.</p>
</div>
<div class="paragraph">
<p>C&#8217;est dans ce genre de situation que l&#8217;on utilise des <em>slot props</em>.
Il s&#8217;agit de propriétés exposées au template d&#8217;un slot par le
composant qui définit ce slot.
Il peut exposer n&#8217;importe quelle propriété ou fonction
en utilisant la syntaxe (classique ou raccourcie) de <code>v-bind</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Card.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;h4 class="card-title"&gt;
  &lt;slot name="title" :closeCard="close"&gt;Default title&lt;/slot&gt;
&lt;/h4&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dans l&#8217;exemple ci-dessus, le composant <code>Card</code> met à disposition
du template passé par le parent pour le slot <em>title</em> sa fonction <code>close</code>.
Cette fonction est exposée sous le nom <code>closeCard</code>, mais on pourrait bien sûr
choisir d&#8217;utiliser le nom original.</p>
</div>
<div class="paragraph">
<p>On parle aussi de <em>scoped props</em>&#160;: ce sont des propriétés dont la portée
est limitée au template d&#8217;un slot précis.</p>
</div>
<div class="paragraph">
<p>Maintenant, quand on utilise le composant <code>Card</code>,
on peut accéder aux propriétés du slot <em>title</em> (c&#8217;est-à-dire à la fonction <code>closeCard</code>)
depuis le template passé pour remplir ce slot&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Card&gt;
  &lt;template #title="titleProps"&gt;
    &lt;div class="title" @click="titleProps.closeCard()"&gt;Card title&lt;/div&gt;
  &lt;/template&gt;
  Some quick &lt;strong&gt;example&lt;/strong&gt; text
&lt;/Card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si le composant expose plusieurs <em>slot props</em>,
mais que le parent ne veut en utiliser qu&#8217;une ou quelques-unes,
la déstructuration s&#8217;avère utile pour rendre le code plus concis et lisible&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Card&gt;
  &lt;template #title="{ closeCard }"&gt;
    &lt;div class="title" @click="closeCard()"&gt;Card title&lt;/div&gt;
  &lt;/template&gt;
  Some quick &lt;strong&gt;example&lt;/strong&gt; text
&lt;/Card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que quand tu exposes des <em>slot props</em> sur le slot par défaut,
tu peux soit utiliser un <code>template</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Card&gt;
  &lt;template #default="{ closeCard }"&gt;
    Some quick &lt;strong&gt;example&lt;/strong&gt; text
    &lt;button class="close" @click="closeCard()"&gt;x&lt;/button&gt;
  &lt;/template&gt;
&lt;/Card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>ou utiliser directement <code>v-slot</code> sur le composant&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Card v-slot="{ closeCard }"&gt;
  Some quick &lt;strong&gt;example&lt;/strong&gt; text
  &lt;button class="close" @click="closeCard()"&gt;x&lt;/button&gt;
&lt;/Card&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nous rencontrerons à nouveau cette syntaxe dans les chapitres suivants&#160;!</p>
</div>
</div>
<div class="sect2">
<h3 id="_slots_typés_avec_defineslots">18.5. Slots typés avec <code>defineSlots</code></h3>
<div class="paragraph">
<p>Depuis Vue v3.3, il est possible d&#8217;utiliser une nouvelle macro appelée <code>defineSlots</code>
(ou une option <code>slots</code> si tu utilises <code>defineComponent</code>).
Cette macro a été ajoutée au framework pour aider à déclarer le typage des slots.
En faisant cela, Volar sera capable de vérifier les slot props.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">defineSlots&lt;{
  // default slot has no props
  default: (props: Record&lt;string, never&gt;) =&gt; void;
  // title slot has a prop `closeCard`, which is a function
  title: (props: { closeCard: () =&gt; void }) =&gt; void;
}&gt;();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si le composant <code>Card</code> n&#8217;est pas utilisé correctement, Volar émet une erreur&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Card&gt;
  &lt;template #title="{ close }"&gt;...&lt;/template&gt;
&lt;/Card&gt;
&lt;!-- error TS2339: Property 'close' does not exist on type '{ closeCard: () =&gt; void; }'. --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La valeur retournée par <code>defineProps</code> peut être utilisée
et est le même objet qui est retourné par <code>useSlots</code>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="suspense">19. Suspense</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Cette API est expérimentale et pourrait changer dans le futur.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Lorsqu&#8217;un composant doit obtenir des données de manière asynchrone,
nous avons vu qu&#8217;il pouvait le faire en passant au <em>hook</em> <code>onMounted</code>
une fonction <code>async</code>, qui charge et attend les données.</p>
</div>
<div class="paragraph">
<p>Par exemple, supposons que l&#8217;on veuille afficher un poney et son
palmarès.</p>
</div>
<div class="paragraph">
<p>Le composant <code>Pony</code> pourrait ressembler à cela&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;h1&gt;Pony {{ ponyModel.name }}&lt;/h1&gt;
  &lt;TrackRecord :ponyId="ponyModel.id" /&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>TrackRecord</code> étant lui-même un composant avec le template suivant&#160;:</p>
</div>
<div class="listingblock">
<div class="title">TrackRecord.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;h2&gt;Track record&lt;/h2&gt;
  &lt;ul&gt;
    &lt;li v-for="record in trackRecord" :key="record.id"&gt;{{ record.position }} - {{ record.race.name }}&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>qui obtient le palmarès du poney depuis le <em>hook</em> <code>onMounted</code>&#160;:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
On n&#8217;utilise pas ici <code>script setup</code> volontairement,
afin de plus facilement expliquer ce qu&#8217;il se passe.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">TrackRecord.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">setup(props) {
  const trackRecord = ref&lt;Array&lt;TrackRecordModel&gt;&gt;([]);
  const ponyService = usePonyService();
  onMounted(async () =&gt; (trackRecord.value = await ponyService.getTrackRecord(props.ponyId)));
  return { trackRecord };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Que se passe-t-il si on enlève le <em>hook</em> <code>onMounted</code>, et que l&#8217;on charge
le palmarès directement depuis la fonction <code>setup</code>&#160;?</p>
</div>
<div class="listingblock">
<div class="title">TrackRecord.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">async setup(props) {
  const ponyService = usePonyService();
  const trackRecord = ref(await ponyService.getTrackRecord(props.ponyId));
  return { trackRecord };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est un peu moins verbeux, mais pour que ce code compile,
il faut ajouter le mot-clé <code>async</code> à la fonction <code>setup</code>.
Si tu essaies d&#8217;utiliser ce composant dans l&#8217;application,
tu verras que cela ne fonctionne pas&#160;: Vue affiche une erreur dans la console
et n&#8217;affiche pas le composant.</p>
</div>
<div class="paragraph">
<p>En effet, si la fonction <code>setup</code> d&#8217;un composant est asynchrone,
Vue exige que l&#8217;on enveloppe son élément dans un composant <code>Suspense</code>.
<code>Suspense</code> est fourni par Vue, disponible globalement,
et donc directement utilisable dans tous les templates.
Utilisons-le dans le composant <code>Pony</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;h1&gt;Pony {{ ponyModel.name }}&lt;/h1&gt;
  &lt;Suspense&gt;
    &lt;div&gt;
      &lt;TrackRecord :ponyId="ponyModel.id" /&gt;
    &lt;/div&gt;
  &lt;/Suspense&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ça marche&#160;!
<code>Suspense</code> attend la complétion de la fonction <code>setup</code> du composant <code>TrackRecord</code>,
et l&#8217;affiche dès qu&#8217;il est prêt.</p>
</div>
<div class="paragraph">
<p>Tu reconnais (j&#8217;espère) ici que le composant <code>Suspense</code> a un <em>slot</em>,
et que nous lui passons <code>TrackRecord</code> comme contenu par défaut.
Tu pourrais envelopper l&#8217;élément <code>TrackRecord</code> dans un élément <code>template</code>
avec le nom <code>#default</code>, et cela reviendrait donc au même.</p>
</div>
<div class="paragraph">
<p>Mais ça ne s&#8217;arrête pas là&#160;!</p>
</div>
<div class="sect2">
<h3 id="_afficher_une_alternative">19.1. Afficher une alternative</h3>
<div class="paragraph">
<p>Pendant tout le temps où la fonction <code>setup()</code> s&#8217;exécute, <code>Suspense</code>
permet d&#8217;afficher un contenu alternatif. Il suffit pour cela
de lui fournir un élément <code>template</code> nommé <code>fallback</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;h1&gt;Pony {{ ponyModel.name }}&lt;/h1&gt;
  &lt;Suspense&gt;
    &lt;div&gt;
      &lt;TrackRecord :ponyId="ponyModel.id" /&gt;
    &lt;/div&gt;
    &lt;template #fallback&gt;Loading...&lt;/template&gt;
  &lt;/Suspense&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Suspense</code> affichera donc <code>Loading&#8230;&#8203;</code> jusqu&#8217;à ce que le composant
<code>TrackRecord</code> soit prêt et puisse remplacer ce message alternatif&#160;!</p>
</div>
<div class="paragraph">
<p><code>Suspense</code> ne se limite pas à un seul composant. On peut y placer autant
de composants que l&#8217;on veut. Le contenu alternatif sera affiché
jusqu&#8217;à ce que tous les composants soient prêts.</p>
</div>
<div class="paragraph">
<p>Par exemple, si on veut aussi afficher l&#8217;extrait de naissance du poney,
on peut ajouter le composant <code>BirthCertificate</code> à l&#8217;intérieur de <code>Suspense</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;h1&gt;Pony {{ ponyModel.name }}&lt;/h1&gt;
  &lt;Suspense&gt;
    &lt;div&gt;
      &lt;TrackRecord :ponyId="ponyModel.id" /&gt;
      &lt;BirthCertificate :ponyId="ponyModel.id" /&gt;
    &lt;/div&gt;
    &lt;template #fallback&gt;Loading...&lt;/template&gt;
  &lt;/Suspense&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le message de chargement sera affiché tant que
<em>toutes</em> les données ne sont pas disponibles, c&#8217;est-à-dire
jusqu&#8217;à ce que le palmarès <em>et</em> l&#8217;extrait de naissance
soient prêts.</p>
</div>
</div>
<div class="sect2">
<h3 id="_gérer_les_erreurs_avec_onerrorcaptured">19.2. Gérer les erreurs avec <code>onErrorCaptured</code></h3>
<div class="paragraph">
<p>Que se passe-t-il si l&#8217;un des composants échoue à charger les données dont
il a besoin&#160;?
L&#8217;indicateur de chargement sera-t-il affiché <em>ad vitam æternam</em>&#160;?</p>
</div>
<div class="paragraph">
<p>Non, le contenu alternatif disparaît quand les fonctions <code>setup</code> se
terminent, avec succès ou pas.
Donc seuls les composants qui sont parvenus à charger leurs données seront affichés.</p>
</div>
<div class="paragraph">
<p>On peut cependant réagir en cas d&#8217;erreur, en utilisant le <em>hook</em>
<code>onErrorCaptured</code>.
<code>onErrorCaptured</code> peut être utilisé, dans un composant,
pour capturer toute erreur levée par un composant descendant.
Le <em>hook</em> peut bien sûr gérer l&#8217;erreur comme il l&#8217;entend,
puis retourner <code>true</code> (ou ne rien retourner du tout)
pour propager l&#8217;erreur vers les composants parents,
ou retourner <code>false</code> pour stopper la propagation de l&#8217;erreur.</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const errorMessage = ref&lt;string | null&gt;(null);
onErrorCaptured((e: unknown) =&gt; {
  console.warn(e);
  errorMessage.value = (e as Error).message;
  return false;
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Une fois l&#8217;erreur capturée comme montré ci-dessus, on peut
l&#8217;afficher avec un <code>v-if</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;h1&gt;Pony {{ ponyModel.name }}&lt;/h1&gt;
  &lt;div v-if="errorMessage"&gt;An error occurred while loading data: {{ errorMessage }}&lt;/div&gt;
  &lt;Suspense&gt;
    &lt;div&gt;
      &lt;TrackRecord :ponyId="ponyModel.id" /&gt;
      &lt;BirthCertificate :ponyId="ponyModel.id" /&gt;
    &lt;/div&gt;
    &lt;template #fallback&gt;Loading...&lt;/template&gt;
  &lt;/Suspense&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si l&#8217;un des composants échoue à charger ses données, le message d&#8217;erreur sera
affiché, ainsi que les autres composants.
On pourrait bien sûr placer un <code>v-else</code> sur l&#8217;élément <code>Suspense</code> pour n&#8217;afficher
aucun autre composant en cas d&#8217;erreur.</p>
</div>
</div>
<div class="sect2">
<h3 id="_événements">19.3. Événements</h3>
<div class="paragraph">
<p>Le composant <code>Suspense</code> émet trois événements que l&#8217;on peut écouter&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>pending</code>, émis lorsque des composants enfants sont en cours de chargement&#160;;</p>
</li>
<li>
<p><code>resolve</code>, émis lorsque tous les composants enfants à afficher sont résolus, c&#8217;est-à-dire prêts à être affichés&#160;;</p>
</li>
<li>
<p><code>fallback</code>, émis lorsque le contenu alternatif est affiché.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tu pourrais par exemple combiner ces deux événements pour afficher un
indicateur chaque fois qu&#8217;un composant enfant charge des données,
et le masquer lorsque plus rien n&#8217;est en cours de chargement.</p>
</div>
</div>
<div class="sect2">
<h3 id="_suspense_contre_onmounted">19.4. <code>Suspense</code> contre <code>onMounted</code></h3>
<div class="paragraph">
<p>Alors quel est l&#8217;intérêt d&#8217;utiliser <code>Suspense</code> plutôt que <code>onMounted</code>&#160;?
Les deux conviennent dans la plupart des cas pour être honnête.
Un composant avec un setup <code>async</code> est un peu moins verbeux que son alternative utilisant <code>onMounted</code>,
mais tu dois utiliser <code>Suspense</code> pour l&#8217;afficher.
La grande force de <code>Suspense</code>, c&#8217;est qu&#8217;il fonctionne avec un ou plusieurs composants asynchrones,
ou même avec composants asynchrones imbriqués les uns dans les autres.
Cela nous donne une façon élégante de gérer l&#8217;état de chargement ou l&#8217;état en erreur
d&#8217;une manière centralisée, même si l&#8217;on charge un grand nombre de composants asynchrones
qui ne se résoudront pas au même moment.</p>
</div>
<div class="paragraph">
<p><code>onMounted</code> est quand même toujours utile.
Elle est toujours nécessaire si tu as besoin de manipuler le DOM quand le composant est créé.
Elle fonctionne aussi un peu différemment&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>en utilisant <code>Suspense</code>, le composant asynchrone ne s&#8217;affichera pas tant que les données ne sont pas chargées.</p>
</li>
<li>
<p>en utilisant <code>onMounted</code>, le composant s&#8217;affiche directement, sans données, puis les données apparaissent quand elles sont chargées.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>Suspense</code> est encore au stade expérimental,
et devrait être stabilisé en version 3.1.</p>
</div>
</div>
<div class="sect2">
<h3 id="_script_setup_et_await">19.5. <code>script setup</code> et <code>await</code></h3>
<div class="paragraph">
<p>Tu as peut-être remarqué que ce chapitre utilise des composants avec <code>defineComponent</code>.
C&#8217;est volontaire afin d&#8217;expliquer la subtilité du <code>async</code> à ajouter.
Mais que se passe-t-il si on utilise <code>script setup</code>&#160;?
On n&#8217;a alors pas besoin d&#8217;ajouter de mot-clé <code>async</code>&#160;:
le compilateur Vue s&#8217;en charge pour nous&#160;!</p>
</div>
<div class="paragraph">
<p>Voici le même composant <code>TrackRecord</code> en mode <code>script setup</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">TrackRecord.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;script setup lang="ts"&gt;
import { ref } from 'vue';
import { usePonyService } from './PonyService';

const props = defineProps&lt;{
  ponyId: number;
}&gt;();

const ponyService = usePonyService();
const trackRecord = ref(await ponyService.getTrackRecord(props.ponyId));
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu peux bien sûr utiliser cette version dans tes applications,
et c&#8217;est ce que l&#8217;on fait dans l&#8217;exercice pour mettre ça en pratique.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaie notre exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/12/suspense">Suspense</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
pour charger des données asynchrones avec style&#160;!</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="router">20. Le routeur</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Être capable de naviguer entre différents composants de l&#8217;application
et voir l&#8217;URL changer dans la barre d&#8217;adresse du navigateur est crucial,
même dans une application <em>single page</em>.</p>
</div>
<div class="paragraph">
<p>Les utilisateurs doivent pouvoir ajouter une page de l&#8217;application à leurs favoris,
ou utiliser l&#8217;historique de navigation du navigateur par exemple.</p>
</div>
<div class="paragraph">
<p>La partie du framework en charge de gérer cette navigation est
appelée le <em>routeur</em>. Tous les frameworks tels que Vue en ont un,
voire plusieurs.
Vue n&#8217;échappe pas à la règle, et fournit un routeur officiel, appelé <code>vue-router</code>.</p>
</div>
<div class="paragraph">
<p>Le routeur a un objectif simple&#160;:
permettre d&#8217;utiliser des URLs reflétant l&#8217;état de l&#8217;application.
Et pour chaque URL, savoir quel composant doit être initialisé et inséré dans la page.
Il permet de naviguer d&#8217;une route à l&#8217;autre, sans recharger la page depuis le serveur.
C&#8217;est tout le principe d&#8217;une <em>Single Page Application</em> (<em>SPA</em>).</p>
</div>
<div class="sect2">
<h3 id="_en_route">20.1. En route</h3>
<div class="paragraph">
<p>Le routeur est un plugin optionnel, qui n&#8217;est donc pas inclus
dans le noyau du framework.</p>
</div>
<div class="paragraph">
<p>Pour pouvoir l&#8217;utiliser, il faut donc, comme pour les autres bibliothèques tierces,
l&#8217;installer et l&#8217;inclure dans l&#8217;application.
Mais installer le routeur n&#8217;est pas suffisant. Il faut aussi
lui fournir une configuration, qui définit des associations
entre URLs et composants&#160;: les routes.
Faisons tout cela dans un fichier dédié, que l&#8217;on nommera
<code>router.ts</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">router.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { createRouter, createWebHistory } from 'vue-router';
import Home from '@/views/Home.vue';
import Races from '@/views/Races.vue';
const routerPlugin = createRouter({
  history: createWebHistory(),
  routes: [
    {
      path: '/',
      name: 'home',
      component: Home
    },
    {
      path: '/races',
      name: 'races',
      component: Races
    },
  ]
});

export default routerPlugin;</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;objet exporté <code>routerPlugin</code> doit ensuite être utilisé
quand nous créons notre application,
dans <code>main.ts</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">main.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">createApp(App)
  .use(routerPlugin)
  .mount('#app');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir,
les <code>routes</code> sont un simple tableau d&#8217;objets, chaque objet étant
&#8230;&#8203; une route.
Une route est généralement un triplet de propriétés&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>path</code>&#160;: le chemin de l&#8217;URL pour lequel il faut afficher le composant&#160;;</p>
</li>
<li>
<p><code>name</code>&#160;: un nom permettant d&#8217;identifier la route, que nous utiliserons plus tard&#160;;</p>
</li>
<li>
<p><code>component</code>&#160;: le composant initialisé et affiché lorsque l&#8217;on navigue vers le chemin donné.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tu te demandes sans doute où le routeur insère le composant de la route dans la page.
En général, toutes les routes de l&#8217;application partagent des parties communes&#160;:
la barre de navigation, le pied de page, etc.
Il serait dommage d&#8217;avoir à les inclure dans chacun des composants associés à une route.
Pour ne pas avoir à faire ça, le routeur
insère le composant de la route courante (par exemple, le composant <code>Races</code> dans l&#8217;exemple
ci-dessus), à l&#8217;emplacement marqué par un tag spécifique,
en général placé dans le template du composant racine&#160;: <code>RouterView</code>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nNDA2JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNDcwIDQwNicgd2lkdGg9JzQ3MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nNDA2JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzQ3MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00yNS4wIDM1LjAgTDQ0NS4wIDM1LjAgTDQ0NS4wIDM3MS4wIEwyNS4wIDM3MS4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTQ1LjAgMTc1LjAgTDQyNS4wIDE3NS4wIEw0MjUuMCAyNTkuMCBMNDUuMCAyNTkuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J000NS4wIDkxLjAgTDQyNS4wIDkxLjAgTDQyNS4wIDE0Ny4wIEw0NS4wIDE0Ny4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTQ1LjAgMjg3LjAgTDQyNS4wIDI4Ny4wIEw0MjUuMCAzNDMuMCBMNDUuMCAzNDMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J00yNS4wIDM1LjAgTDQ0NS4wIDM1LjAgTDQ0NS4wIDM3MS4wIEwyNS4wIDM3MS4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCAxNzUuMCBMNDI1LjAgMTc1LjAgTDQyNS4wIDI1OS4wIEw0NS4wIDI1OS4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNNDUuMCA5MS4wIEw0MjUuMCA5MS4wIEw0MjUuMCAxNDcuMCBMNDUuMCAxNDcuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTQ1LjAgMjg3LjAgTDQyNS4wIDI4Ny4wIEw0MjUuMCAzNDMuMCBMNDUuMCAzNDMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTkwLjAgMjI0LjAgTDEwMC4wIDIzMS4wIEw5MC4wIDIzOC4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004MC4wIDIzMS4wIEw5NS4wIDIzMS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTMnIHN0cm9rZT0nbm9uZScgeD0nNDAnIHk9JzY4Jz48IVtDREFUQVtBcHBdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNjEnIHk9JzExMCc+PCFbQ0RBVEFbTmF2QmFyXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzYzJyB5PScyMDgnPjwhW0NEQVRBW1JvdXRlclZpZXddXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMTM2JyB5PScyMzYnPjwhW0NEQVRBW2xlIGNvbXBvc2FudCBlc3QgaW5zw6lyw6kgaWNpXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzYzJyB5PSczMDYnPjwhW0NEQVRBW0Zvb3Rlcl1dPjwvdGV4dD48L2c+PC9zdmc+" alt="router view" width="470" height="406">
</div>
</div>
<div class="paragraph">
<p><code>RouterView</code> est bien sûr un composant View, fourni par <code>vue-router</code>.
Son unique responsabilité est d&#8217;agir comme un conteneur
pour la vue du composant de la route courante.</p>
</div>
<div class="paragraph">
<p>Le template du composant racine ressemble donc à ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;Navbar /&gt;
  &lt;RouterView /&gt;
  &lt;Footer /&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quand on naviguera d&#8217;une route à l&#8217;autre, tout restera donc affiché
(c&#8217;est-à-dire la <em>Navbar</em> et le <em>Footer</em>) excepté le contenu de <em>RouterView</em>,
qui sera remplacé par la vue du composant de la nouvelle route.</p>
</div>
<div class="paragraph">
<p>Tu n&#8217;as pas besoin de déclarer <code>RouterView</code> dans le composant <code>App</code>&#160;:
l&#8217;instruction <code>createApp(App).use(routerPlugin)</code> que l&#8217;on a ajoutée plus tôt
permet non seulement d&#8217;enregistrer le plugin <code>routerPlugin</code> dans l&#8217;application,
mais aussi d&#8217;enregistrer globalement son composant <code>RouterView</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_navigation">20.2. Navigation</h3>
<div class="paragraph">
<p>Comment naviguer d&#8217;une route à une autre&#160;?</p>
</div>
<div class="paragraph">
<p>On peut bien sûr taper manuellement l&#8217;URL de la route dans la
barre d&#8217;adresse et recharger la page, mais ce n&#8217;est pas
franchement le plus simple ni le plus efficace.
Et on ne veut pas non plus utiliser des liens classiques (<code>&lt;a href="&#8230;&#8203;"&gt;&lt;/a&gt;</code>).
Cliquer sur un tel lien aurait le même effet&#160;: demander au navigateur de charger
une nouvelle page, et donc redémarrer l&#8217;application.
Le but du routeur est précisément d&#8217;éviter de tels rechargements&#160;:
on veut créer une <em>Single Page Application</em>.</p>
</div>
<div class="paragraph">
<p>La solution, c&#8217;est d&#8217;utiliser le composant
<code>RouterLink</code>, et de lui fournir via sa <em>prop</em> nommée <code>to</code>,
le chemin de la route vers laquelle on veut naviguer.
On peut aussi lui passer un tableau de chaînes de caractères,
représentant le chemin et ses paramètres.
Par exemple, dans le template du composant <code>Races</code>,
si on veut naviguer vers le composant <code>Home</code>,
on peut inclure le lien suivant&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Races.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;RouterLink to="/"&gt;Home&lt;/RouterLink&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut aussi, plutôt que d&#8217;utiliser un chemin, passer le <code>name</code> qui identifie la route&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Races.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;RouterLink :to="{ name: 'home' }"&gt;Home&lt;/RouterLink&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le composant <code>RouterLink</code> ajoute une classe CSS <code>.router-link-active</code>
(ou une classe de ton choix)
automatiquement au lien qu&#8217;il génère s&#8217;il pointe vers la route courante.
Ca permet, par exemple, de styler un élément de menu
lorsqu&#8217;il pointe vers la page courante.</p>
</div>
<div class="paragraph">
<p>Il est aussi possible de naviguer vers une route
programmatiquement, depuis le code TypeScript du
composant. On utilise pour cela la méthode <code>push()</code>
de l&#8217;objet <code>router</code> retourné par <code>useRouter()</code>.
C&#8217;est utile pour, par exemple, rediriger l&#8217;utilisateur
après une soumission de formulaire&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Races.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const router = useRouter();
function saveAndMoveBackToHome() {
  // ...
  router.push('/');
  // or
  router.push({ name: 'home' });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La méthode accepte un chemin, sous forme de <code>string</code>,
ou un objet contenant le chemin ou le nom de la route
vers laquelle naviguer.</p>
</div>
<div class="paragraph">
<p>L&#8217;objet <code>router</code> expose aussi une méthode <code>replace()</code>,
pour le cas où on désire remplacer l&#8217;URL courante dans l&#8217;historique
par une nouvelle URL, plutôt que d&#8217;ajouter une nouvelle entrée.</p>
</div>
</div>
<div class="sect2">
<h3 id="_paramètres">20.3. Paramètres</h3>
<div class="paragraph">
<p>Bien entendu, dans une application, nous aurons besoin
de chemins dynamiques, contenant des paramètres.
Par exemple, si on veut afficher une page d&#8217;informations
concernant un poney dans une course, on devra spécifier dans son chemin
l&#8217;identifiant du poney en question et l&#8217;identifiant de la course&#160;:
<code>/races/id-of-the-race/ponies/id-of-the-pony</code>.</p>
</div>
<div class="paragraph">
<p>Définissons une route dans la configuration,
avec ces deux paramètres.</p>
</div>
<div class="listingblock">
<div class="title">router.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: '/races/:raceId/ponies/:ponyId',
  name: 'pony',
  component: Pony
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour naviguer vers cette route, on devra fournir la valeur
de ces deux paramètres à <code>RouterLink</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Races.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;RouterLink :to="{ name: 'pony', params: { raceId: race.id, ponyId: pony.id } }"&gt;Pony&lt;/RouterLink&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et bien sûr, le composant cible aura besoin de connaître la valeur
de ces deux paramètres, pour pouvoir obtenir les informations du serveur.
Pour récupérer la valeur des paramètres,
l&#8217;objet <code>route</code> retourné par <code>useRoute()</code>
représente la route courante
et peut être utilisé dans notre <code>setup</code>.
C&#8217;est une référence réactive, avec une propriété <code>params</code>
qui contient les paramètres de la route.</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony = ref&lt;PonyModel | null&gt;(null);
// ... fetch the pony details
const route = useRoute();
const ponyId = route.params.ponyId as string;
getPony(ponyId).then(fetchedPony =&gt; (pony.value = fetchedPony));</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Attention"></i>
</td>
<td class="content">
Le routeur réutilisera les composants quand il le peut&#160;!
Supposons par exemple que le composant contienne un lien "Suivant",
permettant d&#8217;afficher les informations du poney suivant dans la course.
Le chemin passera donc de <code>/ponies/1</code> à <code>/ponies/2</code> (par exemple) lorsque
l&#8217;utilisateur cliquera sur ce lien.
Dans ce cas, comme ce n&#8217;est pas la route qui change, mais uniquement ses
paramètres, le routeur ne détruit pas le composant <code>Pony</code> pour immédiatement
en reconstruire un autre.
Il laisse simplement le composant <code>Pony</code> en place.
Cela signifie que la fonction <code>setup</code> ne sera pas rappelée&#160;!
Donc, pour que le composant rafraîchisse ses informations,
il faudra qu&#8217;il utilise un <em>watcher</em>  ou une <em>computed property</em>
basée sur <code>route</code>&#160;!
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const route = useRoute();
const pony = ref&lt;PonyModel | null&gt;(null);
watchEffect(
  // every time the ID changes
  // use a watcher to fetch the pony details
  async () =&gt; {
    const ponyId = route.params.ponyId as string;
    pony.value = await getPony(ponyId);
  }
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Vous pouvez également récupérer les paramètres de requête
grâce à la propriété <code>query</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_routeur_et_suspense">20.4. Routeur et Suspense</h3>
<div class="paragraph">
<p><code>RouterView</code> propose aussi une API <code>v-slot</code>,
qui nous permet d&#8217;écrire&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;RouterView v-slot="{ Component }"&gt;
  &lt;component :is="Component" /&gt;
&lt;/RouterView&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>&lt;component is="Races"&gt;</code> est une syntaxe de Vue pour charger un component,
ici <code>Races</code>.
<code>is</code> peut bien sûr être dynamique, permettant donc de charger un composant dynamiquement&#160;:
<code>&lt;component :is="Component"&gt;</code> avec <code>Component</code> la variable contenant le composant à charger.</p>
</div>
<div class="paragraph">
<p>Cela peut paraître accessoire au premier abord,
mais c&#8217;est très pratique pour quelques scénarios avancés,
comme lorsque l&#8217;on veut faire des animations
ou pour utiliser le routeur avec <code>Suspense</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;RouterView v-slot="{ Component }"&gt;
  &lt;Alert v-if="error" variant="danger"&gt;An error occurred while loading.&lt;/Alert&gt;
  &lt;Suspense v-else timeout="0"&gt;
    &lt;component :is="Component" /&gt;
    &lt;template #fallback&gt;Loading...&lt;/template&gt;
  &lt;/Suspense&gt;
&lt;/RouterView&gt;</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaie notre
<a href="https://vue-exercises.ninja-squad.com/exercises/13/quiz-router">quiz</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
et l&#8217;exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/14/router">Router</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
pour apprendre comment configurer le routeur,
naviguer entre composants, et tester tout ce que nous venons de découvrir.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_passer_les_paramètres_comme_props">20.5. Passer les paramètres comme <em>props</em></h3>
<div class="paragraph">
<p>Le routeur permet de passer les paramètres de la route au
composant en tant que <em>props</em>.
Cela découple le composant du routeur, et le rend donc utilisable
en tant que composant principal d&#8217;une route,
mais aussi en tant que simple composant utilisé à l&#8217;intérieur
d&#8217;un autre composant.</p>
</div>
<div class="paragraph">
<p>Pour ce faire, il suffit d&#8217;ajouter <code>props: true</code> dans la définition de la route&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: '/users/:userId',
  name: 'user',
  component: User,
  props: true
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notre composant <code>User</code> peut maintenant déclarer et utiliser la <em>prop</em> <code>userId</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">User.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const props = defineProps&lt;{
  userId: string;
}&gt;();

const user = ref&lt;UserModel | null&gt;(null);
// ... fetch the user details
watchEffect(async () =&gt; (user.value = await getUser(props.userId)));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir, il n&#8217;y a plus aucune référence au routeur
dans le composant.</p>
</div>
<div class="paragraph">
<p>Tu peux aussi, dans la route, passer un objet au lieu d&#8217;un booléen à <code>props</code>.
Cela permet de passer directement des valeurs statiques au composant.</p>
</div>
</div>
<div class="sect2">
<h3 id="_redirections">20.6. Redirections</h3>
<div class="paragraph">
<p>Il est assez courant de vouloir rediriger d&#8217;une URL vers une autre.
Par exemple, le chemin racine <code>/</code> pourrait rediriger
vers le chemin <code>/breaking</code> listant les toutes dernières nouvelles.
Ou bien, après une réorganisation de l&#8217;application, on voudrait
rediriger une ancienne URL, qui n&#8217;existe plus, vers l&#8217;URL qui la remplace.
C&#8217;est possible en utilisant&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: '/news',
  redirect: '/breaking'
},</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sélection_de_la_route">20.7. Sélection de la route</h3>
<div class="paragraph">
<p>Tu peux définir une route qui sera activée si aucune autre route ne l&#8217;est&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: '/:catchAll(.*)',
  redirect: '/404'
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;astérisque peut aussi être utilisé pour définir des modèles de chemins
tels que <code>path: '/pony-*'</code>,
qui sera sélectionnée si le chemin est <code>/pony-rainbow-dash</code> ou <code>/pony-pinkie-pie</code>
par exemple.</p>
</div>
<div class="paragraph">
<p>Note que le routeur choisit toujours la route la plus spécifique.</p>
</div>
</div>
<div class="sect2">
<h3 id="_routes_imbriquées">20.8. Routes imbriquées</h3>
<div class="paragraph">
<p>On l&#8217;a vu un peu plus tôt&#160;: lorsqu&#8217;une route est activée,
le composant de la route est inséré dans la page à l&#8217;emplacement
marqué par le composant <code>RouterView</code>.</p>
</div>
<div class="paragraph">
<p>Ce mécanisme peut en fait être réutilisé avec des composants imbriqués.
Imagine une page complexe, affichant le profil d&#8217;un poney.
Cette page afficherait le nom du poney et son portrait
dans sa partie supérieure, et aurait plusieurs onglets dans sa partie inférieure&#160;:
un pour afficher l&#8217;extrait de naissance du poney,
un autre pour son palmarès,
et un troisième pour les articles de presse concernant le poney.
Chaque onglet a sa propre URL, afin de pouvoir avoir des liens
qui mènent directement à un onglet spécifique.
Mais on ne veut pas recharger le poney et répéter son nom
et son portrait sur chacun des trois composants.</p>
</div>
<div class="paragraph">
<p>La solution est d&#8217;utiliser un <code>RouterView</code>
dans le template du composant <code>Pony</code>,
et de définir une route mère avec trois routes filles,
de cette manière&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: '/ponies/:ponyId',
  component: Pony,
  children: [
    { path: 'birth-certificate', component: BirthCertificate },
    { path: 'track-record', component: TrackRecord },
    { path: 'reviews', component: Reviews }
  ]
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lorsque l&#8217;on navigue vers le chemin <code>/ponies/42/reviews</code>,
par exemple, le routeur insérera la vue du composant <code>Pony</code>
à l&#8217;emplacement du <code>RouterView</code> contenu dans le composant <code>App</code>.
Le template du composant <code>Pony</code>, en plus du nom et du portrait
du poney contient un deuxième <code>RouterView</code>.
C&#8217;est là que le composant <code>Reviews</code> sera inséré.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMzM2JyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNDUwIDMzNicgd2lkdGg9JzQ1MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMzM2JyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzQ1MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00zNS4wIDYzLjAgTDQyNS4wIDYzLjAgTDQyNS4wIDMwMS4wIEwzNS4wIDMwMS4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTY1LjAgMTE5LjAgTDQwNS4wIDExOS4wIEw0MDUuMCAyODcuMCBMNjUuMCAyODcuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J002NS4wIDE0Ny4wIEw0MDUuMCAxNDcuMCBMNDA1LjAgMjg3LjAgTDY1LjAgMjg3LjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNOTUuMCAyMDMuMCBMMzU1LjAgMjAzLjAgTDM1NS4wIDI3My4wIEw5NS4wIDI3My4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM1LjAgMzUuMCBMNDI1LjAgMzUuMCBMNDI1LjAgNjMuMCBMMzUuMCA2My4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTk1LjAgMjMxLjAgTDM1NS4wIDIzMS4wIEwzNTUuMCAyNzMuMCBMOTUuMCAyNzMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J002NS4wIDExOS4wIEw0MDUuMCAxMTkuMCBMNDA1LjAgMTQ3LjAgTDY1LjAgMTQ3LjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNOTUuMCAyMDMuMCBMMzU1LjAgMjAzLjAgTDM1NS4wIDIzMS4wIEw5NS4wIDIzMS4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM1LjAgNjMuMCBMNDI1LjAgNjMuMCBMNDI1LjAgMzAxLjAgTDM1LjAgMzAxLjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J002NS4wIDExOS4wIEw0MDUuMCAxMTkuMCBMNDA1LjAgMjg3LjAgTDY1LjAgMjg3LjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J002NS4wIDE0Ny4wIEw0MDUuMCAxNDcuMCBMNDA1LjAgMjg3LjAgTDY1LjAgMjg3LjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J005NS4wIDIwMy4wIEwzNTUuMCAyMDMuMCBMMzU1LjAgMjczLjAgTDk1LjAgMjczLjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00zNS4wIDM1LjAgTDQyNS4wIDM1LjAgTDQyNS4wIDYzLjAgTDM1LjAgNjMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTk1LjAgMjMxLjAgTDM1NS4wIDIzMS4wIEwzNTUuMCAyNzMuMCBMOTUuMCAyNzMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTY1LjAgMTE5LjAgTDQwNS4wIDExOS4wIEw0MDUuMCAxNDcuMCBMNjUuMCAxNDcuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTk1LjAgMjAzLjAgTDM1NS4wIDIwMy4wIEwzNTUuMCAyMzEuMCBMOTUuMCAyMzEuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTMnIHN0cm9rZT0nbm9uZScgeD0nNTAnIHk9JzU0Jz48IVtDREFUQVtBcHBdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNTYnIHk9JzgyJz48IVtDREFUQVsuLi5dXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNTMnIHk9JzExMCc+PCFbQ0RBVEFbUm91dGVyVmlld11dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNCcgc3Ryb2tlPSdub25lJyB4PSc4MScgeT0nMTM4Jz48IVtDREFUQVtQb255XV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9Jzg2JyB5PScxNjYnPjwhW0NEQVRBWy4uLl1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc4MycgeT0nMTk0Jz48IVtDREFUQVtSb3V0ZXJWaWV3XV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzExMicgeT0nMjIyJz48IVtDREFUQVtSZXZpZXdzXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzExNicgeT0nMjUwJz48IVtDREFUQVsuLi5dXT48L3RleHQ+PC9nPjwvc3ZnPg==" alt="router view result" width="450" height="336">
</div>
</div>
<div class="paragraph">
<p>Lorsque l&#8217;on consulte le chemin <code>/ponies/42</code>,
le composant <code>Pony</code> sera affiché,
mais aucun des trois composants fils ne le sera.
Ce serait préférable d&#8217;afficher l&#8217;extrait de naissance par défaut.
Et c&#8217;est très simple en utilisant une route fille supplémentaire,
avec un chemin vide, et redirigeant vers la route <code>birth-certificate</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: '/ponies/:ponyId',
  component: Pony,
  children: [
    { path: '', redirect: 'birth-certificate' },
    { path: 'birth-certificate', component: BirthCertificate },
    { path: 'track-record', component: TrackRecord },
    { path: 'reviews', component: Reviews }
  ]
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que, dans l&#8217;exemple ci-dessus,
le chemin de la redirection est relatif au chemin <code>/ponies/:ponyId</code>,
parce qu&#8217;il ne commence pas par un <code>/</code>.</p>
</div>
<div class="paragraph">
<p>Au lieu de rediriger,
tu voudrais peut-être utiliser l&#8217;URL <code>/ponies/42</code> pour l&#8217;extrait de naissance.
Cela peut aussi être accompli avec un chemin vide&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: '/ponies/:ponyId',
  component: Pony,
  children: [
    { path: '', component: BirthCertificate },
    { path: 'track-record', component: TrackRecord },
    { path: 'reviews', component: Reviews }
  ]
},</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gardes_de_navigation">20.9. Gardes de navigation</h3>
<div class="paragraph">
<p>Certaines des routes de l&#8217;application ne devraient être accessibles
qu&#8217;aux personnes autorisées.
Bien sûr, il est généralement préférable de désactiver ou masquer
un lien si l&#8217;utilisateur n&#8217;est pas censé l&#8217;utiliser.
Plus important encore, le backend doit vérifier les permissions
de l&#8217;utilisateur avant de lui donner accès aux données protégées.
Mais cela n&#8217;empêchera pas les utilisateurs d&#8217;accéder à des routes
qui leur sont inaccessibles, simplement en rentrant leur adresse,
ou en utilisant un marque-page.</p>
</div>
<div class="paragraph">
<p>C&#8217;est ici que les gardes de navigation entrent en jeu.
Il en existe de trois sortes&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>les gardes globaux&#160;: ils s&#8217;appliquent à toutes les routes de l&#8217;application&#160;;</p>
</li>
<li>
<p>les gardes de routes&#160;: ils s&#8217;appliquent aux routes sur lesquelles ils sont définis&#160;;</p>
</li>
<li>
<p>les gardes <em>in-component</em>&#160;: ils s&#8217;appliquent aux composants sur lesquels ils sont définis.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Commençons par les gardes globaux&#160;!</p>
</div>
<div class="sect3">
<h4 id="_gardes_globaux">20.9.1. Gardes globaux</h4>
<div class="paragraph">
<p>Les gardes globaux sont enregistrés directement sur l&#8217;objet <code>routerPlugin</code>.
Ils sont appelés par le routeur lorsque la route change
(c&#8217;est-à-dire pas lorsque les paramètres changent, uniquement quand le routeur s&#8217;apprête à activer une autre route).</p>
</div>
<div class="sect4">
<h5 id="_beforeeach"><code>beforeEach</code></h5>
<div class="paragraph">
<p>Le plus commun des gardes est <code>beforeEach</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">routerPlugin.beforeEach((to: RouteLocationNormalized, from: RouteLocationNormalized) =&gt; {
  return to.name === 'login' || isLoggedIn;
  // or `return to.name === 'login' || isLoggedIn || '/login'` to redirect
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cet exemple montre que le garde est une fonction qui prend deux paramètres&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>from</code> est la <code>Route</code> d&#8217;où on vient&#160;;</p>
</li>
<li>
<p><code>to</code> est la <code>Route</code> où on va.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Le garde montré dans l&#8217;exemple ci-dessus est très simple&#160;:
si l&#8217;utilisateur essaye de se rendre sur la page de "Login" ou est déjà authentifié,
alors on retourne <code>true</code> (ou rien) pour approuver la navigation.
Sinon, on retourne <code>false</code> pour l&#8217;empêcher.
On peut retourner <code>'/login'</code> ou <code>{ name: 'login' }</code> pour
empêcher la navigation et rediriger l&#8217;utilisateur vers une autre route.
On peut également retourner une <code>Promise</code> si la décision est asynchrone.</p>
</div>
<div class="paragraph">
<p>Et c&#8217;est en fait tout l&#8217;intérêt d&#8217;un garde. Empêcher l&#8217;accès
à une route sans expliquer aux utilisateurs pourquoi ils ne peuvent y accéder
et ce qu&#8217;ils doivent faire pour y accéder (dans ce cas, s&#8217;authentifier) n&#8217;est
pas très ergonomique.
Un garde est un outil qui est destiné à améliorer l&#8217;expérience d&#8217;utilisation,
et non un outil de sécurité.
Empêcher l&#8217;accès à des ressources protégées est le rôle du serveur,
pas celui du client.</p>
</div>
<div class="paragraph">
<p>Note que tu peux définir plusieurs gardes <code>beforeEach</code>.
Le routeur les exécutera tous, et n&#8217;activera la route que si tous
les gardes approuvent la navigation.</p>
</div>
</div>
<div class="sect4">
<h5 id="_aftereach"><code>afterEach</code></h5>
<div class="paragraph">
<p>On peut définir aussi un garde global <code>afterEach</code>.
Mais il s&#8217;agit plutôt d&#8217;un <em>hook</em> que d&#8217;un garde&#160;: il ne peut pas
empêcher la navigation, mais permet seulement d&#8217;exécuter du code
après que la navigation a été confirmée.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_gardes_de_route">20.9.2. Gardes de route</h4>
<div class="paragraph">
<p>On peut définir un seul type de garde sur une route&#160;:
<code>beforeEnter</code>.</p>
</div>
<div class="sect4">
<h5 id="_beforeenter"><code>beforeEnter</code></h5>
<div class="paragraph">
<p>Ce garde sera invoqué après tous les gardes globaux (s&#8217;il y en a).
Sa signature est la même que le garde global <code>beforeEach</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: '/search',
  component: Search,
  beforeEnter: (
    to: RouteLocationNormalized,
    from: RouteLocationNormalized
  ): boolean | RouteLocationNormalized | string =&gt; {
    // check that the user has the permissions to see the races
  }
},</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_gardes_de_composants">20.9.3. Gardes de composants</h4>
<div class="paragraph">
<p>Enfin, à l&#8217;intérieur d&#8217;un composant, on peut définir deux
types de gardes sous forme de fonctions&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>onBeforeRouteUpdate</code>&#160;: c&#8217;est le seul garde appelé lorsque les paramètres
de la route changent. Il constitue une alternative à un <em>watcher</em>
sur les paramètres de la route&#160;;</p>
</li>
<li>
<p><code>onBeforeRouteLeave</code>&#160;: ce garde est appelé lorsque le composant est sur le point
d&#8217;être remplacé par un autre à cause d&#8217;une navigation. Il est utile
pour demander confirmation à l&#8217;utilisateur avant de quitter un long formulaire
par exemple, et de perdre les données patiemment saisies si l&#8217;utilisateur
n&#8217;a pas vraiment l&#8217;intention de quitter la page.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const saved = ref(false);
// ...
onBeforeRouteLeave(() =&gt; {
  if (!saved.value) {
    return confirm('The form has not been saved. Are you sure you want to leave the current page?');
  }
});
// ...</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_meta_information">20.10. Meta information</h3>
<div class="paragraph">
<p>Il est également possible de définir des métadonnées sur une route.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: '/search',
  component: Search,
  meta: {
    requiresAuth: true
  }
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est un mécanisme intéressant pour pouvoir définir un garde.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">routerPlugin.beforeEach((to: RouteLocationNormalized, from: RouteLocationNormalized) =&gt; {
  if (to.meta.requiresAuth &amp;&amp; !isLoggedIn) {
    return '/login';
  }
  return true;
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tests_avec_vue_router_mock">20.11. Tests avec vue-router-mock</h3>
<div class="paragraph">
<p>Il est possible de tester des composants qui utilisent le routeur
grâce à Vitest et en mockant <code>useRoute</code>, <code>useRouter</code>, etc.
Mais Eduardo "posva" San Martin, le créateur du routeur, a aussi fait une mini-bibliothèque
qui permet de simplifier l&#8217;écriture des tests&#160;:
<a href="https://github.com/posva/vue-router-mock"><code>vue-router-mock</code></a>.</p>
</div>
<div class="paragraph">
<p><code>vue-router-mock</code> permet notamment de créer un faux routeur dans les tests
avec <code>createMockRouter</code>, et de l&#8217;injecter dans les composants testés avec <code>injectRouterMock</code>.
On peut ensuite appeler <code>setParams()</code> dans les tests pour changer les paramètres de la route,
et vérifier que les méthodes de navigation ont bien été appelées par exemple&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const router = createRouterMock({
  spy: {
    create: fn =&gt; vi.fn(fn),
    reset: spy =&gt; spy.mockRestore()
  }
});

beforeEach(() =&gt; {
  injectRouterMock(router);
  router.setParams({
    raceId: '1',
    ponyId: '2'
  });
});

test('should display the race and navigate back', async () =&gt; {
  const wrapper = mount(Races);

  const button = wrapper.get('button');
  expect(button.text()).toContain('Back to home');
  await button.trigger('click');

  expect(router.push).toHaveBeenCalledWith('/');
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Très pratique, c&#8217;est ce que l&#8217;on utilise dans les exercices si vous voulez d&#8217;autres exemples&#160;!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaie nos exercices
<a href="https://vue-exercises.ninja-squad.com/exercises/26/router-guards">Gardes</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
et
<a href="https://vue-exercises.ninja-squad.com/exercises/27/nested-views">Routes imbriquées et redirection</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
pour apprendre à utiliser ces fonctionnalités plus avancées du routeur.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lazy-loading">21. Chargement à la demande</h2>
<div class="sectionbody">
<div class="paragraph">
<p>À mesure que l&#8217;application grandit en taille et en fonctionnalités,
charger toute l&#8217;application d&#8217;un coup peut devenir problématique&#160;:
le <em>bundle</em> de l&#8217;application devient trop volumineux. Son chargement
puis son analyse par le navigateur deviennent trop longs.
Par ailleurs, certaines parties de l&#8217;application ne sont souvent utilisées
que par certains utilisateurs, ou sont simplement peu utilisées.
Les charger systématiquement au démarrage constitue donc une perte de temps
et un gaspillage de bande passante.
C&#8217;est là que le chargement à la demande (<em>lazy loading</em>) est utile, voire nécessaire.</p>
</div>
<div class="paragraph">
<p>Le chargement à la demande consiste à diviser l&#8217;application
en plusieurs <em>bundles</em> JavaScript, et à ne charger ces <em>bundles</em>
que lorsque c&#8217;est nécessaire.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjEwJyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNjEwIDIxMCcgd2lkdGg9JzYxMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjEwJyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzYxMCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00zNS4wIDYzLjAgTDI4NS4wIDYzLjAgTDI4NS4wIDExOS4wIEwzNS4wIDExOS4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM2NS4wIDExOS4wIEw1ODUuMCAxMTkuMCBMNTg1LjAgMTc1LjAgTDM2NS4wIDE3NS4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM1LjAgMzUuMCBMMjg1LjAgMzUuMCBMMjg1LjAgNjMuMCBMMzUuMCA2My4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM2NS4wIDkxLjAgTDU4NS4wIDkxLjAgTDU4NS4wIDExOS4wIEwzNjUuMCAxMTkuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J00zNS4wIDYzLjAgTDI4NS4wIDYzLjAgTDI4NS4wIDExOS4wIEwzNS4wIDExOS4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMzY1LjAgMTE5LjAgTDU4NS4wIDExOS4wIEw1ODUuMCAxNzUuMCBMMzY1LjAgMTc1LjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00zNS4wIDM1LjAgTDI4NS4wIDM1LjAgTDI4NS4wIDYzLjAgTDM1LjAgNjMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTM2NS4wIDkxLjAgTDU4NS4wIDkxLjAgTDU4NS4wIDExOS4wIEwzNjUuMCAxMTkuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTM1MC4wIDk4LjAgTDM2MC4wIDEwNS4wIEwzNTAuMCAxMTIuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTIwLjAgNDkuMCBMMTI5LjAgNDkuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J000NzAuMCAxMDUuMCBMNDc5LjAgMTA1LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMjk1LjAgMTA1LjAgTDM1NS4wIDEwNS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNTYnIHk9JzU0Jz48IVtDREFUQVthcHAuanNdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTMnIHN0cm9rZT0nbm9uZScgeD0nMTQyJyB5PSc1NCc+PCFbQ0RBVEFbMTAwS0JdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNTAnIHk9JzgyJz48IVtDREFUQVtDb21wb3NhbnRzIEFwcCxdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNTAnIHk9Jzk2Jz48IVtDREFUQVtOYXZCYXIsIEFjY3VlaWwuLi5dXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMzg2JyB5PScxMTAnPjwhW0NEQVRBW2FkbWluLmpzXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzEzJyBzdHJva2U9J25vbmUnIHg9JzQ5MScgeT0nMTEwJz48IVtDREFUQVs1MEtCXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE0JyBzdHJva2U9J25vbmUnIHg9JzM4MCcgeT0nMTM4Jz48IVtDREFUQVtDb21wb3NhbnRzXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzM4MCcgeT0nMTUyJz48IVtDREFUQVtkJ2FkbWluaXN0cmF0aW9uXV0+PC90ZXh0PjwvZz48L3N2Zz4=" alt="router lazy bundles" width="610" height="210">
</div>
</div>
<div class="paragraph">
<p>Le chargement à la demande est configuré au niveau composant.
Cela signifie que chaque composant peut être chargé à la demande,
soit lorsqu&#8217;il doit être affiché à l&#8217;intérieur de la vue d&#8217;un autre composant,
soit lorsqu&#8217;il est affiché par une route et que l&#8217;utilisateur navigue vers cette route.
Dans les deux cas, la même technique est utilisée pour charger le composant paresseusement&#160;:
un import JavaScript/TypeScript dynamique.</p>
</div>
<div class="sect2">
<h3 id="_composants_asynchrones">21.1. Composants asynchrones</h3>
<div class="paragraph">
<p>Commençons par le premier cas&#160;:
un composant est initialement absent de la vue parce qu&#8217;il est à l&#8217;intérieur d&#8217;un <code>v-if</code>,
et on veut le charger et l&#8217;afficher dès que la condition du <code>v-if</code> devient vraie.</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;h1&gt;Ponyracer&lt;/h1&gt;
  &lt;button @click="showRaces = true"&gt;Show races&lt;/button&gt;
  &lt;div v-if="showRaces"&gt;
    &lt;PendingRaces /&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nous avons appris que, lorsqu&#8217;un composant parent utilise un composant enfant
dans son template, nous devons mentionner le composant enfant dans la propriété
<code>components</code> du parent (ou juste les importer avec <code>script setup</code>).</p>
</div>
<div class="paragraph">
<p>Il s&#8217;avère que l&#8217;on peut simplement remplacer cette déclaration
par un appel à <code>defineAsyncComponent</code> avec un import dynamique,
au lieu d&#8217;utiliser un import statique&#160;:</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const PendingRaces = defineAsyncComponent(() =&gt; import('./PendingRaces.vue'));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si tu utilises Webpack (et c&#8217;est le cas lorsque tu utilises Vue CLI)
ou Rollup et Vite (si tu as généré ton projet avec create-vue)
alors le code du composant <code>PendingRaces</code> sera placé par le bundler dans un fichier JavaScript séparé,
qui ne sera chargé que si nécessaire.</p>
</div>
<div class="paragraph">
<p>Dans ce cas précis, le gain est minime.
Mais imagine que <code>PendingRaces</code> utilise une bibliothèque volumineuse.
Le bundler sera assez malin pour placer le composant et cette bibliothèque dans ce même <em>bundle</em> distinct.
Et tout ce code ne sera donc chargé que si le composant est affiché.
Le <em>bundle</em> principal s&#8217;en trouve donc allégé d&#8217;autant, ce qui donne un coup de boost
au démarrage de l&#8217;application.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjEwJyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgNjEwIDIxMCcgd2lkdGg9JzYxMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjEwJyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzYxMCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00zNS4wIDYzLjAgTDI4NS4wIDYzLjAgTDI4NS4wIDExOS4wIEwzNS4wIDExOS4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM2NS4wIDExOS4wIEw1ODUuMCAxMTkuMCBMNTg1LjAgMTc1LjAgTDM2NS4wIDE3NS4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM1LjAgMzUuMCBMMjg1LjAgMzUuMCBMMjg1LjAgNjMuMCBMMzUuMCA2My4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTM2NS4wIDkxLjAgTDU4NS4wIDkxLjAgTDU4NS4wIDExOS4wIEwzNjUuMCAxMTkuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J00zNS4wIDYzLjAgTDI4NS4wIDYzLjAgTDI4NS4wIDExOS4wIEwzNS4wIDExOS4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMzY1LjAgMTE5LjAgTDU4NS4wIDExOS4wIEw1ODUuMCAxNzUuMCBMMzY1LjAgMTc1LjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00zNS4wIDM1LjAgTDI4NS4wIDM1LjAgTDI4NS4wIDYzLjAgTDM1LjAgNjMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTM2NS4wIDkxLjAgTDU4NS4wIDkxLjAgTDU4NS4wIDExOS4wIEwzNjUuMCAxMTkuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTM1MC4wIDk4LjAgTDM2MC4wIDEwNS4wIEwzNTAuMCAxMTIuMCB6JyBmaWxsPScjMDAwMDAwJyBzdHJva2U9J25vbmUnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMTIwLjAgNDkuMCBMMTI5LjAgNDkuMCAnIGZpbGw9J25vbmUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J000NzAuMCAxMDUuMCBMNDc5LjAgMTA1LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMjk1LjAgMTA1LjAgTDM1NS4wIDEwNS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNTYnIHk9JzU0Jz48IVtDREFUQVthcHAuanNdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTMnIHN0cm9rZT0nbm9uZScgeD0nMTQyJyB5PSc1NCc+PCFbQ0RBVEFbMTAwS0JdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNTAnIHk9JzgyJz48IVtDREFUQVtDb21wb3NhbnRzIEFwcCxdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNTAnIHk9Jzk2Jz48IVtDREFUQVtOYXZCYXIsIEFjY3VlaWwuLi5dXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMzg4JyB5PScxMTAnPjwhW0NEQVRBW3JhY2VzLmpzXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzEzJyBzdHJva2U9J25vbmUnIHg9JzQ5MicgeT0nMTEwJz48IVtDREFUQVsyNTBLQl1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSczODAnIHk9JzEzOCc+PCFbQ0RBVEFbUGVuZGluZ1JhY2VzXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzM4MCcgeT0nMTUyJz48IVtDREFUQVtWZXJ5QmlnTGlicmFyeS5qc11dPjwvdGV4dD48L2c+PC9zdmc+" alt="async" width="610" height="210">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_composants_asynchrones_et_suspense">21.2. Composants asynchrones et <code>Suspense</code></h3>
<div class="paragraph">
<p>Nous avons montré plus tôt comment on pouvait utiliser <code>Suspense</code>
pour afficher une alternative pendant qu&#8217;un composant
charge dynamiquement les <em>données</em> dont il a besoin.
On peut aussi utiliser <code>Suspense</code> pour afficher
une alternative pendant qu&#8217;un composant asynchrone
lui-même est chargé paresseusement.</p>
</div>
<div class="paragraph">
<p>Illustrons cela avec le composant asynchrone <code>PendingRaces</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
  &lt;h1&gt;Ponyracer&lt;/h1&gt;
  &lt;Suspense&gt;
    &lt;PendingRaces /&gt;
    &lt;template #fallback&gt;Loading...&lt;/template&gt;
  &lt;/Suspense&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;écran affichera automatiquement <code>Loading</code>
pendant que le composant se charge.</p>
</div>
<div class="paragraph">
<p>On peut également avoir un comportement similaire sans utiliser <code>Suspense</code>.
<code>defineAsyncComponent</code> accepte, outre un import dynamique,
un objet permettant de définir&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>un <code>loadingComponent</code>, pour spécifier ce qu&#8217;il faut afficher pendant le chargement&#160;;</p>
</li>
<li>
<p>un <code>errorComponent</code>, pour spécifier ce qu&#8217;il faut afficher en cas d&#8217;erreur&#160;;</p>
</li>
<li>
<p>un <code>delay</code>, pour spécifier combien de temps attendre avant d&#8217;afficher le <code>loading</code>&#160;;</p>
</li>
<li>
<p>un <code>timeout</code>, pour spécifier combien de temps attendre
avant de considérer que le chargement a échoué et afficher l&#8217;erreur.
(le composant s&#8217;affichera quand même s&#8217;il finit par se charger).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Par défaut, <code>delay</code> vaut 100ms,
et il n&#8217;y a ni <code>timeout</code>, ni <code>loadingComponent</code>, ni <code>errorComponent</code>.</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const PendingRaces = defineAsyncComponent({
  loader: () =&gt; import('./PendingRaces.vue'),
  delay: 100,
  timeout: 2000,
  loadingComponent: defineComponent({ template: 'Loading' }),
  // or just use another component or a simple function like the following
  errorComponent: () =&gt; 'An error occurred while loading'
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_chargement_à_la_demande_par_le_routeur">21.3. Chargement à la demande par le routeur</h3>
<div class="paragraph">
<p>Un cas d&#8217;utilisation plus courant est de charger à la demande
un composant associé à une route&#160;:
lorsque l&#8217;utilisateur clique sur un lien pour changer d&#8217;écran (et donc de route),
le code du composant de la route est d&#8217;abord chargé paresseusement,
puis la navigation est effectuée.</p>
</div>
<div class="paragraph">
<p>La mise en œuvre est là aussi très simple&#160;:
on utilise la même syntaxe d&#8217;import dynamique, mais dans la déclaration de la route&#160;:</p>
</div>
<div class="listingblock">
<div class="title">router.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  path: '/races',
  component: () =&gt; import('@/views/Races.vue')
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et voilà&#160;!
Le bundler créera un <em>bundle</em> séparé pour le code du composant <code>Races</code>,
et ce <em>bundle</em> ne sera chargé que lorsque l&#8217;utilisateur
naviguera vers la route <code>/races</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_grouper_plusieurs_composants_dans_le_même_bundle">21.4. Grouper plusieurs composants dans le même <em>bundle</em></h3>
<div class="paragraph">
<p>Passer d&#8217;un <em>bundle</em> unique à un <em>bundle</em> par composant
n&#8217;est pas nécessairement la meilleure chose à faire.
Cela peut avoir du sens de charger en une seule requête plusieurs
composants d&#8217;un seul coup.</p>
</div>
<div class="paragraph">
<p>Avec Vite, tu dois déclarer quels imports tu veux grouper
dans la configuration Vite, en utilisant la propriété <code>build.rollupOptions</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">vite.config.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export default defineConfig({
  plugins: [
    vue({
      features: {
        propsDestructure: true
      }
    }),
  ],
  build: {
    rollupOptions: {
      // https://rollupjs.org/guide/en/#outputmanualchunks
      output: {
        manualChunks: {
          races: [
            './src/views/Races.vue',
            './src/views/Pony.vue'
            // all other imports to group...
          ]
        }
      }
    }
  }
});</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaie notre exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/29/lazy-loading">Lazy-loading</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
pour mettre en pratique le chargement à la demande et mesurer les gains de bande passante qu&#8217;il permet.
Il y a aussi un
<a href="https://vue-exercises.ninja-squad.com/exercises/28/quiz-router-advanced">quiz</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
sur le lazy-loading et le routeur&#160;!</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="forms">22. Formulaires</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Les formulaires sont compliqués&#160;: il faut valider les valeurs saisies
par l&#8217;utilisateur et afficher les messages d&#8217;erreurs adéquats.
Certains champs sont obligatoires, d&#8217;autres non.
Certains dépendent de la valeur d&#8217;autres champs, et il faut donc
réagir aux changements, etc.</p>
</div>
<div class="paragraph">
<p>Vue offre une directive que nous n&#8217;avons pas encore rencontrée&#160;: <code>v-model</code>.
Elle nous aide à construire des formulaires, mais pas bien plus.
Pour ce qui est de la validation, des messages d&#8217;erreur, etc., tu te débrouilles&#160;!
Heureusement, il existe des librairies complémentaires pour nous aider.</p>
</div>
<div class="paragraph">
<p>Nous allons commencer par un exemple qui utilise <code>v-model</code>,
puis nous verrons ce qu&#8217;une librairie additionnelle peut nous
apporter.</p>
</div>
<div class="sect2">
<h3 id="_la_directive_v_model">22.1. La directive <code>v-model</code></h3>
<div class="paragraph">
<p>La directive <code>v-model</code> peut être appliquée
à un <code>input</code>, une <code>textarea</code> ou un <code>select</code>.
Tu lui donnes une propriété à modifier,
et elle se charge automatiquement de faire la synchronisation
entre la valeur de la propriété dans le code,
et la valeur du champ de formulaire.</p>
</div>
<div class="paragraph">
<p>C&#8217;est ce que l&#8217;on appelle le <em>binding bidirectionnel</em> (<em>two-way binding</em>)&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>si le code change la valeur de la propriété,
la valeur affichée ou sélectionnée par le champ du formulaire change&#160;;</p>
</li>
<li>
<p>si l&#8217;utilisateur saisit une nouvelle valeur dans le champ de formulaire,
la valeur de la propriété est mise à jour.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!-- `user.name` is updated every time the user enters a value --&gt;
&lt;!-- every time the code changes `user.name`, v-model changes the input value --&gt;
&lt;!-- the binding is thus two-way --&gt;
&lt;input v-model="user.name" /&gt;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const user = reactive({
  name: '',
  age: 18,
  profile: null,
  isAdmin: false
});</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>v-model</code> est en fait du sucre syntaxique,
équivalent (pour un élément <code>input</code>) à&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input :value="user.name" @input="user.name = ($event.target as HTMLInputElement).value" /&gt;
&lt;!-- the `as HTMLInputElement` part is just to help template type checking tools --&gt;
&lt;!-- this is the same as `$event.target.value` --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Grâce à cet exemple, on peut comprendre le fonctionnement
du binding bidirectionnel&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>si <code>user.name</code> change, la propriété <code>value</code> de l&#8217;input est modifiée</p>
</li>
<li>
<p>si l&#8217;utilisateur saisit une valeur dans le champ, un événement <code>input</code> est émis,
et son gestionnaire modifie la valeur de <code>user.name</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Cela fonctionne aussi avec des cases à cocher&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input v-model="user.isAdmin" type="checkbox" /&gt;
&lt;!-- displays "Is admin: true" or "Is admin: false" --&gt;
&lt;p&gt;Is admin: {{ user.isAdmin }}&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Parfois, la valeur de la propriété doit être différente de <code>true</code> ou <code>false</code>.
Dans ce cas, <code>v-model</code> permet de spécifier <code>true-value</code> et <code>false-value</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input v-model="user.isAdmin" type="checkbox" true-value="yes" false-value="no" /&gt;
&lt;!-- displays "Is admin: yes" or "Is admin: no" --&gt;
&lt;p&gt;Is admin: {{ user.isAdmin }}&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les boutons radio peuvent également utiliser <code>v-model</code>, avec des options
statiques ou dynamiques&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const profiles = ['developer', 'accountant', 'manager'];
const user = reactive({
  name: '',
  age: 18,
  profile: null,
  isAdmin: false
});</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;!-- displays one radio button per profile --&gt;
&lt;input
  v-for="profile in profiles"
  :key="profile"
  v-model="user.profile"
  type="radio"
  name="profile"
  :value="profile"
/&gt;
&lt;!-- displays "Profile: developer" or "Profile: accountant", etc. --&gt;
&lt;p&gt;Profile: {{ user.profile }}&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et bien sûr, on peut faire de même avec un <code>select</code>,
et des options statiques ou dynamiques&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;select v-model="user.profile"&gt;
  &lt;!-- displays a default static option --&gt;
  &lt;option :value="undefined"&gt;None&lt;/option&gt;
  &lt;!-- displays one option profile --&gt;
  &lt;option v-for="profile in profiles" :key="profile" :value="profile"&gt;{{ profile }}&lt;/option&gt;
&lt;/select&gt;
&lt;!-- displays "Profile: developer" or "Profile: accountant", etc. --&gt;
&lt;p&gt;Profile: {{ user.profile }}&lt;/p&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que ça fonctionne également avec un objet comme modèle.</p>
</div>
<div class="paragraph">
<p>Pour soumettre le formulaire,
tu peux écouter l&#8217;événement <code>submit</code> et empêcher la soumission par défaut avec <code>prevent</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;form @submit.prevent="register()"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dans la fonction <code>register</code>
tu auras accès à la propriété <code>user</code>,
remplie avec les valeurs saisies.</p>
</div>
<div class="paragraph">
<p>Vue permet en outre d&#8217;ajouter quelques <em>modifiers</em> à <code>v-model</code>.</p>
</div>
<div class="sect3">
<h4 id="_le_modifier_trim">22.1.1. Le <em>modifier</em> <code>.trim</code></h4>
<div class="paragraph">
<p>Tu peux ajouter <code>.trim</code> à <code>v-model</code> pour enlever les espaces indésirables&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input v-model.trim="user.name" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si l&#8217;utilisateur saisit une valeur avec des espaces au début ou à la fin,
alors <code>user.name</code> recevra la valeur sans ces espaces.</p>
</div>
</div>
<div class="sect3">
<h4 id="_le_modifier_number">22.1.2. Le <em>modifier</em> <code>.number</code></h4>
<div class="paragraph">
<p>Ajouter le <em>modifier</em> <code>.number</code> à <code>v-model</code> permet de convertir la valeur
en nombre (<code>type="number"</code> sur l&#8217;input n&#8217;est pas suffisant&#160;: la valeur sera
quand même une chaîne de caractères)&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input v-model.number="user.age" type="number" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si l&#8217;utilisateur saisit <code>22</code>, alors <code>user.age</code> aura la valeur <code>22</code> et non <code>'22'</code>.
Mais si la valeur saisie n&#8217;est pas convertible en nombre par Vue,
alors elle sera stockée telle quelle.
Par exemple, si l&#8217;utilisateur saisit <code>Not a number</code>,
la valeur liée sera une chaîne vide
si le champ est de type <code>number</code>,
ou <code>'Not a number'</code> sinon.</p>
</div>
</div>
<div class="sect3">
<h4 id="_le_modifier_lazy">22.1.3. Le <em>modifier</em> <code>.lazy</code></h4>
<div class="paragraph">
<p>Lorsque j&#8217;ai montré plus tôt le principe du binding bidirectionnel sans le sucre
syntaxique de <code>v-model</code>, j&#8217;ai utilisé&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input :value="user.name" @input="user.name = ($event.target as HTMLInputElement).value" /&gt;
&lt;!-- the `as HTMLInputElement` part is just to help template type checking tools --&gt;
&lt;!-- this is the same as `$event.target.value` --&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut changer le comportement de <code>v-model</code> en écoutant l&#8217;événement <code>change</code> au
lieu de l&#8217;événement <code>input</code>, simplement en ajoutant le <em>modifier</em> <code>.lazy</code>.</p>
</div>
<div class="paragraph">
<p>Cela signifie que <code>v-model</code> ne mettra à jour la valeur de la variable
qu&#8217;au moment où le champ perdra le focus.</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input v-model.lazy="user.name" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>v-model</code> fait le job pour les cas d&#8217;utilisation simples.
Mais les limites sont vite atteintes.
Qu&#8217;en est-il de la validation des valeurs saisies, ou du formulaire
complet&#160;?
Des messages d&#8217;erreur&#160;?</p>
</div>
<div class="paragraph">
<p>On peut gérer ces aspects soi-même, comme nous le ferons
dans l&#8217;exercice sur <code>v-model</code>.
On peut aussi utiliser une bibliothèque tierce
pour nous y aider.</p>
</div>
<div class="paragraph">
<p>Il en existe deux populaires dans l&#8217;écosystème de Vue&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://vuelidate-next.netlify.app">Vuelidate</a></p>
</li>
<li>
<p><a href="https://vee-validate.logaretm.com/v4">VeeValidate</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Elles ont des fonctionnalités similaires,
et toutes deux sont de bons choix.
Mais VeeValidate est ma préférée,
et nous allons la découvrir plus en détails ensemble&#160;!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaie notre exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/15/register">Register</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>&#160;!
Il fait partie de notre Pro Pack,
et tu y apprendras comment mettre en oeuvre un formulaire complet avec <code>v-model</code>.
Dans cet exercice, tu seras responsable de la validation et des messages d&#8217;erreur&#160;!</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_de_meilleurs_formulaires_avec_veevalidate">22.2. De meilleurs formulaires avec VeeValidate</h3>
<div class="paragraph">
<p>Écrire notre application en JavaScript nous permet de faire de la validation
côté client.
Ce n&#8217;est pas un remplacement pour la validation côté serveur,
mais c&#8217;est un plus pour les utilisateurs de savoir instantanément
que le formulaire est invalide, sans avoir à attendre de soumettre
le formulaire et obtenir une réponse du serveur.</p>
</div>
<div class="paragraph">
<p>VeeValidate est dédiée à cette validation côté client.
Elle fonctionne avec la directive <code>v-model</code> que nous venons
de découvrir, et y ajoute quelques fonctionnalités
de validation bien pratiques.</p>
</div>
<div class="paragraph">
<p>VeeValidate vient avec de nombreuses règles de validation,
mais aucune d&#8217;elles n&#8217;est incluse dans l&#8217;application par défaut.
Elles sont fournies dans un package séparé appelé <code>@vee-validate/rules</code>.
Cela permet de garder l&#8217;application aussi légère que possible,
mais nous oblige à déclarer explicitement quelles règles de validation
doivent être incluses.
Tu peux les importer toutes d&#8217;un coup, mais ce n&#8217;est pas une très bonne idée,
parce que tu n&#8217;en utiliseras sans doute que quelques-unes.</p>
</div>
<div class="paragraph">
<p>Voici les règles de validation disponibles qui sont le plus souvent utilisées&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>required</code> pour rendre un champ obligatoire&#160;;</p>
</li>
<li>
<p><code>min:N</code> et <code>max:N</code> pour s&#8217;assurer qu&#8217;une valeur saisie a au moins/au plus N caractères&#160;;</p>
</li>
<li>
<p><code>min_value:N</code>, <code>max_value:N</code>, <code>between</code> pour s&#8217;assurer qu&#8217;un nombre est au moins/au plus égal à N, ou est compris entre deux bornes&#160;;</p>
</li>
<li>
<p><code>email</code> pour vérifier que l&#8217;utilisateur a saisi une adresse email valide&#160;;</p>
</li>
<li>
<p><code>url</code> pour vérifier que l&#8217;utilisateur a saisi URL valide&#160;;</p>
</li>
<li>
<p><code>alpha</code>, <code>alpha_num</code>, <code>alpha_dash</code>, <code>alpha_space</code> pour s&#8217;assurer qu&#8217;une valeur est alphabétique seulement/avec des nombres/avec des tirets/avec des espaces&#160;;</p>
</li>
<li>
<p><code>numeric</code> pour vérifier que la valeur saisie est un nombre&#160;;</p>
</li>
<li>
<p><code>regex</code> pour s&#8217;assurer qu&#8217;une valeur correspond à une expression régulière donnée.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pour les <code>input type="file"</code>, il en existe d&#8217;autres spécifiques&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mimes</code> permet de définir quels types MIME sont acceptés pour le fichier&#160;;</p>
</li>
<li>
<p><code>ext</code> permet de lister les extensions acceptées&#160;;</p>
</li>
<li>
<p><code>size</code> permet de fixer une taille de fichier maximale&#160;;</p>
</li>
<li>
<p><code>image</code> n&#8217;autorise que des formats d&#8217;image&#160;;</p>
</li>
<li>
<p><code>dimensions</code> permet de définir les dimensions précises requises pour une image.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Certaines règles permettent de faire de la validation sur plusieurs champs&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>required_if</code> rend un champ obligatoire si un autre est rempli avec une des valeurs données&#160;;</p>
</li>
<li>
<p><code>confirmed</code> permet de s&#8217;assurer qu&#8217;un champ a la même valeur qu&#8217;un autre (double vérification classique pour un mot de passe).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pour pouvoir utiliser une quelconque de ces règles de validation dans ton application,
tu dois la charger explicitement&#160;:</p>
</div>
<div class="listingblock">
<div class="title">main.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { defineRule } from 'vee-validate';
import { confirmed, min, required } from '@vee-validate/rules';

defineRule('min', min);
defineRule('required', required);
defineRule('confirmed', confirmed);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le deviner grâce à cet exemple,
nous pourrions renommer les règles de validation comme bon nous semble.
Mais, en règle générale, j&#8217;utilise les noms prédéfinis.
Maintenant que nous avons chargé les règles désirées,
nous pouvons les utiliser dans nos composants pour valider des champs de formulaire.</p>
</div>
<div class="paragraph">
<p>On peut aussi configurer VeeValidate,
par exemple pour indiquer <em>quand</em> valider les champs.
Par défaut, la librairie vérifie les champs sur les évènements <code>blur</code> et <code>change</code>.
Mais j&#8217;aime bien valider sur l&#8217;évènement <code>input</code> également&#160;:</p>
</div>
<div class="listingblock">
<div class="title">main.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { configure } from 'vee-validate';
configure({
  validateOnInput: true,
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>VeeValidate propose deux modes d&#8217;utilisation&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>un mode basé sur l&#8217;API de Composition,</p>
</li>
<li>
<p>un mode basé sur des composants à utiliser dans les templates
(un mode de fonctionnement que l&#8217;on appelle des <em>Higher Order Components</em>, ou <em>HOC</em>,
pour <em>composants de plus haut ordre</em>).</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_veevalidate_avec_lapi_de_composition">22.2.1. VeeValidate avec l&#8217;API de Composition</h4>
<div class="paragraph">
<p>VeeValidate offre une fonction pour déclarer un champ de formulaire&#160;: <code>useField()</code>.</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { useField } from 'vee-validate';

const { value: name, errorMessage: nameErrorMessage, meta: nameMeta } = useField('name', { required: true });</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;objet retourné par <code>useField()</code> a plusieurs propriétés intéressantes,
comme <code>value</code>, la valeur du champ, que l&#8217;on peut utiliser dans un <code>v-model</code>.
VeeValidate gère également la validation du champ,
et offre une propriété <code>errorMessage</code>,
qui contient le potentiel message d&#8217;erreur du champ.</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;label for="name"&gt;Name&lt;/label&gt;
  &lt;input id="name" v-model="name" name="name" /&gt;
  &lt;div v-if="nameMeta.dirty &amp;&amp; !nameMeta.valid" class="error"&gt;{{ nameErrorMessage }}&lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { useField } from 'vee-validate';

const { value: name, errorMessage: nameErrorMessage, meta: nameMeta } = useField('name', { required: true });
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>useField</code> offre en fait plus de propriétés que ça grâce à <code>meta</code>&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>valid</code> est un booléen qui indique si le champ est valide ou invalide&#160;;</p>
</li>
<li>
<p><code>dirty</code> est un booléen qui indique si le champ est "vierge"
(l&#8217;utilisateur n&#8217;a rien saisi) ou "sale" (l&#8217;utilisateur a saisi une valeur différente de la valeur initiale)&#160;;</p>
</li>
<li>
<p><code>touched</code> est un booléen qui indique si le champ a perdu le focus ou pas&#160;;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>VeeValidate aide également à valider l&#8217;état du formulaire dans son ensemble,
et fournit pour cela une autre fonction <code>useForm()</code>.</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { useField, useForm } from 'vee-validate';

const { meta: formMeta, handleSubmit, errors } = useForm();
// add a `name` field to the form, initialized with 'JB'
const { value: name } = useField('name', { required: true }, { initialValue: 'JB' });
// add a `password` field to the form
const { value: password } = useField('password', { required: true });
// the register function has access to the form values directly
const register = handleSubmit(values =&gt; {
  // this will only be called if the form is valid
  console.log(values);
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu peux enregistrer autant de champs que tu le désires.
<code>useForm</code> renvoie un objet avec une fonction <code>handleSubmit</code>
qui nous sert à définir comment gérer la soumission,
un object <code>errors</code> contenant les erreurs de validation,
et les mêmes propriétés que <code>useField</code> dans une propriété <code>meta</code>.
La logique est assez simple à comprendre&#160;:
<code>valid</code> est <code>true</code> si tous les champs sont valides,
et <code>false</code> si au moins un champ est invalide&#160;;
<code>dirty</code> est <code>false</code> si tous les champs sont "vierges",
et <code>true</code> si au moins un champ est "sale"&#160;, etc.</p>
</div>
<div class="paragraph">
<p>On peut par exemple désactiver le bouton de soumission
du formulaire s&#8217;il est invalide&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;form @submit="register()"&gt;
    &lt;label for="name"&gt;Name&lt;/label&gt;
    &lt;input id="name" v-model="name" /&gt;
    &lt;div class="error"&gt;{{ errors.name }}&lt;/div&gt;

    &lt;label for="password"&gt;Password&lt;/label&gt;
    &lt;input id="password" v-model="password" type="password" /&gt;
    &lt;div class="error"&gt;{{ errors.password }}&lt;/div&gt;

    &lt;!-- button is disabled while the form is invalid --&gt;
    &lt;button :disabled="!formMeta.valid"&gt;Register&lt;/button&gt;
  &lt;/form&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { useField, useForm } from 'vee-validate';

const { meta: formMeta, handleSubmit, errors } = useForm();
// add a `name` field to the form, initialized with 'JB'
const { value: name } = useField('name', { required: true }, { initialValue: 'JB' });
// add a `password` field to the form
const { value: password } = useField('password', { required: true });
// the register function has access to the form values directly
const register = handleSubmit(values =&gt; {
  // this will only be called if the form is valid
  console.log(values);
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;API de composition proposée par VeeValidate fait le gros du travail
en validant les champs et en calculant l&#8217;état du formulaire.
C&#8217;est puissant et simple à utiliser.
Et, comme nous allons le voir dans la partie suivante,
il y a une autre façon, encore plus simple, d&#8217;utiliser VeeValidate.</p>
</div>
</div>
<div class="sect3">
<h4 id="_veevalidate_avec_des_composants_de_plus_haut_ordre">22.2.2. VeeValidate avec des composants de plus haut ordre</h4>
<div class="paragraph">
<p>Au lieu d&#8217;utiliser l&#8217;API de Composition,
VeeValidate offre un composant pour définir un champ
dans le template, et ajouter de la validation sur celui-ci.
Ce composant s&#8217;appelle&#8230;&#8203; <code>Field</code>&#160;!
<code>Field</code> ne fait pas grand-chose en lui-même.
Mais on peut l&#8217;utiliser avec un autre composant offert par VeeValidate&#160;:
<code>Form</code>.
<code>Form</code> émet un événement <code>submit</code> avec les valeurs du formulaire&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Form @submit="register($event)"&gt;
  &lt;label for="name"&gt;Name&lt;/label&gt;
  &lt;Field id="name" name="name" rules="required" value="JB" /&gt;
  &lt;label for="password"&gt;Password&lt;/label&gt;
  &lt;Field id="password" name="password" type="password" rules="required" /&gt;
  &lt;button type="submit"&gt;Register&lt;/button&gt;
&lt;/Form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu as juste à coder la fonction qui gère la soumission&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Field, Form } from 'vee-validate';

function register(values: Record&lt;string, unknown&gt;) {
  // { name: string; password: string }
  console.log(values);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir, <code>Field</code> attend simplement un nom,
et (par défaut) affiche un <code>input</code>.
Si tu veux donner une valeur initiale au champ,
tu peux utiliser la prop <code>value</code>.
Ou tu peux aussi utiliser <code>v-model</code>&#160;:
cela peut être très pratique si tu veux réagir à un changement de valeur&#160;!
Tu as alors simplement besoin d&#8217;une valeur réactive et d&#8217;un watcher.</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const user = reactive({ name: 'Cédric', password: '' });

const passwordStrength = computed(() =&gt; computeStrength(user.password));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et d&#8217;ajouter le <code>v-model</code> sur ton <code>Field</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Field id="password" v-model="user.password" name="password" type="password" rules="required" /&gt;
&lt;div id="strength"&gt;{{ passwordStrength }}&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut aussi spécifier une prop <code>type</code>
(pour avoir un input de type différent, comme <code>type="number"</code>),
ou carrément un élément différent avec la prop <code>as</code>
(par exemple, <code>:as="textarea"</code>).
Si tu veux afficher du HTML custom,
peut-être afin d&#8217;ajouter une classe CSS quelque part si le champ est invalide,
tu peux le faire facilement&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Field v-slot="{ field, meta }" v-model="user.name" name="name" rules="required"&gt;
  &lt;label for="name-input" :class="{ 'text-danger': meta.dirty &amp;&amp; !meta.valid }"&gt;Name&lt;/label&gt;
  &lt;input id="name-input" :class="{ 'is-invalid': meta.dirty &amp;&amp; !meta.valid }" v-bind="field" /&gt;
&lt;/Field&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ce type de composant qui projette du contenu avec un <em>slot</em>
est celui que nous avons déjà rencontré dans le chapitre
<a href="#slots">Slots</a>
. Il est parfois appelé <em>Higher Order Component</em>,
un composant de plus haut ordre.</p>
</div>
<div class="paragraph">
<p><code>Field</code> expose une <em>slot prop</em>,
contenant toutes les propriétés que <code>useField()</code> renvoie.</p>
</div>
<div class="paragraph">
<p>On peut accéder à la propriété <code>meta</code>
comme tu peux le voir dans l&#8217;exemple précédent,
mais aussi à d&#8217;autres propriétés comme <code>errorMessage</code>,
qui contient le potentiel message d&#8217;erreur du champ.
On peut même faire un peu mieux pour afficher ce message,
car VeeValidate offre un troisième composant&#160;: <code>ErrorMessage</code>.</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Field v-slot="{ field, meta }" v-model="user.name" name="name" rules="required"&gt;
  &lt;label for="name-input" :class="{ 'text-danger': meta.dirty &amp;&amp; !meta.valid }"&gt;Name&lt;/label&gt;
  &lt;input id="name-input" :class="{ 'is-invalid': meta.dirty &amp;&amp; !meta.valid }" v-bind="field" /&gt;
  &lt;ErrorMessage name="name" class="error" /&gt;
&lt;/Field&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>VeeValidate est suffisamment malin pour ne générer ce message
que lorsque l&#8217;utilisateur a effectivement interagi avec le champ,
donc il ne crie pas sur le pauvre utilisateur
qui viendrait d&#8217;atterrir sur la page.</p>
</div>
<div class="paragraph">
<p>Le message affiché ici est <code>name is not valid.</code>,
mais il peut être customisé lorsque l&#8217;on charge la règle de validation,
en utilisant le package <code>@vee-validate/i18n</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">forms.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { configure } from 'vee-validate';
import { localize } from '@vee-validate/i18n';

configure({
  validateOnInput: true,
  generateMessage: localize('en', {
    messages: {
      // use a function
      required: context =&gt; `The ${context.field} is required.`,
      confirmed: context =&gt; `The ${context.field} does not match.`,
      // or use the special syntax offered by the library
      min: 'The {field} must be at least 0:{min} characters.',
    }
  })
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le message est maintenant <code>The name is required.</code>.</p>
</div>
<div class="paragraph">
<p>Tu peux aussi renommer un champ pour un joli message d&#8217;erreur,
avec la prop <code>label</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Field
  v-slot="{ field, meta }"
  v-model="user.confirmPassword"
  name="confirmPassword"
  rules="required|confirmed:@password"
  label="password confirmation"
&gt;
  &lt;label for="confirm-password-input" :class="{ 'text-danger': meta.dirty &amp;&amp; !meta.valid }"&gt;Confirm password&lt;/label&gt;
  &lt;input
    id="confirm-password-input"
    type="password"
    :class="{ 'is-invalid': meta.dirty &amp;&amp; !meta.valid }"
    v-bind="field"
  /&gt;
  &lt;ErrorMessage name="confirmPassword" class="error" /&gt;
&lt;/Field&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que l&#8217;on peut bien sûr appliquer plusieurs règles d&#8217;un coup à un champ&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Field v-slot="{ field, meta }" v-model="user.password" name="password" rules="required|min:3"&gt;
  &lt;label for="password-input" :class="{ 'text-danger': meta.dirty &amp;&amp; !meta.valid }"&gt;Password&lt;/label&gt;
  &lt;input id="password-input" type="password" :class="{ 'is-invalid': meta.dirty &amp;&amp; !meta.valid }" v-bind="field" /&gt;
  &lt;ErrorMessage name="password" class="error" /&gt;
&lt;/Field&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Form</code> a aussi une <em>slot prop</em> avec différentes propriétés,
comme <code>meta</code> qui contient l&#8217;état du formulaire
(<code>valid</code>, <code>dirty</code>, etc.).</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Form v-slot="{ meta: formMeta }" @submit="register($event)"&gt;
  &lt;!-- Several fields... --&gt;
  &lt;button :disabled="!formMeta.valid"&gt;Register&lt;/button&gt;
&lt;/Form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Un troisième composant, <code>FieldArray</code> est également disponible pour gérer des tableaux de valeurs.
Pour terminer, sache que VeeValidate permet aussi de traduire les messages d&#8217;erreur
dans la langue voulue, de définir ses propres règles de validation,
d&#8217;ajouter des attributs d&#8217;accessibilité aux champs, etc.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
VeeValidate vient avec un plugin pour les devtools,
ce qui permet de directement inspecter l&#8217;état de ton formulaire dans les devtools
de ton navigateur pendant que tu développes 😍.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaie notre exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/16/login">Login</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>&#160;!
Il fait partie du Pro Pack,
et tu y apprendras à construire un formulaire complet validé par VeeValidate.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_validateurs_custom">22.2.3. Validateurs custom</h4>
<div class="paragraph">
<p>VeeValidate nous met à disposition un ensemble de règles,
mais il est également possible de construire les nôtres.</p>
</div>
<div class="paragraph">
<p>Une règle de validation est assez simple&#160;:
c&#8217;est une fonction qui renvoie <code>true</code> si la valeur est valide,
ou <code>false</code> sinon.
Il est aussi possible de retourner directement le message d&#8217;erreur,
mais j&#8217;utilise généralement seulement un booléen comme type de retour.
La fonction peut également renvoyer une <code>Promise</code>
si tu as besoin de validation asynchrone
(par exemple pour vérifier une valeur auprès du serveur).</p>
</div>
<div class="paragraph">
<p>Essayons donc de construire un validateur
qui vérifie si une valeur est entre 18 et 130.</p>
</div>
<div class="listingblock">
<div class="title">validators.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export function between18And130(value: string) {
  return +value &gt;= 18 &amp;&amp; +value &lt;= 130;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu dois ensuite ajouter la règle,
comme on le fait avec les règles fournies.</p>
</div>
<div class="listingblock">
<div class="title">forms.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">defineRule('between18And130', between18And130);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et définir un message pour cette erreur&#160;:</p>
</div>
<div class="listingblock">
<div class="title">forms.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">between18And130: context =&gt; `The ${context.field} must be between 18 and 130.`,</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut alors l&#8217;utiliser dans un composant&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Field v-slot="{ field, meta }" name="age" rules="required|between18And130"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Un validateur peut aussi avoir des paramètres.
Au lieu de coder en dur les valeurs minimum et maximum,
nous pouvons les passer au validateur.</p>
</div>
<div class="listingblock">
<div class="title">validators.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export function betweenParams(value: string, params: Array&lt;string&gt;) {
  const min = +params[0];
  const max = +params[1];
  return +value &gt;= min &amp;&amp; +value &lt;= max;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>On passe des paramètres en utilisant <code>:</code>,
et <code>,</code> pour les séparer.</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Field v-slot="{ field, meta }" name="age" rules="required|betweenParams:17,120"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le message d&#8217;erreur peut également refléter ces paramètres&#160;:</p>
</div>
<div class="listingblock">
<div class="title">forms.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">betweenParams: context =&gt; {
  const params = context.rule!.params as Array&lt;string&gt;;
  return `The ${context.field} must be between ${params[0]} and ${params[1]}.`;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Une autre fonctionnalité assez cool est la possibilité de
faire de la validation entre champs.
Par exemple, notre validateur peut utiliser les valeurs
définies dans deux autres champs pour les valeurs minimum et maximum.</p>
</div>
<div class="paragraph">
<p>Si le formulaire a des champs <code>min</code> et <code>max</code>,
on peut écrire&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Field v-slot="{ field, meta }" name="age" rules="required|betweenParams:@min,@max"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La syntaxe <code>@something</code> indique à VeeValidate
qu&#8217;il faut utiliser la valeur du champ nommé <code>something</code>.</p>
</div>
<div class="paragraph">
<p>Pour résumer, il est assez facile de créer nos propres validateurs.
On écrit une fonction qui renvoie vrai ou faux,
on l&#8217;ajoute, on définit un message d&#8217;erreur,
et on l&#8217;utilise, comme un validateur fourni par défaut.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaie notre exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/17/validation">Validateurs custom</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>!
Il fait partie du Pro Pack,
et tu y apprendras à créer tes propres validateurs.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_composants_de_formulaire_personnalisés">22.3. Composants de formulaire personnalisés</h3>
<div class="paragraph">
<p>HTML définit un nombre important de contrôles standards&#160;: texte, mot de passe, case à cocher, etc.
Mais, parfois, ces contrôles standards ne conviennent pas.</p>
</div>
<div class="paragraph">
<p>Vue permet de définir des composants bien sûr, et il est en fait possible
d&#8217;en faire des éléments de formulaires,
c&#8217;est-à-dire de les lier en leur appliquant la directive <code>v-model</code>.</p>
</div>
<div class="paragraph">
<p>Remplir le contrat de cette directive est assez simple.
Il faut&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>accepter une prop appelée <code>modelValue</code>;</p>
</li>
<li>
<p>notifier Vue que l&#8217;utilisateur a changé la valeur, en émettant un événement nommé <code>@update:modelValue</code>;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Nous allons illustrer tout cela en utilisant un composant <em>rating</em>.
Ce composant permet de donner une note de 0 à 5 à un film, par exemple.
Mais au lieu d&#8217;utiliser un champ de type <code>number</code> ou <code>range</code>,
on voudrait que l&#8217;utilisateur clique simplement sur un bouton parmi 6 boutons affichés
(qui, typiquement, seraient présentés sous forme d&#8217;étoiles, mais nous laisserons ça de côté dans l&#8217;exemple qui suit).</p>
</div>
<div class="paragraph">
<p>Voici le code d&#8217;un tel composant&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;script setup lang="ts"&gt;
defineProps&lt;{
  modelValue: number;
}&gt;();

const emit = defineEmits&lt;{
  'update:modelValue': [value: number];
}&gt;();

const pickableValues = [0, 1, 2, 3, 4, 5];

function setValue(pickedValue: number) {
  emit('update:modelValue', pickedValue);
}
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et voici son template&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;template&gt;
  &lt;div&gt;
    &lt;button
      v-for="pickableValue of pickableValues"
      :key="pickableValue"
      :class="{ selected: modelValue != null &amp;&amp; pickableValue &lt;= modelValue }"
      type="button"
      @click="setValue(pickableValue)"
    &gt;
      {{ pickableValue }}
    &lt;/button&gt;
  &lt;/div&gt;
&lt;/template&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et voilà.
Nous disposons à présent d&#8217;un joli composant qui peut être utilisé dans n&#8217;importe quel formulaire,
en lui appliquant simplement la directive <code>v-model</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;form&gt;
  &lt;div&gt;
    &lt;label for="title"&gt;Title&lt;/label&gt;
    &lt;input id="title" v-model="movieTitle" /&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;label for="rating"&gt;Rating&lt;/label&gt;
    &lt;Rating id="rating" v-model="movieRating" /&gt;
  &lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_macro_definemodel">22.4. Macro <code>defineModel</code></h3>
<div class="paragraph">
<p>Quand tu as un composant de formulaire personnalisé
qui doit seulement lier une valeur de <code>v-model</code> à un input classique,
la mécanique de prop/event est parfois un peu pénible&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;input :value="modelValue" @input="setValue(($event.target as HTMLInputElement).value)" /&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
defineProps&lt;{ modelValue: string }&gt;();
const emit = defineEmits&lt;{ 'update:modelValue': [value: string] }&gt;();
function setValue(newValue: string) {
  emit('update:modelValue', newValue);
}
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Depuis Vue v3.3, il est possible de simplifier ce composant,
en utilisant la macro <code>defineModel</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;input v-model="modelValue" /&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
const modelValue = defineModel&lt;string&gt;();
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>defineModel</code> accepte également quelques options&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>required: true</code> indique que la prop est obligatoire</p>
</li>
<li>
<p><code>default: value</code> permet de spécifier la valeur par défaut</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Il est également possible de gérer les <em>modifiers</em> depuis la v3.4&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;input v-model="count" /&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
const [count, countModifiers] = defineModel&lt;number, 'number'&gt;({
  set(value) {
    if (countModifiers?.number) {
      return Number(value);
    }
    return value;
  }
});
&lt;/script&gt;</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="provide-inject">23. Provide/inject</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vue dispose d&#8217;un système basique d&#8217;injection de dépendances.
J&#8217;ai hésité à écrire ce chapitre,
parce que ce n&#8217;est pas quelque chose que tu utiliseras tous les jours.
C&#8217;est principalement utile pour les auteurs de bibliothèques,
mais il y a néanmoins un cas d&#8217;utilisation où cela peut s&#8217;avérer utile dans les applications.</p>
</div>
<div class="sect2">
<h3 id="_une_manière_déviter_les_props_passe_plat">23.1. Une manière d&#8217;éviter les <code>props</code> passe-plat</h3>
<div class="paragraph">
<p>Quand une application se complexifie,
on se retrouve parfois à devoir passer des <code>props</code>
depuis un composant vers ses petits-enfants ou ses arrière-petits-enfants.
Les composants intermédiaires font "passe-plat"&#160;:
ils reçoivent une <code>prop</code> de leur parent dans le seul but de la fournir à leurs enfants.</p>
</div>
<div class="paragraph">
<p>Une manière d&#8217;éviter cela est d&#8217;utiliser <code>provide</code>/<code>inject</code>.
<code>provide</code> permet d&#8217;enregistrer une valeur associée à une clé dans un composant,
et <code>inject</code> permet de récupérer cette valeur dans un descendant.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMjEwJyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgMzYwIDIxMCcgd2lkdGg9JzM2MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMjEwJyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzM2MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00zNS4wIDM1LjAgTDEzNS4wIDM1LjAgTDEzNS4wIDYzLjAgTDM1LjAgNjMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J00zNS4wIDE0Ny4wIEwxMzUuMCAxNDcuMCBMMTM1LjAgMTc1LjAgTDM1LjAgMTc1LjAgeicgZmlsbD0nIzk2OTY5NicgZmlsdGVyPSd1cmwoI3NoYWRvd0JsdXIpJyBzdHJva2U9JyM5Njk2OTYnLz48cGF0aCBkPSdNMzUuMCAzNS4wIEwxMzUuMCAzNS4wIEwxMzUuMCA2My4wIEwzNS4wIDYzLjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J00zNS4wIDE0Ny4wIEwxMzUuMCAxNDcuMCBMMTM1LjAgMTc1LjAgTDM1LjAgMTc1LjAgeicgZmlsbD0nd2hpdGUnIHN0cm9rZT0nIzAwMDAwMCcgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004MC4wIDg0LjAgTDg1LjAgOTguMCBMOTAuMCA4NC4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004MC4wIDEyNi4wIEw4NS4wIDE0MC4wIEw5MC4wIDEyNi4wIHonIGZpbGw9JyMwMDAwMDAnIHN0cm9rZT0nbm9uZScgc3Ryb2tlLWxpbmVjYXA9J3JvdW5kJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEuMCcvPjxwYXRoIGQ9J004NS4wIDExMi4wIEw4NS4wIDEzMy4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTg1LjAgNjMuMCBMODUuMCA5MS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTMnIHN0cm9rZT0nbm9uZScgeD0nNzAnIHk9JzU0Jz48IVtDREFUQVtBcHBdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMTY2JyB5PSc1NCc+PCFbQ0RBVEFbcHJvdmlkZShrZXksIHZhbHVlKV1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PSc3NicgeT0nMTEwJz48IVtDREFUQVsuLi5dXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTQnIHN0cm9rZT0nbm9uZScgeD0nNzEnIHk9JzE2Nic+PCFbQ0RBVEFbUG9ueV1dPjwvdGV4dD48dGV4dCBmaWxsPScjMDAwMDAwJyBmb250LWZhbWlseT0nc2Fucy1zZXJpZicgZm9udC1zaXplPScxNScgc3Ryb2tlPSdub25lJyB4PScxNjEnIHk9JzE2Nic+PCFbQ0RBVEFbaW5qZWN0KGtleSldXT48L3RleHQ+PC9nPjwvc3ZnPg==" alt="provide inject" width="360" height="210">
</div>
</div>
<div class="paragraph">
<p>La clé peut être une <code>string</code> ou un <code>number</code>
(un troisième type, <code>InjectionKey</code>, est autorisé,
mais nous en parlerons plus tard).
La valeur peut être n&#8217;importe quoi&#160;:
une valeur statique, une valeur réactive, une fonction&#8230;&#8203;
Si la valeur a besoin de changer pendant la vie du composant,
alors utiliser une valeur réactive fait sens&#160;:</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const color = ref('#123456');
provide('color', color);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Un composant, plus bas dans l&#8217;arbre, peut alors s&#8217;injecter la valeur.</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const color = inject&lt;Ref&lt;string&gt;&gt;('color');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cette valeur peut être utilisée comme n&#8217;importe quelle autre propriété réactive.
Si le composant <code>App</code> modifie la valeur de <code>color</code>,
alors le composant <code>Pony</code> sera mis à jour&#160;!</p>
</div>
<div class="paragraph">
<p>Comme tu peux le voir, j&#8217;ai dû dire à TypeScript que la valeur retournée
par <code>inject</code> pour cette clé est de type <code>Ref&lt;string&gt;</code>.
Il est possible de faire mieux en utilisant une clé de type <code>InjectionKey&lt;T&gt;</code>.
<code>InjectionKey</code> est en fait un <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol"><code>Symbol</code></a>,
un type primitif qui a la particularité de créer des valeurs uniques.
Cela en fait un type parfait pour une clé, puisque l&#8217;on a la garantie qu&#8217;une clé de ce type
n&#8217;en écrasera jamais aucune autre&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const symbol1 = Symbol();
const symbol2 = Symbol('hello');
const symbol3 = Symbol('hello'); // symbol2 !== symbol3</code></pre>
</div>
</div>
<div class="paragraph">
<p>Créons donc une <code>InjectionKey</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">injection-keys.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { InjectionKey, Ref } from 'vue';

export const colorKey: InjectionKey&lt;Ref&lt;string&gt;&gt; = Symbol('color');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et utilisons-là pour fournir la couleur&#160;:</p>
</div>
<div class="listingblock">
<div class="title">App.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const color = ref('#123456');
provide(colorKey, color);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il s&#8217;agit ensuite d&#8217;utiliser cette même clé pour s&#8217;injecter la valeur&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const color = inject(colorKey);
// color is automatically typed as `Ref&lt;string&gt; | undefined`</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que tu peux passer un deuxième paramètre à <code>inject</code> pour obtenir une valeur par défaut&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const color = inject(colorKey, ref('#999999'));
// color is automatically typed as `Ref&lt;string&gt;`</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut aussi fournir une valeur au niveau applicatif&#160;:</p>
</div>
<div class="listingblock">
<div class="title">main.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">createApp(App)
  .provide(colorKey, ref('#987654'))
  .mount('#app');</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tester_des_composants_qui_utilisent_inject">23.2. Tester des composants qui utilisent <code>inject</code></h3>
<div class="paragraph">
<p>Pour pouvoir tester les composants qui utilisent <code>inject</code>,
il va falloir leur fournir la valeur qu&#8217;ils attendent.
Vue Test Utils permet de le faire avec l&#8217;option <code>provide</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const wrapper = mount(Pony, {
  global: {
    provide: {
      color: ref('#999999')
    }
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>ou, si tu as utilisé une <code>InjectionKey</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Pony.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const wrapper = mount(Pony, {
  global: {
    provide: {
      [colorKey as symbol]: ref('#999999')
    }
  }
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_providers_hiérarchiques">23.3. <em>Providers</em> hiérarchiques</h3>
<div class="paragraph">
<p>Pour être honnête, utiliser provide/inject pour éviter le passe-plat n&#8217;est pas vraiment nécessaire&#160;:
on peut simplement utiliser une fonction <code>useColor()</code> qui retourne une couleur réactive
et on obtient le même résultat.</p>
</div>
<div class="paragraph">
<p>Mais <code>inject</code> offre un autre avantage&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>il commence par regarder dans le composant parent pour savoir s&#8217;il a fourni une valeur pour la clé en question;</p>
</li>
<li>
<p>sinon, il la cherche dans le grand-parent;</p>
</li>
<li>
<p>etc.</p>
</li>
<li>
<p>sinon, il la cherche dans le composant racine;</p>
</li>
<li>
<p>et, enfin, il la cherche dans les valeurs fournies au niveau applicatif.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Bien sûr, dès que la valeur est trouvée, la recherche s&#8217;arrête et la valeur trouvée est retournée.</p>
</div>
<div class="paragraph">
<p>À la fin, si aucun <em>provider</em> n&#8217;a fourni de valeur pour cette clé,
<code>inject</code> retourne <code>undefined</code> et affiche un avertissement dans la console
(à moins que l&#8217;on ait passé une valeur par défaut en deuxième argument à <code>inject</code>)&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">'[Vue warn]: injection "Symbol(color)" not found'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cette hiérarchie de <em>providers</em> peut s&#8217;avérer pratique
si une valeur fournie à un niveau de l&#8217;arbre doit être remplacée par une autre
pour un sous-ensemble de composants.</p>
</div>
</div>
<div class="sect2">
<h3 id="_plugins">23.4. Plugins</h3>
<div class="paragraph">
<p>Vue offre un mécanisme de <em>plugins</em>.
Les <em>plugins</em> sont installés grâce à <code>app.use(plugin)</code>.
Le routeur par exemple utilise ce mécanisme&#160;:</p>
</div>
<div class="listingblock">
<div class="title">main.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">createApp(App)
  .use(routerPlugin)
  .mount('#app');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lorsque l&#8217;on veut obtenir le routeur dans un composant,
on utilise <code>useRouter()</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Races.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const router = useRouter();
function saveAndMoveBackToHome() {
  // ...
  router.push('/');
  // or
  router.push({ name: 'home' });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sous le capot, le routeur, comme de nombreux <em>plugins</em>,
utilise provide/inject&#160;!</p>
</div>
<div class="paragraph">
<p>Quand on crée le routeur avec <code>createRouter()</code>,
la fonction fournit le routeur créé au niveau applicatif.
Et le code de <code>useRouter()</code> est en fait très simple&#160;: <code>return inject(routerKey)</code>.
En fait tu pourrais directement t&#8217;injecter le routeur de cette manière dans tes
composants pour l&#8217;obtenir 🤓.</p>
</div>
<div class="paragraph">
<p>C&#8217;est le cas d&#8217;utilisation le plus répandu pour provide/inject,
et c&#8217;est comme cela que la plupart des <em>plugins</em> fonctionnent.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="state-management">24. Gestion d&#8217;état</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dans une application web bien conçue,
l&#8217;état de l&#8217;application est préservé sur le serveur, et dans l&#8217;URL.
On doit être capable de rafraîchir n&#8217;importe quelle page (et donc redémarrer l&#8217;application),
et se retrouver là où on se trouvait juste avant&#160;:
l&#8217;URL permet de retenir la page consultée,
et les données affichées par cette page sont stockées sur le serveur et
téléchargés grâce aux paramètres de l&#8217;URL.</p>
</div>
<div class="paragraph">
<p>Les différents composants de cette page cependant,
une fois les données chargées depuis le serveur,
doivent souvent partager un état.
Une partie de cet état peut même être global à toute l&#8217;application,
comme par exemple l&#8217;utilisateur ou l&#8217;utilisatrice connecté(e)&#160;:
la barre de navigation doit afficher son nom, et lui permettre de se déconnecter&#160;;
la page d&#8217;accueil doit afficher un message d&#8217;accueil personnalisé&#160;;
n&#8217;importe quel composant peut en avoir besoin pour décider s&#8217;il ou elle
a le droit d&#8217;exécuter une action donnée.</p>
</div>
<div class="paragraph">
<p>Alors, comment les composants partagent-ils leur état&#160;?</p>
</div>
<div class="paragraph">
<p>On peut bien sûr utiliser les <code>props</code>&#160;:
un composant parent passe son état ou une partie de son état
à un composant enfant via des <code>props</code>,
et l&#8217;enfant émet des événements à destination de son parent
afin qu&#8217;il modifie son état.
C&#8217;est approprié pour des associations parent-enfant,
mais ce n&#8217;est pas très adapté quand l&#8217;état doit être partagé entre de nombreux
composants frères, ou quand l&#8217;arbre des composants est profond.
Et pour un état global, qui doit être partagé entre des composants
qui n&#8217;ont rien à voir l&#8217;un avec l&#8217;autre et sont affichés
par diverses routes, ce n&#8217;est pas le bon outil.</p>
</div>
<div class="paragraph">
<p>La solution dans ce genre de cas consiste à mettre en œuvre le pattern <em>store</em>.</p>
</div>
<div class="sect2">
<h3 id="_le_pattern_store">24.1. Le pattern <em>store</em></h3>
<div class="paragraph">
<p>Supposons donc que deux composants aient besoin d&#8217;accéder aux données
de l&#8217;utilisateur ou utilisatrice connecté(e).
On peut utiliser l&#8217;API composition de Vue
et déclarer une propriété réactive que les deux composants vont utiliser.
Je place généralement cette propriété dans un "service",
mais tu peux choisir de l&#8217;appeler <em>store</em>.</p>
</div>
<div class="listingblock">
<div class="title">UserService.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { ref } from 'vue';
import { UserModel } from '@/models/UserModel';

const userModel = ref&lt;UserModel | null&gt;(null);

async function authenticate(login: string, password: string): Promise&lt;UserModel&gt; {
  // call the HTTP API
  // in case of success, store the logged-in user
  userModel.value = response.data;
}

function logout(): void {
  // ...
  userModel.value = null;
}


// ...

export function useUserService() {
  return {
    userModel,
    authenticate,
    logout
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Une fois ce service et cette propriété définis,
les composants peuvent y accéder très facilement&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Home.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;template&gt;
  &lt;div v-if="userModel"&gt;Hello {{ userModel.name }}!&lt;/div&gt;
  &lt;div v-else&gt;Welcome, anonymous comrade!&lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
import { useUserService } from './UserService';

const { userModel } = useUserService();
&lt;/script&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et comme la propriété est réactive, c&#8217;est formidable&#160;:
si la valeur de <code>userModel</code> change,
tous les composants verront la modification automatiquement ✨.</p>
</div>
<div class="paragraph">
<p>Par exemple, si le composant <code>Navbar</code> a un bouton <em>Sign out</em>
qui permet de se déconnecter&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Navbar.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const { userModel } = useUserService();
function signout() {
  userModel.value = null;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le composant <code>Home</code> affichera automatiquement <code>Welcome, anonymous comrade!</code>
quand l&#8217;utilisateur clique sur le bouton "Sign out" de la <code>Navbar</code>.</p>
</div>
<div class="paragraph">
<p>Cela dit, pour simplifier le debugging et pour encapsuler les responsabilités
on évite de modifier les propriétés réactives du store directement
depuis les composants.
La façon propre de modifier cette propriété est de déléguer sa gestion au service&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Navbar.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const { logout } = useUserService();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le simple principe d&#8217;architecture que nous venons de décrire
est appelé le <em>Store pattern</em>,
et il fonctionne très bien, même pour les grosses applications&#160;!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaie nos exercices
<a href="https://vue-exercises.ninja-squad.com/exercises/18/state-management">State management</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco0APWP0jRywpmrWwBGIJnuEBsAKERityoCDQrOzZOvjIm5KSJ0ktsBJhS0zOzAAYocikRCis7N0++IhaknFwEsERGCVCe5Vn+SE7GpK2yuk6+EtZIKdcCWBd0d/2GjZu8JABKFLmcaMjGOIjeHHZTGluA4eC91XtuU2oG6C+4GhOWHCXarvWOMTKGt0hjZ/hvgF3ec/cepfY6+SQVEQgqq7Xet5082H/g4MFDh4/g6LHj9RMnTwGnpeeMUlNAv8MxYSnSxtn5c+cvaHbxkmaXgTXSuKKuzgIuxuSaaJG/ru1uAJLdVOoW37S7MWG372iru9gifffUfWD43Lkxd2PCHtiTPMQj6dukrgIwf+7sdmdjwh5riyfmaNhTvpvL2nhGkXou2r3Q3YC10uC7eQm80uysszFhr3WnC8CaMAi39a52kSQmOrx5q9tdBmQzyIwfhJ1zNibsdkeSV9iyQpB30fa1OSb247mLRysE2eFyTDjJ+/aj2WkJwihaVcHsjf3wUak92z5J9rkjyLOz9bqeq58YczAm7I0OfVG+e59386Cpr3y+nZ65GRPxTQe+Kx9HMROvfviD1mnf+M9izaq5caQLw999qOpTsIZHJ1YW3MuMvt/9AUPLzCANymH0Tpg50TIz8/6ydTudmhNXv5Za1lY/14EnfU6/fbqdbCZpsCLFgBgP30sq4v8zk94qkT6xRz9V87TjDAgtN/Ef+NJ1qTw62wcPigwVRYVhqkL26rNCBw/ao2+Ju1J5dDgjo9xjjMaFZIIYipJzVgDeOrqn8cj9oieNx2F5r3uHeVwlmlCtqmFySkBueumlt3pEmbvSeDiS6ZlrDUIUiAqzpGO2KOJ4K7WHS3N989Ji4eoiEflCMk56LooY7j+W0sPLU4WhxTn+Nw8TYCLG475Ufao8GMGSClXEsqjJXSk9HJcOslLJMuxBqyKOnpseNSnPjVqPfqnRHxAmEAm4/6XEKo3tlf1CVays+KtUZm19jQAiET1Ja1TxeIz0bGxube9sbpiLcN5KtCht0uNV0rMbRe++934UfWAuwrk/wVjbJD3CU6Tlwyj66L333oui6MMU+5cT69GlAkTPx2WFT977JIqiXdLQn4kI27hPE+DTaJ9PtSmvxpUEQok2TI7iRT6jGksy7BuI4BfdS4SQpVF8Tgpd+F6h4SWxz1IKkWbpUThFkA8jxRdfkg4lUAyUkuQrc5EWR5KnGnygRL4mQFCpjl9WEorVcVORxg6WqIj1b8oa335HmFl/vHhFJvG+iG8q0sobBPP9d9//QAjNeBJoa2PaIAaAs3iCVs1EOnmDZCjiG4o0HuIJkp1IMTAUuZUdddmw1xrLZCbS5UhyecqOK+pOiETwzpV4jz1NGTEhPeDghqNdIV0mM2qR4kU8HeDCcEKX6mZ23A94kaqAhakinKTsCIpABBaGc+kUZcZyMpEWR0uYpwxAoxuMMg1eFiZ8TuHozxgLJpprnYMJM+gT8GgBDn9EiTJj+KAJ7FTAZMaHIBY55GAyPgZ9oRjXiBx2YjDv16en4x5yqCgEXhDAY2SIi+upon5Frg1eEIBHZpTYKoIp9qLMfM0LRJa1ORU6ZeJmNpn5IEN+/CmKfna0TFNyJj12EUAzm1/JfLB3f4nK/FpnlJwqORVcAvjsAwV9uv8WSX6qbwO7BadCgRArUuQrqiHyYyT5vR6RydBRuIQoqsJIQGn+kCJ/phY5pVZDEtaM1n5SgGb96+9//uAeHLb4udxkXpNgj3mJdlk/8yCzPOMip3Ke6oFXS7nJyVOqItOXvKSbbK8uChxoEOIaHO/V0CiI/VXiIjjRsEj3Yw4g3gOgu3rHwDTaWg9l5EGaZ9UYCtc0bpQTbkvz/4GN51Jy4u8SgI7mRr7vu5qbq7/xsW4yAL1ommgoGh1GWEIaAPDGm1gDrGWBTMEXLMihw/gpI/1siz/AwxqQjjoGOfSOB2gFGuyVSXEqvQinTa/RgiWqQ2g6AxFg0tYJDTS5XKhLBJt0yPSKpSl9u9b4oaz1DiX8D/PG9PeOWj+1+ZBajK7/QXCUeKfMRSA3trS0gM6IjxLXTCRjWD1DqyI8SvI2RXiUPGZThEeJd8qmCI8S16YIj5LQjohmwsvbFOFRUrIpwqPEsyrCo8S1KcKj5FULIvrbYrdNER4lJZsiPEo8OyKaKHFtivAouWRThEeJ021ThEdJzqYIj5KCHRFNlDxtU4RHySWbIo0Oo9uKiCZKcjZFeJQU7IhoouTphCL/Alq7hNcCRv2nAAAAAElFTkSuQmCC" alt="Pro" width="18"></span>
et
<a href="https://vue-exercises.ninja-squad.com/exercises/19/remember-me">Remember me</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>&#160;!
Tu apprendras comment utiliser l&#8217;API Composition pour gérer l&#8217;utilisateur courant dans Ponyracer.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_les_librairies_flux_like">24.2. Les librairies <em>flux-like</em></h3>
<div class="paragraph">
<p>Le pattern <em>store</em> est notre façon préférée de gérer l&#8217;état dans une application.
Mais ce n&#8217;est pas la seule.</p>
</div>
<div class="paragraph">
<p>Certains développeurs lui préfèrent le pattern <em>flux</em>,
qui est fortement inspiré du <a href="https://guide.elm-lang.org/architecture/">framework Elm</a>,
et qui a été popularisé par l&#8217;écosystème React.
La librairie la plus connue dans la communauté React est <a href="https://redux.js.org/">Redux</a>.
Tu en as sans doute déjà entendu parler.</p>
</div>
<div class="paragraph">
<p>Le pattern flux
et les bibliothèques comme Redux encouragent les développeurs à ne pas mettre à jour
un <em>store</em> directement,
mais plutôt à le faire en <em>dispatchant</em> des actions.
Ces actions sont ensuite prises en charge par des <em>reducers</em>,
qui ont la responsabilité de modifier le <em>store</em>.
Ça te paraît confus&#160;?
Ça l&#8217;est au premier regard, et ces couches et indirections peuvent en effet
mener à des applications sur-architecturées.</p>
</div>
<div class="paragraph">
<p>En fait, l&#8217;auteur de Redux lui-même, Dan Abramov, a écrit un article de blog devenu célèbre
<a href="https://medium.com/@dan_abramov/you-might-not-need-redux-be46360cf367">You might not need Redux</a>,
parce qu&#8217;il s&#8217;est rendu compte que tout le monde se mettait à utiliser
Redux dans les applications React,
quelle que soit la pertinence et le coût de ce choix.
L&#8217;écosystème Angular souffre parfois du même syndrome&#160;:
<a href="https://ngrx.io/">NgRx</a> est assez populaire,
mais est bien souvent inutile, parce qu&#8217;il est parfaitement possible
d&#8217;utiliser un pattern similaire au <em>store</em>.</p>
</div>
<div class="paragraph">
<p>Tu vois sans doute où je veux en venir&#160;: je ne suis pas sûr que tu aies besoin
d&#8217;autre chose que de Vue pour gérer l&#8217;état de ton application.
C&#8217;est sans doute plus sage de démarrer sans utiliser de librairie tierce
et de voir comment ça se passe. Normalement, ça devrait rouler.</p>
</div>
<div class="paragraph">
<p>Mais je peux aussi comprendre que tu sois curieux et que tu aies
envie d&#8217;en savoir un peu plus sur les bibliothèques de gestion d&#8217;état
de l&#8217;écosystème Vue.
Bon, allons-y&#160;!</p>
</div>
</div>
<div class="sect2">
<h3 id="_vuex">24.3. Vuex</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
La bibliothèque de gestion d&#8217;état la plus populaire en Vue&#160;2 est <a href="https://vuex.vuejs.org/">Vuex</a>.
Vuex v4 fonctionne avec Vue&#160;3, mais n&#8217;est pas idéale, car elle n&#8217;est pas type-safe,
et n&#8217;est pas super bien intégrée avec l&#8217;API de Composition.
En Vue&#160;3, la recommandation est maintenant d&#8217;utiliser Pinia,
qui est pratiquement Vuex v5, mais avec un nom différent et un logo mignon.
Sens-toi libre de sauter cette section et de lire directement le passage consacré à Pinia ci-dessous&#160;!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Avec Vuex, on commence par définir un <em>store</em> avec <code>createStore</code>.
En général, on utilise un seul <em>store</em> pour toute l&#8217;application.</p>
</div>
<div class="paragraph">
<p>Le <em>store</em> a un état initial, auquel on peut apporter des mutations successives.
Les mutations sont des modifications, synchrones, de l&#8217;état du <em>store</em>.</p>
</div>
<div class="listingblock">
<div class="title">store.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export interface State {
  userModel: UserModel | null;
}

const store = createStore&lt;State&gt;({
  state: () =&gt;
    reactive({
      userModel: null
    }),
  mutations: {
    logout: state =&gt; (state.userModel = null)
  }
});
export default store;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le <em>store</em> est un plugin Vue, qui doit être installé dans l&#8217;application
(comme nous l&#8217;avons fait pour le routeur).
Ensuite, on peut accéder au <em>store</em> avec <code>useStore()</code>.
Mais si on procède ainsi, TypeScript ne connaît pas le type
du <em>store</em>.
Pour avoir un <em>store</em> typé correctement, la manière recommandée de procéder
est d&#8217;utiliser une clé d&#8217;injection
(nous venons d&#8217;en parler d&#8217;en le chapitre précédent si tu te rappelles bien)&#160;:</p>
</div>
<div class="listingblock">
<div class="title">store.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const storeKey: InjectionKey&lt;Store&lt;State&gt;&gt; = Symbol();</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut maintenant l&#8217;enregistrer&#160;:</p>
</div>
<div class="listingblock">
<div class="title">main.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">createApp(App)
  .use(store, storeKey)
  .use(routerPlugin)
  .mount('#app');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dans un composant, on accède au <em>store</em> avec <code>useStore(storeKey)</code>,
et il sera ainsi correctement typé&#160;!</p>
</div>
<div class="paragraph">
<p>Pour éviter de répéter ce code dans tous les composants,
on peut aussi définir une fonction qui retourne le <em>store</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">store.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export function useAppStore() {
  return useStore(storeKey);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et utiliser ensuite cette fonction pour accéder au <em>store</em> et à son état&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Home.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const store = useAppStore();
const { userModel } = toRefs(store.state);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quand on doit modifier l&#8217;état du <em>store</em>,
on utilise une <em>mutation</em>, pour déclencher une modification synchrone,
avec <code>store.commit()</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Navbar.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const store = useAppStore();
function logout() {
  store.commit('logout');
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le nom de la mutation n&#8217;est malheureusement pas <em>type-safe</em> dans Vuex v4.
Certaines équipes pallient ce problème en déclarant les noms des mutations
dans une <code>enum</code>, et en utilisant cette <code>enum</code> partout.</p>
</div>
<div class="paragraph">
<p>Les modifications asynchrones sont quant à elles gérées
via des <code>actions</code> dans le <em>store</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">store.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export interface State {
  userModel: UserModel | null;
}

const store = createStore&lt;State&gt;({
  state: () =&gt;
    reactive({
      userModel: null
    }),
  actions: {
    login: async ({ commit }, credentials) =&gt; {
      // call the backend with the credentials
      // ...
      commit('login', response.data);
    }
  },
  mutations: {
    login: (state, user) =&gt; (state.userModel = user),
    logout: state =&gt; (state.userModel = null)
  }
});
export default store;</code></pre>
</div>
</div>
<div class="paragraph">
<p>En règle générale, une action fait un appel asynchrone
et finit par exécuter une mutation (avec <code>commit()</code>) pour mettre à jour l&#8217;état du <em>store</em>.</p>
</div>
<div class="paragraph">
<p>Au fur et à mesure que l&#8217;application s&#8217;étoffe,
l&#8217;état devient de plus en plus volumineux.
Vuex a heureusement une notion de "module", qui permet de découper
le <em>store</em> en plus petites parties, qui ont chacune leur
état, leurs mutations et leurs actions.</p>
</div>
<div class="paragraph">
<p>Même avec les modules, l&#8217;un des inconvénients évidents de Vuex
est le <em>boilerplate</em> et les indirections nécessaires pour faire quoi que ce soit.
Un autre inconvénient est l&#8217;intégration perfectible avec
TypeScript et l&#8217;API de composition.</p>
</div>
<div class="paragraph">
<p>L&#8217;avantage que son utilisation peut apporter est la structuration
du code et la centralisation de l&#8217;état, ainsi que les aides au débogage
permises par la bibliothèque.
<a href="https://github.com/vuejs/devtools">Vue devtools</a>
peut par exemple montrer l&#8217;état courant du <em>store</em>
et permet même de "voyager dans le temps" en montrant ou rétablissant
les états antérieurs.
Vuex a aussi un support pour des plugins.
Un plugin <code>createLogger</code> est par exemple disponible,
qui permet de tracer dans la console toutes les modifications
d&#8217;état. Ça peut se révéler pratique pendant le développement.
Bien sûr, tu peux aussi construire tes propres plugins.</p>
</div>
</div>
<div class="sect2">
<h3 id="_pinia">24.4. Pinia</h3>
<div class="paragraph">
<p>L&#8217;auteur du routeur de Vue, <a href="https://github.com/posva">@posva</a>,
a créé une alternative à Vuex,
avec une élégante API de composition.
La bibliothèque s&#8217;appelle <a href="https://github.com/vuejs/pinia">Pinia</a>,
et elle a probablement le logo le plus mignon de l&#8217;écosystème.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<a class="image" href="https://github.com/posva/pinia"><img src="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjQ3NyIgdmlld0JveD0iMCAwIDMxOSA0NzciIHdpZHRoPSIzMTkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxsaW5lYXJHcmFkaWVudCBpZD0iYSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjNTJjZTYzIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjNTFhMjU2Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImIiIHgxPSI1NS4zNDIwNzUlIiB4Mj0iNDIuODE2OTMzJSIgeGxpbms6aHJlZj0iI2EiIHkxPSIwJSIgeTI9IjQyLjg2Mjg1NSUiLz48bGluZWFyR3JhZGllbnQgaWQ9ImMiIHgxPSI1NS4zNDg2NDIlIiB4Mj0iNDIuODA4MTAzJSIgeGxpbms6aHJlZj0iI2EiIHkxPSIwJSIgeTI9IjQyLjg2Mjg1NSUiLz48bGluZWFyR3JhZGllbnQgaWQ9ImQiIHgxPSI1MCUiIHgyPSI1MCUiIHkxPSIwJSIgeTI9IjU4LjgxMTI0MyUiPjxzdG9wIG9mZnNldD0iMCIgc3RvcC1jb2xvcj0iIzhhZTk5YyIvPjxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzUyY2U2MyIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJlIiB4MT0iNTEuMzc3NjMlIiB4Mj0iNDQuNTg0NzE5JSIgeTE9IjE3LjQ3MjU1MSUiIHkyPSIxMDAlIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmU1NmMiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmZmM2M2EiLz48L2xpbmVhckdyYWRpZW50PjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0IC0yNCkiPjxnIHRyYW5zZm9ybT0ibWF0cml4KC45OTI1NDYxNSAuMTIxODY5MzQgLS4xMjE4NjkzNCAuOTkyNTQ2MTUgMzMuOTIyMDczIC45NzY2OTEpIj48cGF0aCBkPSJtMTAzLjk1MDUzNSAyNTguMjc0MTQ5YzQ0LjM2MTU5OS00LjM2MDgyNSA2MC4wMTQ1MDMtNDAuMzkxMjgyIDY1LjM1MzA5NC05NC42OTk0NDRzLTMwLjkzMjE5LTEwMy40NTEwMDEtNDYuMDIwMzQ3LTEwMS45Njc4MDc5Yy0xNS4wODgxNTYgMS40ODMxOTMyLTYzLjAzODUzMTMgNTguOTA1MTIzOS02OC4zNzcxMjIyIDExMy4yMTMyODY5LTUuMzM4NTkwOCA1NC4zMDgxNjIgNC42ODI3NzU0IDg3LjgxNDc5MSA0OS4wNDQzNzUyIDgzLjQ1Mzk2NXoiIGZpbGw9InVybCgjYikiIHRyYW5zZm9ybT0ibWF0cml4KC43MDcxMDY3OCAtLjcwNzEwNjc4IC43MDcxMDY3OCAuNzA3MTA2NzggLTgwLjQ5NjMzMiAxMjUuODkyOTQ0KSIvPjxwYXRoIGQ9Im0yNzUuODc2NzUyIDI1OC4yNzM5OTJjNDQuMzYxNiA0LjM2MDgyNiA1My4xNjcxMzMtMjkuMjY1MzIyIDQ3LjgyODU0Mi04My41NzM0ODUtNS4zMzg1OTEtNTQuMzA4MTYyLTUyLjA3MzEzMy0xMTEuNjEwNTc0NC02Ny4xNjEyOS0xMTMuMDkzNzY3NS0xNS4wODgxNTYtMS40ODMxOTMxLTUyLjU3NDc3IDQ3LjU0MDEyNzUtNDcuMjM2MTc5IDEwMS44NDgyODk1czIyLjIwNzMyOCA5MC40NTgxMzcgNjYuNTY4OTI3IDk0LjgxODk2M3oiIGZpbGw9InVybCgjYykiIHRyYW5zZm9ybT0ibWF0cml4KC43MDcxMDY3OCAuNzA3MTA2NzggLS43MDcxMDY3OCAuNzA3MTA2NzggMTkxLjQwMzM5OSAtMTQxLjg2MTk2MykiLz48cGF0aCBkPSJtMTg4LjM3MDAyNyAyMTYuODc2MzA1YzM5Ljk0MTgzNCAwIDUwLjk1MjY1LTM4LjI1MTk4NyA1MC45NTI2NS05Ny44OTg3NCAwLTU5LjY0Njc1MzItMzcuMzY3NzMzLTExOC4xMDEyNTk1Ni01MC45NTI2NS0xMTguMTAxMjU5NTZzLTUyLjA0NzM1IDU4LjQ1NDUwNjM2LTUyLjA0NzM1IDExOC4xMDEyNTk1NmMwIDU5LjY0Njc1MyAxMi4xMDU1MTYgOTcuODk4NzQgNTIuMDQ3MzUgOTcuODk4NzR6IiBmaWxsPSJ1cmwoI2QpIi8+PC9nPjxwYXRoIGQ9Im0xODQuNDczNDczIDUwMWM4My4xMTg4NTQgMCAxNTAuNTI2NTI3LTI0LjE0NTE0OCAxNTAuNTI2NTI3LTEzMy42NDUxNDhzLTY3LjQwNzY3My0xOTkuMzU0ODUyLTE1MC41MjY1MjctMTk5LjM1NDg1MmMtODMuMTE4ODU1IDAtMTUwLjQ3MzQ3MyA4OS44NTQ4NTItMTUwLjQ3MzQ3MyAxOTkuMzU0ODUyczY3LjM1NDYxOCAxMzMuNjQ1MTQ4IDE1MC40NzM0NzMgMTMzLjY0NTE0OHoiIGZpbGw9InVybCgjZSkiLz48ZWxsaXBzZSBjeD0iMjYwLjUiIGN5PSIzMzUiIGZpbGw9IiNlYWFkY2MiIHJ4PSIyMS41IiByeT0iMTAiLz48ZWxsaXBzZSBjeD0iMTAyLjUiIGN5PSIzMjkiIGZpbGw9IiNlYWFkY2MiIHJ4PSIyMS41IiByeT0iMTAiIHRyYW5zZm9ybT0ibWF0cml4KC45OTI1NDYxNSAuMTIxODY5MzQgLS4xMjE4NjkzNCAuOTkyNTQ2MTUgNDAuODU5MDMzIC0xMC4wMzkyOTIpIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoLS45OTkzOTA4MyAuMDM0ODk5NSAuMDM0ODk5NSAuOTk5MzkwODMgMjY5LjI4NDgyNSAyNzEuMDI3NjY3KSI+PHBhdGggZD0ibTczLjEwNDY5ODUgNTguMjcyODc5NGM2LjczNzI0MTYgNC45MTMwMzMzIDE0LjMxMzI2MzIgNi42NjQwNTg3IDIyLjcyODA2NDkgNS4yNTMwNzYxIDguNDE0ODAxNi0xLjQxMDk4MjUgMTQuNTA1NDQ2Ni01LjI1MzU3NjkgMTguMjcxOTM0Ni0xMS41Mjc3ODMiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2Utd2lkdGg9IjYiIHRyYW5zZm9ybT0ibWF0cml4KC45OTk4NDc3IC4wMTc0NTI0MSAtLjAxNzQ1MjQxIC45OTk4NDc3IDEuMDI2NDY0IC0xLjYyNDc5NCkiLz48cGF0aCBkPSJtMTU0LjUwMTEyNCAzYy01LjkzNzU0NSAwLTExLjMxMjc4MiAyLjQwNjI5ODA1LTE1LjIwMzY0NCA2LjI5NjgwNjIxLTMuODkwOTQgMy44OTA1ODUyOS02LjI5NzQ4IDkuMjY1NDU0NDktNi4yOTc0OCAxNS4yMDI2MzE3OSAwIDUuOTM3Njg4OCAyLjQwNjQ4OCAxMS4zMTI3NDIyIDYuMjk3MjkxIDE1LjIwMzQyNzIgMy44OTA4ODYgMy44OTA3NjczIDkuMjY2MTk3IDYuMjk3MTM0OCAxNS4yMDM4MzMgNi4yOTcxMzQ4IDUuOTM3MTA5IDAgMTEuMzExODk2LTIuNDA2Mzg4OSAxNS4yMDIzODctNi4yOTcyMzQ4IDMuODkwMjk5LTMuODkwNjUzNSA2LjI5NjQ4OS05LjI2NTY2MzYgNi4yOTY0ODktMTUuMjAzMzI3MiAwLTUuOTM3MTUyMS0yLjQwNjI0Mi0xMS4zMTE5NzgxLTYuMjk2Njc3LTE1LjIwMjUzMTgxLTMuODkwNDY5LTMuODkwNTg2NzQtOS4yNjUxODEtNi4yOTY5MDYxOS0xNS4yMDIxOTktNi4yOTY5MDYxOXoiIGZpbGw9IiMwMDAiIC8+PHBhdGggZD0ibTE1NCAyMWMwLTMuODY1NTQ5IDMuMTM1MzYyLTcgNi45OTk0MTMtNyAzLjg2NjM5OSAwIDcuMDAwNTg3IDMuMTM0NDUxIDcuMDAwNTg3IDdzLTMuMTM0MTg4IDctNy4wMDA1ODcgN2MtMy44NjQwNTEtLjAwMTE3MzUtNi45OTk0MTMtMy4xMzQ0NTEtNi45OTk0MTMtN3oiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJtMjQuNSAxM2MtNS45Mzc1MjkyIDAtMTEuMzEyNDI2IDIuNDA2MjY4LTE1LjIwMjk5NDI3IDYuMjk2NzE4MS0zLjg5MDY5NDY0IDMuODkwNTc2NS02LjI5NzAwNTczIDkuMjY1NDc2NS02LjI5NzAwNTczIDE1LjIwMjcxOTkgMCA1LjkzNzc1NDkgMi40MDYyNTk2MiAxMS4zMTI4MzkxIDYuMjk2ODE3NjYgMTUuMjAzNTE1MyAzLjg5MDU5MTA0IDMuODkwNzA5MiA5LjI2NTU2MTg0IDYuMjk3MDQ2NyAxNS4yMDMxODIzNCA2LjI5NzA0NjcgNS45MzcxMjQ5IDAgMTEuMzEyMjUxNC0yLjQwNjQxOSAxNS4yMDMwMzcxLTYuMjk3MzIyOSAzLjg5MDU0NDEtMy44OTA2NjIzIDYuMjk2OTYyOS05LjI2NTY0MTYgNi4yOTY5NjI5LTE1LjIwMzIzOTEgMC01LjkzNzA4Ni0yLjQwNjQ3MDMtMTEuMzExODgxMS02LjI5NzE1MS0xNS4yMDI0NDM3LTMuODkwNzYzLTMuODkwNjQ0OC05LjI2NTgxNTQtNi4yOTY5OTQzLTE1LjIwMjg0OS02LjI5Njk5NDN6IiBmaWxsPSIjMDAwIiAvPjxnIGZpbGw9IiNmZmYiPjxwYXRoIGQ9Im0xMzYgMjQuNDk5NDM4YzAgMTAuMjE4NTIzMiA4LjI4MjkxMSAxOC41MDA1NjIgMTguNTAxMTI0IDE4LjUwMDU2MiAxMC4yMTcwODkgMCAxOC40OTg4NzYtOC4yODIwMzg4IDE4LjQ5ODg3Ni0xOC41MDA1NjIgMC0xMC4yMTczOTkyLTguMjgxNzg3LTE4LjQ5OTQzOC0xOC40OTg4NzYtMTguNDk5NDM4LTEwLjIxODIxMyAwLTE4LjUwMTEyNCA4LjI4MjAzODgtMTguNTAxMTI0IDE4LjQ5OTQzOHptLTYgMGMwLTEzLjUzMTE5NTQgMTAuOTY5MjktMjQuNDk5NDM4IDI0LjUwMTEyNC0yNC40OTk0MzggMTMuNTMwODM4IDAgMjQuNDk4ODc2IDEwLjk2ODM3MTEgMjQuNDk4ODc2IDI0LjQ5OTQzOCAwIDEzLjUzMTk2MDctMTAuOTY3ODA4IDI0LjUwMDU2Mi0yNC40OTg4NzYgMjQuNTAwNTYyLTEzLjUzMjA2NCAwLTI0LjUwMTEyNC0xMC45Njg0NzI4LTI0LjUwMTEyNC0yNC41MDA1NjJ6IiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIzIi8+PHBhdGggZD0ibTYgMzQuNDk5NDM4YzAgMTAuMjE4NTIzMiA4LjI4MTc4NzMgMTguNTAwNTYyIDE4LjUgMTguNTAwNTYyIDEwLjIxNzA4ODkgMCAxOC41LTguMjgyMDM4OCAxOC41LTE4LjUwMDU2MiAwLTEwLjIxNzM5OTItOC4yODI5MTExLTE4LjQ5OTQzOC0xOC41LTE4LjQ5OTQzOC0xMC4yMTgyMTI3IDAtMTguNSA4LjI4MjAzODgtMTguNSAxOC40OTk0Mzh6bS02IDBjMC0xMy41MzEyOTcgMTAuOTY4MjY4MS0yNC40OTk0MzggMjQuNS0yNC40OTk0MzggMTMuNTMwOTM5OCAwIDI0LjUgMTAuOTY4NDcyOCAyNC41IDI0LjQ5OTQzOCAwIDEzLjUzMTg1OTEtMTAuOTY4ODMgMjQuNTAwNTYyLTI0LjUgMjQuNTAwNTYyLTEzLjUzMTk2MiAwLTI0LjUtMTAuOTY4MzcxMS0yNC41LTI0LjUwMDU2MnoiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjMiLz48cGF0aCBkPSJtMjQgMzFjMC0zLjg2NTU0OSAzLjEzNDQ1MS03IDctN3M3IDMuMTM0NDUxIDcgNy0zLjEzNDQ1MSA3LTcgNy03LTMuMTM0NDUxLTctN3oiLz48L2c+PC9nPjxnIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxMSI+PGcgc3Ryb2tlPSIjZWNiNzMyIj48cGF0aCBkPSJtNzAuNSAzNzcuNSA3NCA3NyIvPjxwYXRoIGQ9Im0xMzQuNSAzODYuNS00NyA1MCIvPjwvZz48ZyBzdHJva2U9IiNlY2I3MzIiIHRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAxIDI5OCAzNzcpIj48cGF0aCBkPSJtLjUuNSA3NCA3NyIvPjxwYXRoIGQ9Im02NC41IDkuNS00NyA1MCIvPjwvZz48ZyBzdHJva2U9IiNmZmM3M2IiIHRyYW5zZm9ybT0ibWF0cml4KDAgMSAtMSAwIDIxNSAyMDcpIj48cGF0aCBkPSJtLjUuNSA0OSA0OSIvPjxwYXRoIGQ9Im0uNSAxMC41IDQ5IDQ5IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSA1MCAwKSIvPjwvZz48L2c+PC9nPjwvc3ZnPgo=" alt="Pinia logo" width="200"></a>
</div>
</div>
<div class="paragraph">
<p>Le projet a démarré comme une expérience pour Vuex v5,
mais s&#8217;est avéré tellement bien (et avec un nom et logo memorable)
qu&#8217;il est devenu la recommandation officielle
en matière de gestion d&#8217;état pour Vue.</p>
</div>
<div class="paragraph">
<p>Comme tu peux l&#8217;imaginer, la philosophie est très similaire à Vuex.
Tu définis un <em>store</em> (ou plusieurs) avec <code>defineStore</code>.
Un store a un état et des actions.
Il peut également avoir des getters.
Mais il n&#8217;y a pas de mutations comme dans Vuex&#160;: il y a simplement des actions.
C&#8217;est une chose que j&#8217;apprécie avec Pinia&#160;:
les mutations tendent à demander du code verbeux et pas toujours nécessaire.
L&#8217;autre grand point fort est que Pinia est complétement type-safe,
et a une super API de composition.
En effet, tu peux écrire ton store avec une fonction,
pratiquement comme tu le fais pour tes composants
(l&#8217;alternative étant d&#8217;utiliser un objet avec des propriétés <code>state</code>, <code>getters</code> et <code>actions</code>,
mais je préfère la version fonctionnelle).</p>
</div>
<div class="paragraph">
<p>Si l&#8217;on prend le même exemple,
voici à quoi ressemble le store&#160;:</p>
</div>
<div class="listingblock">
<div class="title">store.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export const useAppStore = defineStore('user', () =&gt; {
  const userModel = ref&lt;UserModel | null&gt;(null);

  async function login(credentials: { name: string; password: string }) {
    // call the backend with the credentials
    // ...
    userModel.value = response.data;
  }

  function logout() {
    userModel.value = null;
  }

  return { userModel, login, logout };
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut ensuite dire à notre application d&#8217;utiliser Pinia&#160;:</p>
</div>
<div class="listingblock">
<div class="title">main.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">createApp(App)
  .use(createPinia())
  .use(routerPlugin)
  .mount('#app');</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et nous pouvons alors utiliser le store dans nos composants
(note que pour garder la réactivité, tu dois utiliser <code>storeToRefs()</code> quand tu déstructures le store)&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Home.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { storeToRefs } from 'pinia';

const store = useAppStore();
const { userModel } = storeToRefs(store);</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>storeToRefs()</code> est très similaire à <code>toRefs()</code> (que tu peux d&#8217;ailleurs aussi utiliser),
mais ne renvoie que les propriétés réactives (et pas les méthodes du store).</p>
</div>
<div class="paragraph">
<p>Quand on veut modifier l&#8217;état,
on n&#8217;a pas besoin d&#8217;une mutation,
on peut directement modifier l&#8217;état
(sans avoir à s&#8217;embêter avec <code>.value</code>
car le store lui-même est enveloppé avec <code>reactive</code>)&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Navbar.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const store = useAppStore();
function logoutDirectModification() {
  store.userModel = null;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>ou on peut appeler une fonction exposée par le store&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Navbar.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const store = useAppStore();
function logout() {
  store.logout();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Même s&#8217;il n&#8217;y a pas de mutation, Pinia capture quand même la modification,
et l&#8217;affiche dans les Devtools.
Pinia vient avec un plugin automatiquement installé pour les Devtools,
qui permet de voir quel est l&#8217;état,
d&#8217;inspecter sur une frise comment il a été modifié,
et bien sûr de modifier l&#8217;état manuellement.
On peut également s&#8217;abonner aux changements d&#8217;état avec <code>$subscribe()</code>.
Pinia annule automatiquement l&#8217;abonnement dès que le composant est détruit.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tester_pinia">24.5. Tester Pinia</h3>
<div class="paragraph">
<p>Pinia vient avec un tout petit package appelé <code>@pinia/testing</code>
qui nous simplifie la vie en matière de tests.
Ce package nous donne une fonction <code>createPiniaTesting()</code>
qui fait le gros du travail.
Par défaut, elle <em>stub</em> toutes les actions,
ce qui rend les composants qui les utilisent très simples à tester&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Navbar.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { createTestingPinia } from '@pinia/testing';

describe('NavbarWithPinia.vue', () =&gt; {
  test('should logout the user', async () =&gt; {
    // mount the component
    const wrapper = mount(NavbarWithPinia, {
      global: {
        // with a "fake" pinia
        plugins: [
          createTestingPinia({
            createSpy: vi.fn
          })
        ]
      }
    });
    // you can get the store, and change its state
    const store = useAppStore();
    const logout = wrapper.get('#logout');
    await logout.trigger('click');
    // actions are already spied,
    // so you just have to check if they are properly called
    expect(store.logout).toHaveBeenCalled();
  });
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dans le cas où tu ne veux <em>pas</em> remplacer les actions par des fausses,
tu peux utiliser l&#8217;option <code>stubActions: false</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">App.spec.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">describe('AppWithPinia', () =&gt; {
  test('should display the user', async () =&gt; {
    const wrapper = mount(AppWithPinia, {
      global: {
        plugins: [
          createTestingPinia({
            createSpy: vi.fn,
            stubActions: false
          })
        ]
      }
    });
    const store = useAppStore();
    store.userModel = { id: 1, name: 'Cedric' };
    await nextTick();

    // the user is logged in
    expect(wrapper.text()).toContain('Hello Cedric');

    await wrapper.get('#logout').trigger('click');
    // the action really logged out the user
    expect(wrapper.text()).toContain('Welcome, anonymous comrade!');
  });
});</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pourquoi_utiliser_un_store">24.6. Pourquoi utiliser un store&#160;?</h3>
<div class="paragraph">
<p>Comme expliqué ci-dessus, l&#8217;API de Composition est généralement suffisante.</p>
</div>
<div class="paragraph">
<p>Un store comme Pinia peut cependant être nécessaire dans un scénario&#160;:
le <em>server-side rendering</em> (SSR).
Si l&#8217;application est rendue sur le serveur,
(par exemple si tu utilises <a href="https://v3.nuxtjs.org/">Nuxt</a>),
alors tu devras faire attention à la manière dont tu gères l&#8217;état global
afin de ne pas faire fuiter des informations d&#8217;un utilisateur à un autre par inadvertance.
Comme les stores conçus manuellement sont généralement des singletons,
cela peut entraîner un problème bien connu appelé "<em>cross-request state pollution</em>"
(pollution de l&#8217;état inter-requête).
Pinia peut t&#8217;aider à gérer ça&#160;: il y a même <a href="https://pinia.vuejs.org/ssr/nuxt.html">une intégration avec Nuxt</a>.</p>
</div>
<div class="paragraph">
<p>En dehors de ce cas-là, un store comme Pinia peut être intéressant pour&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>le debugging, en utilisant les Devtools</p>
</li>
<li>
<p>les tests, avec le package <code>@pinia/testing</code></p>
</li>
<li>
<p>le support du <em>Hot Module Replacement</em>, permettant de modifier les valeurs dans les stores quand on développe, et de voir le résultat sans recharger la page.</p>
</li>
<li>
<p>les <a href="https://www.npmjs.com/search?q=pinia">plugins existants</a> (ou construire les tiens)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Pour résumer ce chapitre, plusieurs options existent pour gérer l&#8217;état de l&#8217;application&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>utiliser simplement l&#8217;API de composition et le pattern <em>store</em>&#160;: c&#8217;est suffisant dans la majorité des cas;</p>
</li>
<li>
<p>ou utiliser Pinia (on évitera Vuex pour les applications Vue&#160;3).</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaie notre exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/20/pinia">State management avec Pinia</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco0APWP0jRywpmrWwBGIJnuEBsAKERityoCDQrOzZOvjIm5KSJ0ktsBJhS0zOzAAYocikRCis7N0++IhaknFwEsERGCVCe5Vn+SE7GpK2yuk6+EtZIKdcCWBd0d/2GjZu8JABKFLmcaMjGOIjeHHZTGluA4eC91XtuU2oG6C+4GhOWHCXarvWOMTKGt0hjZ/hvgF3ec/cepfY6+SQVEQgqq7Xet5082H/g4MFDh4/g6LHj9RMnTwGnpeeMUlNAv8MxYSnSxtn5c+cvaHbxkmaXgTXSuKKuzgIuxuSaaJG/ru1uAJLdVOoW37S7MWG372iru9gifffUfWD43Lkxd2PCHtiTPMQj6dukrgIwf+7sdmdjwh5riyfmaNhTvpvL2nhGkXou2r3Q3YC10uC7eQm80uysszFhr3WnC8CaMAi39a52kSQmOrx5q9tdBmQzyIwfhJ1zNibsdkeSV9iyQpB30fa1OSb247mLRysE2eFyTDjJ+/aj2WkJwihaVcHsjf3wUak92z5J9rkjyLOz9bqeq58YczAm7I0OfVG+e59386Cpr3y+nZ65GRPxTQe+Kx9HMROvfviD1mnf+M9izaq5caQLw999qOpTsIZHJ1YW3MuMvt/9AUPLzCANymH0Tpg50TIz8/6ydTudmhNXv5Za1lY/14EnfU6/fbqdbCZpsCLFgBgP30sq4v8zk94qkT6xRz9V87TjDAgtN/Ef+NJ1qTw62wcPigwVRYVhqkL26rNCBw/ao2+Ju1J5dDgjo9xjjMaFZIIYipJzVgDeOrqn8cj9oieNx2F5r3uHeVwlmlCtqmFySkBueumlt3pEmbvSeDiS6ZlrDUIUiAqzpGO2KOJ4K7WHS3N989Ji4eoiEflCMk56LooY7j+W0sPLU4WhxTn+Nw8TYCLG475Ufao8GMGSClXEsqjJXSk9HJcOslLJMuxBqyKOnpseNSnPjVqPfqnRHxAmEAm4/6XEKo3tlf1CVays+KtUZm19jQAiET1Ja1TxeIz0bGxube9sbpiLcN5KtCht0uNV0rMbRe++934UfWAuwrk/wVjbJD3CU6Tlwyj66L333oui6MMU+5cT69GlAkTPx2WFT977JIqiXdLQn4kI27hPE+DTaJ9PtSmvxpUEQok2TI7iRT6jGksy7BuI4BfdS4SQpVF8Tgpd+F6h4SWxz1IKkWbpUThFkA8jxRdfkg4lUAyUkuQrc5EWR5KnGnygRL4mQFCpjl9WEorVcVORxg6WqIj1b8oa335HmFl/vHhFJvG+iG8q0sobBPP9d9//QAjNeBJoa2PaIAaAs3iCVs1EOnmDZCjiG4o0HuIJkp1IMTAUuZUdddmw1xrLZCbS5UhyecqOK+pOiETwzpV4jz1NGTEhPeDghqNdIV0mM2qR4kU8HeDCcEKX6mZ23A94kaqAhakinKTsCIpABBaGc+kUZcZyMpEWR0uYpwxAoxuMMg1eFiZ8TuHozxgLJpprnYMJM+gT8GgBDn9EiTJj+KAJ7FTAZMaHIBY55GAyPgZ9oRjXiBx2YjDv16en4x5yqCgEXhDAY2SIi+upon5Frg1eEIBHZpTYKoIp9qLMfM0LRJa1ORU6ZeJmNpn5IEN+/CmKfna0TFNyJj12EUAzm1/JfLB3f4nK/FpnlJwqORVcAvjsAwV9uv8WSX6qbwO7BadCgRArUuQrqiHyYyT5vR6RydBRuIQoqsJIQGn+kCJ/phY5pVZDEtaM1n5SgGb96+9//uAeHLb4udxkXpNgj3mJdlk/8yCzPOMip3Ke6oFXS7nJyVOqItOXvKSbbK8uChxoEOIaHO/V0CiI/VXiIjjRsEj3Yw4g3gOgu3rHwDTaWg9l5EGaZ9UYCtc0bpQTbkvz/4GN51Jy4u8SgI7mRr7vu5qbq7/xsW4yAL1ommgoGh1GWEIaAPDGm1gDrGWBTMEXLMihw/gpI/1siz/AwxqQjjoGOfSOB2gFGuyVSXEqvQinTa/RgiWqQ2g6AxFg0tYJDTS5XKhLBJt0yPSKpSl9u9b4oaz1DiX8D/PG9PeOWj+1+ZBajK7/QXCUeKfMRSA3trS0gM6IjxLXTCRjWD1DqyI8SvI2RXiUPGZThEeJd8qmCI8S16YIj5LQjohmwsvbFOFRUrIpwqPEsyrCo8S1KcKj5FULIvrbYrdNER4lJZsiPEo8OyKaKHFtivAouWRThEeJ021ThEdJzqYIj5KCHRFNlDxtU4RHySWbIo0Oo9uKiCZKcjZFeJQU7IhoouTphCL/Alq7hNcCRv2nAAAAAElFTkSuQmCC" alt="Pro" width="18"></span>
où tu refactoreras notre gestion de l&#8217;état en utilisant Pinia.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="animations">25. Animations et effets de transition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Les animations donnent toujours une touche sympathique à une application.
Ce n&#8217;est pas la première chose que l&#8217;on fait, bien sûr,
mais cela peut réellement améliorer l&#8217;expérience utilisateur.</p>
</div>
<div class="paragraph">
<p>Vue répond présent pour nous aider à ajouter des animations
et des effets de transitions à notre application.
Voyons ça&#160;!</p>
</div>
<div class="sect2">
<h3 id="_animations_en_pur_css">25.1. Animations en pur CSS</h3>
<div class="paragraph">
<p>Avant de se plonger dans les effets de transitions,
commençons par les "simples" animations CSS.
On se retrouve souvent dans une situation
où l&#8217;on veut attirer l&#8217;attention de notre utilisateur
sur une partie de l&#8217;écran.
Les animations sont une très bonne façon de faire cela&#160;!</p>
</div>
<div class="paragraph">
<p>Nous allons notifier notre utilisateur/utilisatrice que le formulaire qu&#8217;il/elle
remplit est prêt à être envoyé,
par exemple avec un effet de secousse (<em>shake</em>) sur le bouton de soumission.</p>
</div>
<div class="paragraph">
<p>Le procédé pour ajouter une animation est assez simple.
On s&#8217;appuie sur la propriété CSS
<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/animation">animation</a>,
qui déclenche généralement une animation que l&#8217;on peut définir avec <code>@keyframes</code>.</p>
</div>
<div class="paragraph">
<p>Une animation de secousse pourrait ressembler à&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="css">.form-valid {
  animation: shake 300ms ease;
}

@keyframes shake {
  10%,
  50%,
  90% {
    transform: translateX(0.5rem);
  }
  30%,
  70% {
    transform: translateX(-0.5rem);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>@keyframes</code> peut paraître un peu compliqué au premier abord.
Ici, on batît une animation <code>shake</code>,
en définissant différentes étapes&#160;:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Au début de l&#8217;animation (0%), l&#8217;élément est à sa position initiale.</p>
</li>
<li>
<p>Ensuite (10%), on veut déplacer l&#8217;élément légèrement sur la droite en utilisant <code>translateX</code>.</p>
</li>
<li>
<p>Ensuite (30%), on veut le déplacer un peu sur la gauche
On notera qu&#8217;il n&#8217;est pas nécessaire de spécifier où est l&#8217;élément à 20%,
le navigateur le comprendra tout seul.</p>
</li>
<li>
<p>Ensuite (50%), on le déplace à droite.</p>
</li>
<li>
<p>Ensuite (70%), on le déplace à gauche.</p>
</li>
<li>
<p>Ensuite (90%), on le déplace à droite.</p>
</li>
<li>
<p>Enfin (100%), l&#8217;élément retourne dans sa position initiale.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Cette animation <code>shake</code> sera appliquée sur un élément qui a la classe CSS <code>form-valid</code>,
pendant 300ms, avec un effet de <em>easing</em> (lentement, puis rapidement, puis lentement).
Tu peux bien sûr choisir d&#8217;autres effets (<code>linear</code>, <code>ease-in</code>, <code>ease-out</code>, etc.).</p>
</div>
<div class="paragraph">
<p>Nous allons maintenant ajouter la class CSS <code>form-valid</code>
au bouton de soumission si le formulaire est valide,
et l&#8217;enlever s&#8217;il ne l&#8217;est pas&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">&lt;button :class="{ 'form-valid': valid }" :disabled="!valid"&gt;Save&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quand le formulaire devient valide,
le navigateur secoue le bouton pendant 300ms.</p>
</div>
<div class="paragraph">
<p>Voyons maintenant comment faire des effets de transitions.</p>
</div>
</div>
<div class="sect2">
<h3 id="_transitions_dentréesortie">25.2. Transitions d&#8217;entrée/sortie</h3>
<div class="paragraph">
<p>Les transitions CSS sont une autre manière d&#8217;animer des éléments.
Elles sont même plus simples que les animations.
Avec les transitions CSS,
on peut définir qu&#8217;un changement dans une ou plusieurs propriétés CSS
d&#8217;un élément doit se faire de façon progressive.</p>
</div>
<div class="paragraph">
<p>Par exemple, si l&#8217;on définit les règles CSS suivantes&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="css">.pill {
  transition: transform 300ms ease-out;
}

.pill.pill-selected {
  transform: scale(1.1);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>On indique que pour les éléments avec la classe <code>pill</code>,
chaque changement dans la valeur de la propriété <code>transform</code>
doit être faite de façon progressive, pendant 300ms.</p>
</div>
<div class="paragraph">
<p>Si on ajoute alors dynamiquement la classe <code>pill-selected</code>
à un élément avec la classe <code>.pill</code>,
celui-ci va devenir légèrement plus gros en 300ms.
Si l&#8217;on enlève la classe <code>pill-selected</code>,
il reviendra alors à sa taille normale en 300ms.</p>
</div>
<div class="paragraph">
<p>Cependant, le problème est que l&#8217;on veut souvent
appliquer un effet de transition quand un élément apparaît dans le DOM,
ou lorsqu&#8217;il disparaît.
Mais les directives <code>v-if</code> et <code>v-for</code> ne changent pas le style d&#8217;un élément&#160;:
elles ajoutent ou suppriment simplement les éléments du DOM.
Nous avons donc besoin de plus pour pouvoir, par exemple,
avoir un effet de fondu quand un élément apparaît et disparaît.</p>
</div>
<div class="paragraph">
<p>Vue nous permet d&#8217;animer <code>v-if</code> avec le composant <code>&lt;Transition&gt;</code>.
<code>Transition</code> attend un seul élément enfant (avec le <code>v-if</code>),
et applique automatiquement des classes CSS dessus
quand l&#8217;élément entre ou sort.</p>
</div>
<div class="paragraph">
<p>Les classes CSS suivantes sont appliquées quand l&#8217;élément entre dans le DOM&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>v-enter-from</code> juste avant que l&#8217;élément apparaisse, au tout début de la transition.</p>
</li>
<li>
<p><code>v-enter-active</code> pendant qu&#8217;il apparaît. C&#8217;est celle que l&#8217;on utilise pour définir l&#8217;animation de la transition.</p>
</li>
<li>
<p><code>v-enter-to</code> quand la transition est terminée, et que l&#8217;élement apparaît
(elle remplace alors <code>v-enter-from</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ensuite, quand l&#8217;élément est supprimé,
les classes CSS suivantes sont appliquées&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>v-leave-from</code> quand la transition commence</p>
</li>
<li>
<p><code>v-leave-active</code> pendant la transition</p>
</li>
<li>
<p>and <code>v-leave-to</code> quand la transition est terminée.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Il est aussi possible de nommer la transition (<code>fade</code> dans l&#8217;exemple suivant),
et les classes sont préfixées avec le nom donnée au lieu de <code>v-</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Transition name="fade"&gt;
  &lt;div v-if="display"&gt;Content&lt;/div&gt;
&lt;/Transition&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les classes vont donc être ici <code>fade-enter-from</code>, <code>fade-enter-active</code>, etc.
Définissons donc un effet de fondu en CSS en utilisant ces classes&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="css">.fade-enter-active,
.fade-leave-active {
  transition: opacity 1s;
}
.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La transition va durer une seconde,
et va progressivement changer l&#8217;opacité de 0 à 1
quand l&#8217;élément sera inséré dans le DOM,
et de 1 à 0 quand il va être supprimé.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMTQwJyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgMzcwIDE0MCcgd2lkdGg9JzM3MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMTQwJyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzM3MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00yNS4wIDM1LjAgTDE0NS4wIDM1LjAgTDE0NS4wIDYzLjAgTDI1LjAgNjMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J00yMTUuMCAzNS4wIEwzMzUuMCAzNS4wIEwzMzUuMCA2My4wIEwyMTUuMCA2My4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTI1LjAgMzUuMCBMMTQ1LjAgMzUuMCBMMTQ1LjAgNjMuMCBMMjUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMjE1LjAgMzUuMCBMMzM1LjAgMzUuMCBMMzM1LjAgNjMuMCBMMjE1LjAgNjMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTE5MC4wIDQyLjAgTDIwMC4wIDQ5LjAgTDE5MC4wIDU2LjAgeicgZmlsbD0nIzAwMDAwMCcgc3Ryb2tlPSdub25lJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTE2NS4wIDQ5LjAgTDE5NS4wIDQ5LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMzUuMCA5MS4wIEwzMjUuMCA5MS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNDYnIHk9JzU0Jz48IVtDREFUQVtPcGFjaXR5IDBdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMjM2JyB5PSc1NCc+PCFbQ0RBVEFbT3BhY2l0eSAxXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzMxJyB5PSc4Mic+PCFbQ0RBVEFbLmZhZGXigJBlbnRlcuKAkGZyb21dXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMjIyJyB5PSc4Mic+PCFbQ0RBVEFbLmZhZGXigJBlbnRlcuKAkHRvXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzEwNicgeT0nMTEwJz48IVtDREFUQVsuZmFkZeKAkGVudGVy4oCQYWN0aXZlXV0+PC90ZXh0PjwvZz48L3N2Zz4=" alt="anim enter classes" width="370" height="140">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0nVVRGLTgnPz48c3ZnIGhlaWdodD0nMTQwJyBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSd4TWlkWU1pZCBtZWV0JyBzaGFwZS1yZW5kZXJpbmc9J2dlb21ldHJpY1ByZWNpc2lvbicgdmVyc2lvbj0nMS4wJyB2aWV3Qm94PScwIDAgMzcwIDE0MCcgd2lkdGg9JzM3MCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48ZGVmcz48ZmlsdGVyIGhlaWdodD0nMjAwJScgaWQ9J3NoYWRvd0JsdXInIHdpZHRoPScyMDAlJyB4PScwJyB5PScwJz48ZmVPZmZzZXQgZHg9JzMuMDAwMzAwMicgZHk9JzMuMDAwMzAwMicgaW49J1NvdXJjZUdyYXBoaWMnIHJlc3VsdD0nb2ZmT3V0Jy8+PGZlR2F1c3NpYW5CbHVyIGluPSdvZmZPdXQnIHN0ZERldmlhdGlvbj0nMycvPjwvZmlsdGVyPjwvZGVmcz48ZyBzdHJva2UtbGluZWNhcD0nc3F1YXJlJyBzdHJva2UtbGluZWpvaW49J3JvdW5kJyBzdHJva2Utd2lkdGg9JzEnPjxyZWN0IGhlaWdodD0nMTQwJyBzdHlsZT0nZmlsbDogI2ZmZmZmZicgd2lkdGg9JzM3MCcgeD0nMCcgeT0nMCcvPjxwYXRoIGQ9J00yNS4wIDM1LjAgTDE0NS4wIDM1LjAgTDE0NS4wIDYzLjAgTDI1LjAgNjMuMCB6JyBmaWxsPScjOTY5Njk2JyBmaWx0ZXI9J3VybCgjc2hhZG93Qmx1ciknIHN0cm9rZT0nIzk2OTY5NicvPjxwYXRoIGQ9J00yMTUuMCAzNS4wIEwzMzUuMCAzNS4wIEwzMzUuMCA2My4wIEwyMTUuMCA2My4wIHonIGZpbGw9JyM5Njk2OTYnIGZpbHRlcj0ndXJsKCNzaGFkb3dCbHVyKScgc3Ryb2tlPScjOTY5Njk2Jy8+PHBhdGggZD0nTTI1LjAgMzUuMCBMMTQ1LjAgMzUuMCBMMTQ1LjAgNjMuMCBMMjUuMCA2My4wIHonIGZpbGw9J3doaXRlJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMjE1LjAgMzUuMCBMMzM1LjAgMzUuMCBMMzM1LjAgNjMuMCBMMjE1LjAgNjMuMCB6JyBmaWxsPSd3aGl0ZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTE5MC4wIDQyLjAgTDIwMC4wIDQ5LjAgTDE5MC4wIDU2LjAgeicgZmlsbD0nIzAwMDAwMCcgc3Ryb2tlPSdub25lJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHBhdGggZD0nTTE2NS4wIDQ5LjAgTDE5NS4wIDQ5LjAgJyBmaWxsPSdub25lJyBzdHJva2U9JyMwMDAwMDAnIHN0cm9rZS1saW5lY2FwPSdyb3VuZCcgc3Ryb2tlLWxpbmVqb2luPSdyb3VuZCcgc3Ryb2tlLXdpZHRoPScxLjAnLz48cGF0aCBkPSdNMzUuMCA5MS4wIEwzMjUuMCA5MS4wICcgZmlsbD0nbm9uZScgc3Ryb2tlPScjMDAwMDAwJyBzdHJva2UtbGluZWNhcD0ncm91bmQnIHN0cm9rZS1saW5lam9pbj0ncm91bmQnIHN0cm9rZS13aWR0aD0nMS4wJy8+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nNDYnIHk9JzU0Jz48IVtDREFUQVtPcGFjaXR5IDFdXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMjM2JyB5PSc1NCc+PCFbQ0RBVEFbT3BhY2l0eSAwXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzMxJyB5PSc4Mic+PCFbQ0RBVEFbLmZhZGXigJBsZWF2ZeKAkGZyb21dXT48L3RleHQ+PHRleHQgZmlsbD0nIzAwMDAwMCcgZm9udC1mYW1pbHk9J3NhbnMtc2VyaWYnIGZvbnQtc2l6ZT0nMTUnIHN0cm9rZT0nbm9uZScgeD0nMjIzJyB5PSc4Mic+PCFbQ0RBVEFbLmZhZGXigJBsZWF2ZeKAkHRvXV0+PC90ZXh0Pjx0ZXh0IGZpbGw9JyMwMDAwMDAnIGZvbnQtZmFtaWx5PSdzYW5zLXNlcmlmJyBmb250LXNpemU9JzE1JyBzdHJva2U9J25vbmUnIHg9JzEwNycgeT0nMTEwJz48IVtDREFUQVsuZmFkZeKAkGxlYXZl4oCQYWN0aXZlXV0+PC90ZXh0PjwvZz48L3N2Zz4=" alt="anim leave classes" width="370" height="140">
</div>
</div>
<div class="paragraph">
<p>À chaque fois que la condition du <code>v-if</code> changera,
l&#8217;élément va avoir un effet de fondu pendant une seconde,
au lieu d&#8217;apparaître ou disparaître brutalement.</p>
</div>
<div class="paragraph">
<p>La seule limite est ton imagination (et tes compétences CSS)&#160;!</p>
</div>
<div class="paragraph">
<p>Si tu fais un essai,
tu verras que l&#8217;animation ne se déclenche pas quand l&#8217;élément est affiché pour la première fois,
mais seulement quand il disparaît/ré-apparaît.
Tu peux alors utiliser la prop <code>appear</code> pour avoir l&#8217;aninamtion
la première fois que l&#8217;élément apparaît&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Transition name="fade" appear&gt;
  &lt;div v-if="display"&gt;Content&lt;/div&gt;
&lt;/Transition&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>Transition</code> fonctionne aussi avec <code>v-else</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="css">&lt;Transition name="fade" :mode="mode"&gt;
  &lt;div v-if="loggedIn"&gt;
    &lt;button @click="logout()"&gt;Log out&lt;/button&gt;
  &lt;/div&gt;
  &lt;div v-else&gt;
    &lt;button @click="login()"&gt;Log in&lt;/button&gt;
  &lt;/div&gt;
&lt;/Transition&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nous avons ici un bouton de connexion
et un bouton de déconnexion qui s&#8217;affichent selon la valeur
de <code>loggedIn</code>, une propriété réactive qui est vraie si l&#8217;utilisatrice
est connectée.
L&#8217;animation <code>fade</code> est appliquée aux deux boutons à chaque fois que <code>loggedIn</code> change.
Ce qui est&#8230;&#8203; bizarre, car on va alors voir les deux boutons en même temps,
l&#8217;un disparaissant progressivement, pendant que l&#8217;autre apparaît doucement.</p>
</div>
<div class="paragraph">
<p>C&#8217;est ici que la prop <code>mode</code> de <code>Transition</code> peut aider.
On peut lui donner trois valeurs possibles&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>default</code>, qui est évidemment la valeur par défaut, et a le comportement évoqué.</p>
</li>
<li>
<p><code>in-out</code>, qui déclenche d&#8217;abord l&#8217;animation de l&#8217;élément entrant,
puis celle de l&#8217;élément sortant.
Dans notre cas, cela veut dire que le nouveau bouton à afficher apparaît,
puis l&#8217;autre bouton disparaît. Toujours pas la solution idéale ici.</p>
</li>
<li>
<p><code>out-in</code>, qui déclenche l&#8217;animation de l&#8217;élément à supprimer,
puis celle de l&#8217;élément à afficher.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>out-in</code> est donc ce qu&#8217;il nous faut ici&#160;:
le bouton actuel va progressivement disparaître,
puis quand la transition sera terminée,
le nouveau bouton apparaîtra progressivement&#160;!
C&#8217;est le mode que vous voulez dans la plupart des cas
quand vous travaillez avec <code>v-else</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_transitions_dans_les_listes">25.3. Transitions dans les listes</h3>
<div class="paragraph">
<p>Il est aussi possible d&#8217;animer <code>v-for</code>&#160;!
Cette fois, nous allons utiliser <code>TransitionGroup</code> pour envelopper notre <code>v-for</code>.
Tu auras besoin d&#8217;ajouter une clé avec <code>:key</code> sur l&#8217;élément portant le <code>v-for</code>
pour que cela fonctionne
(c&#8217;est de toute façon une bonne pratique).
À la différence de <code>Transition</code>, <code>TransitionGroup</code> affiche un <code>span</code>,
mais on peut modifier ce comportement si nécessaire avec la prop <code>tag</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;TransitionGroup name="list" tag="ul" appear&gt;
  &lt;li v-for="pony of ponies" :key="pony.id"&gt;{{ pony.name }}&lt;/li&gt;
&lt;/TransitionGroup&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est ensuite très similaire à <code>Transition</code>,
puisqu&#8217;il applique les mêmes classes.
On peut définir une animation <code>list</code>,
où les éléments vont glisser pour entrer ou sortir&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="css">.list-leave-active,
.list-enter-active {
  transition: 1s;
}

.list-enter-from {
  transform: translateX(100%);
}

.list-leave-to {
  transform: translateX(-100%);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Quand un poney est ajouté à la collection,
le nouvel élément <code>li</code> va glisser depuis la droite de l&#8217;écran dans la liste&#160;!</p>
</div>
<div class="paragraph">
<p><code>TransitionGroup</code> ajoute aussi une classe CSS <code>v-move</code>,
quand l&#8217;élément change de position&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="css">.list-move {
  transition: transform 1s ease;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si la liste est mélangée par exemple,
tu verras les éléments glisser vers leurs nouvelles positions&#160;!</p>
</div>
</div>
<div class="sect2">
<h3 id="_et_plus_encore">25.4. Et plus encore&#160;!</h3>
<div class="paragraph">
<p>Il est aussi possible d&#8217;écrire des animations en pur JavaScript
si tu as un cas d&#8217;utilisation plus avancé,
en utilisant par exemple <a href="https://greensock.com/gsap/">GSAP</a>.
Vue peut aider là aussi,
car <code>Transition</code> émet aussi des événements&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>@beforeEnter</code>/<code>@enter</code>/<code>@afterEnter</code></p>
</li>
<li>
<p><code>@beforeLeave</code>/<code>@leave</code>/<code>@afterLeave</code></p>
</li>
<li>
<p><code>@enterCancelled</code>/<code>@leaveCancelled</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>Transition</code> fonctionne aussi bien avec le routeur,
si l&#8217;on veut animer une transition entre deux pages.</p>
</div>
<div class="paragraph">
<p>Tu pourrais penser que tester un composant avec des animations
va rendre les choses compliquées,
comme il va falloir attendre la fin des animations pour tester le rendu.
Mais en fait non, pas d&#8217;inquiétude&#160;!
Vue Test Utils remplace les composants <code>Transition</code> et <code>TransitionGroup</code>,
et tout fonctionne donc comme s&#8217;il n&#8217;y avait pas de transition 😍.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Essaie notre exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/21/transitions">Animations and transition effects</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACN1BMVEVMaXF1aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF51aF6CcGNyZVxFQz9FQz9FQz9FQz+OeGi4kni0j3ZjWlJIRUFFQz9FQz+ghHC6lHqxj3eYfmx5a2BFQz9FQz9FQz9gWFGXfWtnXVROSkVsYVitjHV1aF5FQz9oW1GbfmqqiHFMSENRTEeKeGv0zK/wyKvPqI1TTUZbUkpdVk+finr81LbTrJFFQz9mXFS5nor40LLCnIJ+bmJyZlzSspvsxKdFQz9LSEPauaDLpIm2kXhFQz9XUUvnwKOPeWlgWFCGdmm+mH6khnFFQz9FQz+Xg3TfuJzJrJWGc2VaU01PSUNmWU51YlRdU0qwl4VKRkFrXFCRdWGUd2OmhW63knhiV05qXFGdgGvjvKDbtJhFQz9YUEiIb12OdmRxYVWLdmejg2xTTEWDbFuZe2ayjnWkhW94ZllvY1qWeWRUTUarinN+aVmef2mVe2iTe2pwX1Kohm+piXNaUkqMcl+tinKAbF1eVEpiVkyRdWG1kHeRdWGRdWGHcWCRdWGzj3aRdWGRdWGggWyXe2ePdGNAPDhCQ0NWV1c5OTmRdWF1YlUvLy+/w8PJzc22ubmGbl6RdWGph3FMTU2RdWFsW1CGiIiriHFSSEJaT0aRdWGggWp9aFmRdWE4NTSxjnWRdWGRdWGRdWGRdWGwjHSbfWd/aFhIQTxaTkU7ODVsW055ZFVORT9BPDhyX1GLcV5USUI1MzK6wa3dAAAAr3RSTlMAYIBAj/+/EJ/PcO8wUP/fYIBwMP///////9///////yBQv3D//////9/P////////////////////7///////////EP////+f/////////0Cv////////////////////////////j////////////////////////////////////2D/YP8w7/8g/xDP/////////5////////9w//9Q//////+v//+A//9Av9+PTccICgAABmhJREFUeAHs1YVC5ToUheEgC5cTfB827u4Q3N3d3e8dg3F796nQCe7t2Pme4G+brIqA31dAQEBAQFBwcIj4DYTCEBYuHOERACKjwoXXomGKjhFnwmCJjhUeA+JgiPdJmZAoRAwcQcJTIUhKTolDahqZ/L4gIJ0zMrMAxAgvZOdImSulLw/5yckpBeQoLAIbio2SknDhOl8pOdLKypMrKumnquqa2jqjBECwcFmilaHVN5DW2KSUambOBKJdfiU5LXSL1jYjpL2DudPtV5JIt+rqVoYe5nQgWriot4Vu04d+ZRrgwSzAzTEZolsNQ1lGmEeBCK8/jDY2rmwTPAmUTE1lC3dM0+2KZpStjgcB9BHRUKIbO0Z3QJuyzVr3popM0vMTQlWYU7Ye5nlggSxDnr+QRvTrkFGgkdwpyaU7tELpkEwdQlNefhhD1/gNIdPi+UyV0l36MHNDSMtz7emU9NNVi0vLKxfnbPWGEHLzm6ytb2xube+QbXePDR3N+8pycClEDuXmkj/3MFs8SaLM9RO15JaSdnRsZDD/R5b/2TFx0G4NGr8AFugK+dzDur7xcpsNe2RqYM1IMSee46xBu6K0VzxdKZ159frNCbMOOWXN+kLsTLwrJb36dGzxmbf2h7lqEnhH18oVQpM+8XA+sqwcvz9hxwciqvzIV2UCrXS9Ib3V05Tz2COy+Gnj8zY7vpDhC1/nK4bpBtPZdsZhC/kf+atZ+7ax8Z21BqKGU77ej+LMa7lxGwrDz5DccQepD8Cr9LfYB8ihWno0Q3nHdTvdre0N7tqlQ8VdJb08XEiPzgSjxSFwZMziu3b50H78JG/dDkjyZ5GrF9H0wWRx8uUdiO6K/2nUkoYgmQ0DmsmzfzFY+g4gagl7vg8MfDHBCVqemwOAeEVwmDF4TNDeVtcgJ64KFutBKR+8CQ+MOwNXPnybszwbTA+kHVjwxVvWKvful3o8ePhAEARWXLFdo1KPR4+fPH32+BFfROWq1aQ8L/N4IeXm1raUO3wRlS8sau0uAJ0fe1Lub21tSSn3DOfXhNGjgx5aXuYKr7ZeSSlfCA0/uBLBg5sKggOJHGhTPrggtBCyOjA3hVnkJ1EyJVPJZUUyyOkKkpcS+VmfJB8HBdfE1McB8vEEIoeQEwuaPfQ4OhY6RgJhG5VyFvgiJ5ATlQbqzkhkh0zXi9VJcqVgRKPGFbm3BjmGi/9hsU0OHgqa2aQWXhNC1FEk4Yqc4kY18JBXT9ratTFtkHnhCryLZ0SDJ7IKOdNV5yIJU+TeGW4QtyJhmylyDjkV4ZCFoGBd8EQ6UNAT7sCnQo4InlxIhUNmCg+yuJVEu/u9Gn6PSrYiyzAiat50tTyztaStLNI4VFlWiZt3hVPaoaXIKYwTdVeEQ9btRDqgwdlRJqobdWI0xM52LvYUFX1r92BClBDXJuaXFuadqtIX7pgKy0WWoYybri9BWuQMaLA3OiJBiRqKEBPi6BDfvWl6kSNCFDFPCDItuKTkJY5RXy/mhsgymp7g0cR6RbfY74vM19Qhl2tTjSHH2NnyzCfO7mAo5S+ggdemexHxK2pnS0TOD2MiMOJXmfObNtQY09GE8nqV4ITk6EV+lwVD0CFsSadN+7uOb9BJkYEs+OMyIr0YRqSCIsSFIUXgT5nz18Qi1XTaYi0bWGI1ItgA/v7n3z/Rg94jaaXSa2kSrBspv9CiSwl6aEQyMNF9bdTT/Wal1xtlf+/mfGR7O+G66ER2wQD+4WolgnGifqz3JkgaghS5ByZahIZh/ozY1jNkWtWA56dnLA+GyIZpiKrGRjGHJ4cZYROlgiHCnJIIT8Ta4T21X3YOD7Nx5xXBwNDhCVCD3l9xEzXYIkiHrYFkjNpCiLCqwNlyyasMpMcW0fCcq4Eoq9rli7Dm5BQ1jL9X5Ypo6eh3bHZi+IJARztXBLl3+JrK2vmGzbcuZJovQqgsZ6CQ0WtCXFU9ByLo0jnMTnMOd+kloaOkyxdxSKY+FPoUUaMk9SmiRknsVUSNkpZPETVKuj5F1CiJqj5F1ChJfYqoURJ7E8EoQVo+RdQoafoUUaMk8iqiRknqU0SNkr43EYwSZMWniBolTZ8iapREHkT0UZL6FFGjZN6bCEYJsuJTRI2Sik8RNUqmPYjoo+SuT5Fddbv6FLkHCiseRLRRUvEpokbJtAcRfZTctRT5DzqttsrqCgqyAAAAAElFTkSuQmCC" alt="Free" width="18"></span>&#160;!
Tu ajouteras des petites animations et transitions sympas à l&#8217;application.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced-components">26. Patterns pour composants avancés</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Parfois un simple composant ne suffit pas pour la tâche donnée.
Voyons que faire dans ces cas-là.</p>
</div>
<div class="sect2">
<h3 id="_références_de_template_avec_ref">26.1. Références de template avec <code>ref</code></h3>
<div class="paragraph">
<p>Avec les frameworks JavaScript modernes,
nous ne manipulons pas la structure du DOM nous-même&#160;:
c&#8217;est le travail du framework.</p>
</div>
<div class="paragraph">
<p>Mais, de temps en temps, on a besoin de récupérer une référence sur un élément DOM.
Imaginons que l&#8217;on veuille donner le focus sur un input par exemple.
Pour cela, on veut appeler la méthode native <code>focus()</code> sur l&#8217;input.
Il nous faut donc récupérer une référence sur celui-ci.</p>
</div>
<div class="paragraph">
<p>Dans ce cas, on peut utiliser <code>ref()</code>.
Oui, c&#8217;est bien la même fonction que celle que l&#8217;on utilise dans le système de réactivité,
mais pour un usage un peu différent.</p>
</div>
<div class="paragraph">
<p>Commençons par créer la référence dans la section script&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const nameInput = ref&lt;HTMLInputElement | null&gt;(null);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Puis utilisons le nom de cette variable (<code>nameInput</code>) comme valeur de l&#8217;attribut <code>ref</code> de l&#8217;input,
dans le template HTML&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Register.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input id="name" ref="nameInput" v-model="name" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le type de <code>nameInput</code> est <code>Ref&lt;HTMLInputElement | null&gt;</code>,
car l&#8217;input ne peut être utilisé que lorsque Vue a généré le DOM du composant et peuplé la référence.</p>
</div>
<div class="paragraph">
<p>Quand pouvons-nous alors utiliser <code>nameInput</code>&#160;?
Dans la fonction du cycle de vie <code>onMounted()</code>&#160;!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">onMounted(() =&gt; {
  nameInput.value?.focus();
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ce pattern est très utile dans certains cas.
Par exemple, quand on veut afficher un graphique ou une carte,
on utilise souvent des bibliothèques tierces, qui ne connaissent pas Vue.
Dans ce cas, on récupère simplement la référence DOM de l&#8217;élément et on la passe à la bibliothèque tierce.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>C&#8217;est exactement ce que nous allons voir dans le Pack Pro 😉.
Essaye l&#8217;exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/30/chart">Charts in your app</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
qui apprend à utiliser les références de template pour intégrer une bibliothèque tierce.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_références_de_composant">26.2. Références de composant</h3>
<div class="paragraph">
<p>Ce pattern fonctionne aussi avec les composants&#160;!
Imaginons que tu as un composant de menu déroulant, une <em>dropdown</em> (à toi, ou venant d&#8217;une bibliothèque, peu importe).</p>
</div>
<div class="paragraph">
<p>Ce composant de menu déroulant a une fonction pour ouvrir/fermer le menu.</p>
</div>
<div class="listingblock">
<div class="title">Dropdown.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const opened = ref(true);
function toggle() {
  opened.value = !opened.value;
}

defineExpose({
  toggle
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme le composant est défini avec la syntaxe <code>script setup</code>,
la fonction doit être exposée avec <code>defineExpose</code> pour être visible en dehors du composant.</p>
</div>
<div class="paragraph">
<p>Le composant de menu déroulant peut ensuite être utilisé comme ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Navbar.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;Dropdown ref="dropdown"&gt;
  &lt;button&gt;First choice&lt;/button&gt;
  &lt;button&gt;Second choice&lt;/button&gt;
&lt;/Dropdown&gt;

&lt;button class="toggle" @click="toggleDropdown()"&gt;Open the dropdown&lt;/button&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir ci-dessous, le composant <code>Navbar</code> a une <code>ref</code> appelé <code>dropdown</code>.
Cette <code>ref</code> est déclarée dans la section script,
et peut être utilisée pour accéder à l&#8217;instance du composant, et à ses méthodes.</p>
</div>
<div class="listingblock">
<div class="title">Navbar.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const dropdown = ref&lt;typeof Dropdown | null&gt;(null);
function toggleDropdown() {
  dropdown.value?.toggle();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dans ce cas, la référence <code>dropdown</code> ne référence pas un élément HTML,
elle référence un composant Vue.</p>
</div>
<div class="paragraph">
<p>C&#8217;est un pattern très utile dans certains cas.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="custom-directives">27. Directives personnalisées</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vue offre un tas de directives que tu peux utiliser dans vos templates (<code>v-if</code>, <code>v-for</code>, <code>v-model</code>, etc.),
mais tu peux aussi créer les vôtres&#160;!</p>
</div>
<div class="paragraph">
<p>Cela peut être très pratique pour encapsuler un comportement que tu veux réutiliser plusieurs fois,
mais qui n&#8217;est pas vraiment un composant (parce qu&#8217;il n&#8217;a pas de template) ni un composable (parce que l&#8217;on veut quand même manipuler le DOM).</p>
</div>
<div class="paragraph">
<p>Par exemple, dans le chapitre précédent, nous avons vu comment mettre le focus sur un élément dans le template
grâce aux références de template.
Ce code fonctionne parfaitement, mais nous devrions le dupliquer à chaque fois que nous voulons mettre le focus sur un élément.</p>
</div>
<div class="paragraph">
<p>Comment faire mieux&#160;? Avec une directive&#160;!</p>
</div>
<div class="paragraph">
<p>Pour définir une directive, tu crées un objet qui peut avoir plusieurs propriétés,
correspondant aux fonctions de cycle de vie de la directive que tu veux utiliser.</p>
</div>
<div class="sect2">
<h3 id="_cycle_de_vie_dune_directive">27.1. Cycle de vie d&#8217;une directive</h3>
<div class="paragraph">
<p>Une directive a un cycle de vie similaire à celui d&#8217;un composant.
Mais, ici, au lieu d&#8217;utiliser des fonctions comme <code>onMount</code>, <code>onUnmount</code>, etc. dans un <code>setup</code>,
nous allons utiliser des propriétés comme <code>mounted</code>, <code>unmounted</code>, etc.
Ces fonctions sont appelées avec l&#8217;élément sur lequel ils sont appliqués en premier paramètre.</p>
</div>
<div class="paragraph">
<p>Donc notre directive de focus est aussi simple que cela&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Focus.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Directive } from 'vue';

export const vFocus: Directive&lt;HTMLInputElement&gt; = {
  // el is of type `HTMLInputElement`
  // as vFocus is declared as `Directive&lt;HTMLInputElement&gt;`
  mounted(el) {
    el.focus();
  }
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut l&#8217;utiliser comme ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Login.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input v-focus name="login" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme pour les composants, tu dois déclarer la directive dans la partie script.
Si tu utilises la syntaxe <code>script setup</code>,
tu dois simplement l&#8217;importer.
C&#8217;est pourquoi le nom est important&#160;:
c&#8217;est comme ça que Vue comprend ce que <code>v-focus</code> veut dire dans le template.</p>
</div>
<div class="listingblock">
<div class="title">Login.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { vFocus } from '@/directives/Focus';</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si tu n&#8217;utilises pas <code>script setup</code>,
alors tu dois déclarer la directive dans l&#8217;option <code>directives</code> du composant.</p>
</div>
</div>
<div class="sect2">
<h3 id="_valeur_des_directives">27.2. Valeur des directives</h3>
<div class="paragraph">
<p>Tu as peut-être remarqué que certaines directives de Vue peuvent avoir des valeurs,
par exemple <code>v-model="user.name"</code>.
D&#8217;autres peuvent avoir un argument comme <code>v-bind:src</code> ou <code>v-on:click</code>.
Et, enfin, certaines peuvent avoir des modificateurs, comme <code>v-model.number</code>.</p>
</div>
<div class="paragraph">
<p>Nos directives personnalisées peuvent avoir aussi une valeur, un argument et des modificateurs&#160;!</p>
</div>
<div class="paragraph">
<p>On peut imaginer une directive <code>v-focus</code> vraiment géniale qui aurait tout cela&#160;!
Par exemple, elle peut avoir une valeur pour indiquer si l&#8217;élément doit être mis en focus ou non.
On peut l&#8217;utiliser comme ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Login.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input v-focus="shouldFocus" name="login" @blur="shouldFocus = false" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Chaque fonction de cycle de vie peut recevoir un second paramètre, généralement appelé <code>binding</code>.
<code>binding</code> est un objet qui contient la valeur, les paramètres et les modificateurs.
La directive serait définie comme ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Focus.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Directive } from 'vue';

export const vFocus: Directive&lt;HTMLInputElement, boolean&gt; = {
  // called when the bound element is mounted to the DOM
  mounted(el, binding) {
    // as vFocus is declared as Directive&lt;HTMLInputElement, boolean&gt;
    // `binding` is inferred as `DirectiveBinding&lt;boolean&gt;`,
    // so `binding.value` is of type boolean
    if (binding.value) {
      el.focus();
    }
  },
  // called after the containing component has re-rendered
  updated(el, binding) {
    if (binding.value) {
      el.focus();
    }
  }
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>La directive utilise deux fonctions de cycle de vie&#160;: <code>mounted</code> et <code>updated</code>.
La première est appelée quand l&#8217;élément est monté dans le DOM.
La deuxième est appelée quand le composant qui utilise la directive est mis à jour.</p>
</div>
<div class="paragraph">
<p>Comme c&#8217;est un cas d&#8217;utilisation assez courant, Vue permet de définir la directive
comme une fonction, qui sera appelée au "mount" et à la mise à jour&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Focus.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Directive } from 'vue';

// called when the bound element is mounted to the DOM
// and when the containing component has re-rendered
export const vFocus: Directive&lt;HTMLInputElement, boolean&gt; = (el, binding) =&gt; {
  // as vFocus is declared as Directive&lt;HTMLInputElement, boolean&gt;
  // `binding` is inferred as `DirectiveBinding&lt;boolean&gt;`,
  // so `binding.value` is of type boolean
  if (binding.value) {
    el.focus();
  }
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est la forme que nous utiliserons dans le reste du chapitre.</p>
</div>
</div>
<div class="sect2">
<h3 id="_argument_des_directives">27.3. Argument des directives</h3>
<div class="paragraph">
<p>Une directive peut aussi avoir un argument.</p>
</div>
<div class="paragraph">
<p>Par exemple, la directive <code>v-bind</code> peut avoir un argument pour indiquer l&#8217;attribut à lier avec <code>v-bind:src</code>.
La directive <code>v-on</code> peut avoir un argument pour indiquer l&#8217;événement à écouter avec <code>v-on:click</code>.
Nos directives personnalisées peuvent aussi avoir des arguments&#160;!</p>
</div>
<div class="paragraph">
<p>On peut imaginer une directive <code>v-focus</code> qui aurait un argument pour indiquer un délai avant de mettre le focus sur l&#8217;élément.
Par exemple, elle serait utilisée comme ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Login.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input v-focus:300="shouldFocus" name="login" @blur="shouldFocus = false" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;argument est disponible dans l&#8217;objet <code>binding</code>, dans la propriété <code>arg</code>.
C&#8217;est une chaîne de caractères, il nous faut donc le convertir en nombre dans notre exemple.
La directive peut être définie comme ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Focus.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Directive } from 'vue';

// called when the bound element is mounted to the DOM
// and when the containing component has updated
export const vFocus: Directive&lt;HTMLInputElement, boolean&gt; = (el, binding) =&gt; {
  const delay = parseInt(binding.arg ?? '0');
  if (binding.value) {
    setTimeout(() =&gt; el.focus(), delay);
  }
};</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_modificateurs_des_directives">27.4. Modificateurs des directives</h3>
<div class="paragraph">
<p>Enfin, une directive peut avoir des modificateurs,
comme <code>v-model.number</code> qui indique que la valeur doit être convertie en nombre.</p>
</div>
<div class="paragraph">
<p>On peut imaginer une directive <code>v-focus</code> qui aurait un modificateur <code>seconds</code>
pour indiquer que le délai est en secondes (et pas en millisecondes), par exemple.
On peut alors l&#8217;utiliser comme ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Login.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;input v-focus.seconds:2="shouldFocus" name="login" @blur="shouldFocus = false" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les modificateurs sont disponibles dans l&#8217;objet <code>binding</code>, dans la propriété <code>modifiers</code>.
Si un modificateur est présent, alors la valeur de la propriété est <code>true</code>.</p>
</div>
<div class="paragraph">
<p>La directive peut être définie comme ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Focus.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { Directive } from 'vue';

// called when the bound element is mounted to the DOM
// and when the containing component has updated
export const vFocus: Directive&lt;HTMLInputElement, boolean&gt; = (el, binding) =&gt; {
  // if the modifiers object contains a `seconds` property, then we need to multiply the delay by 1000
  const isDelayInSeconds = binding.modifiers['seconds'];
  const delay = parseInt(binding.arg ?? '0') * (isDelayInSeconds ? 1000 : 1);
  if (binding.value) {
    setTimeout(() =&gt; el.focus(), delay);
  }
};</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Nous avons un cas d&#8217;utilisation intéressant dans le Pro Pack, où tu construis une directive personnalisée pour ajouter des classes sur les champs de formulaire en fonction de leur validation.
Essaye notre exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/31/custom-directive">Custom directive</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>
pour apprendre à la construire.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="i18n">28. Internationalisation</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>So you want to internationalize your application, huh?</em></p>
</div>
<div class="paragraph">
<p>Bon, ne te tracasse pas si ton niveau d’anglais est si bas que tu n’as pas pu comprendre cette petite introduction.
Ton rôle de développeur n’est pas de traduire ton application en anglais, espagnol ou quelque autre dialecte exotique.
Ce que tu peux faire par contre, c’est rendre cette traduction possible.
Ce chapitre explique comment y arriver.</p>
</div>
<div class="paragraph">
<p>Vue en lui-même ne fait pas grand-chose pour nous aider.
Mais un plugin de l&#8217;écosystème est là pour nous sauver&#160;: <a href="https://vue-i18n.intlify.dev/">vue-i18n</a>.</p>
</div>
<div class="paragraph">
<p>vue-i18n nous aide sur deux sujets&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>la traduction de textes</p>
</li>
<li>
<p>le formatage de nombres et de dates</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_mise_en_place_de_vue_i18n">28.1. Mise en place de vue-i18n</h3>
<div class="paragraph">
<p>vue-i18n est un plugin que tu peux instancier avec <code>createI18n()</code>.
Le plugin permet de définir la locale de l&#8217;application
et les traductions que tu veux utiliser.</p>
</div>
<div class="paragraph">
<p>Ces traductions sont généralement définies dans des fichiers spécifiques à chaque langue.
vue-i18n supportent plusieurs formats pour ces fichiers, par exemple YAML ou JSON.
Les messages peuvent également être déclarés ou surchargés dans un composant,
soit en TypeScript, soit dans une section dédiée <code>&lt;i18n&gt;&lt;/i18n&gt;</code> d&#8217;un SFC.</p>
</div>
<div class="paragraph">
<p>Même si ce n&#8217;est pas le format idéal, JSON a un avantage de taille&#160;:
il peut être compris par TypeScript et nous donne du typage strict.</p>
</div>
<div class="listingblock">
<div class="title">src/en.json</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  "chart": {
    "title": "Score history",
    "legend": "Legend",
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est extrêmement pratique, car cela permet l&#8217;auto-complétion dans ton IDE
quand tu travailles avec les clés des messages (<code>chart.t</code> est autocomplété en <code>chart.title</code>).
TypeScript va aussi échouer le build s&#8217;il manque une ou plusieurs clés à l&#8217;un des fichiers de traduction&#160;!</p>
</div>
<div class="listingblock">
<div class="title">src/i18n.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { createI18n } from 'vue-i18n';
// translation files
import en from './locales/en.json';
import fr from './locales/fr.json';

// we can leverage TypeScript to type-check the translations
export type Message = typeof en;
export default createI18n&lt;[Message], 'en' | 'fr'&gt;({
  legacy: false, // as we only want to use the "modern" composition API
  locale: 'en',
  messages: {
    en,
    fr
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu peux ensuite utiliser ce plugin dans ton application&#160;:</p>
</div>
<div class="listingblock">
<div class="title">main.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">createApp(App)
  .use(i18nPlugin)
  .mount('#app');</code></pre>
</div>
</div>
<div class="paragraph">
<p>On est maintenant prêt à traduire nos textes&#160;!</p>
</div>
</div>
<div class="sect2">
<h3 id="_traduction_de_textes">28.2. Traduction de textes</h3>
<div class="paragraph">
<p>vue-i18n suit le modèle que nous avons vu plusieurs fois&#160;:
il offre un <em>composable</em>, appelé <code>useI18n()</code> que l&#8217;on peut utiliser dans nos composants.
Ce <em>composable</em> nous permet de récupérer la fonction <code>t()</code> et de l&#8217;utiliser
dans notre code et dans nos templates pour traduire du texte.</p>
</div>
<div class="paragraph">
<p>Par exemple, on peut utiliser la clé <code>chart.title</code> que nous avons défini
pour afficher le titre&#160;:</p>
</div>
<div class="listingblock">
<div class="title">ScoreHistory.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const { t } = useI18n&lt;{ message: Message }, 'en' | 'fr'&gt;();
const title = ref(t('chart.title'));</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu verras plus souvent <code>t</code> utilisée directement dans les templates&#160;:</p>
</div>
<div class="listingblock">
<div class="title">ScoreHistory.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div id="legend"&gt;{{ t('chart.legend') }}&lt;/div&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>La fonction va récupérer le texte associé à la clé depuis les messages
correspondant à la locale courante et l&#8217;afficher.</p>
</div>
</div>
<div class="sect2">
<h3 id="_messages_paramétrisés">28.3. Messages paramétrisés</h3>
<div class="paragraph">
<p>On a parfois besoin d&#8217;avoir des paramètres dans les messages.
Par exemple, on aimerait afficher le login d&#8217;un utilisateur dans un message&#160;:</p>
</div>
<div class="listingblock">
<div class="title">src/en.json</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  "chart": {
    "title": "Score history",
    "legend": "Legend",
    "user": "Score for user { login }",
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>t</code> accepte alors un objet comme second paramètre&#160;:</p>
</div>
<div class="listingblock">
<div class="title">ScoreHistory.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div id="score"&gt;{{ t('chart.user', { login: 'cedric' }) }}&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pluralisation">28.4. Pluralisation</h3>
<div class="paragraph">
<p>Il est aussi possible de gérer la pluralisation avec <code>|</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">{
  "chart": {
    "title": "Score history",
    "legend": "Legend",
    "ponies": "no ponies | one pony | {n} ponies"
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tu peux alors passer un nombre d&#8217;éléments à afficher à la fonction <code>t</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div id="ponies"&gt;{{ t('chart.ponies', count) }}&lt;/div&gt;
&lt;!-- Displays 'no ponies' if count is 0, '3 ponies' if count is 3 --&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_changer_la_locale">28.5. Changer la locale</h3>
<div class="paragraph">
<p>Quand tu supportes plusieurs langues dans ton application,
tu veux probablement fournir à tes utilisateurs une façon de changer la locale
(ou lire la préférence de tes utilisateurs au démarrage).</p>
</div>
<div class="paragraph">
<p>Tu peux récupérer la locale courante et celles disponibles grâce à <code>useI18n()</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Navbar.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const { locale, availableLocales } = useI18n();</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>locale</code> est une <code>ref</code>, tu peux mettre à jour sa valeur
et Vue rafraîchira les templates en conséquence.</p>
</div>
<div class="paragraph">
<p>Tu peux par exemple ajouter un simple <code>select</code>
à l&#8217;application pour laisser l&#8217;utilisateur choisir&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Navbar.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;select v-model="locale"&gt;
  &lt;option v-for="availableLocale in availableLocales" :key="availableLocale" :value="availableLocale"&gt;
    {{ availableLocale }}
  &lt;/option&gt;
&lt;/select&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que <code>t</code> rafraîchit automatiquement les traductions dans les templates
(car la fonction est réévaluée).
Mais pas dans le code&#160;: la fonction n&#8217;est exécutée qu&#8217;une seule fois pendant le setup.
Si nécessaire, tu peux cependant surveiller la locale pour déclencher le rafraîchissement de la traduction&#160;:</p>
</div>
<div class="listingblock">
<div class="title">ScoreHistory.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">watchEffect(() =&gt; (title.value = t('chart.title')));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_formatage">28.6. Formatage</h3>
<div class="paragraph">
<p>vue-i18n aide également au formatage des dates avec <code>d(Date|string|number)</code>,
et des nombres avec <code>n(number)</code>.
Ces deux fonctions s&#8217;appuient le support <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl"><code>Intl</code></a> des navigateurs
et permettent toutes deux de préciser un <em>pattern</em> en deuxième paramètre si besoin.</p>
</div>
<div class="paragraph">
<p>Pour récupérer ces fonctions, tu peux utiliser <code>useI18n</code> comme précédemment&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const { d, n, availableLocales, locale } = useI18n();</code></pre>
</div>
</div>
<div class="paragraph">
<p>et les utiliser dans les templates&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div id="default-date"&gt;{{ d('2020-09-18') }}&lt;/div&gt;
&lt;!-- 9/18/2020 in English, 18/09/2020 in French --&gt;
&lt;div id="default-number"&gt;{{ n(2010.983) }}&lt;/div&gt;
&lt;!-- 2,010.983 in English, 2 010,983 in French --&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_autres_fonctionnalités_lazy_loading_support_de_vite_et_plus">28.7. Autres fonctionnalités (lazy-loading, support de Vite et plus)</h3>
<div class="paragraph">
<p>vue-i18n vient aussi avec d&#8217;autres fonctionnalités sympathiques&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>des options de formatage avancées pour les nombres, dates et monnaies</p>
</li>
<li>
<p>une directive custom <code>v-t</code> qui peut être utilisée à la place de la fonction <code>t()</code>.
La directive custom offre quelques optimisations, car elle permet de pré-compiler les traductions.
Mais elle est moins flexible et nécessite un build custom.</p>
</li>
<li>
<p>le chargement à la demande des traductions est possible</p>
</li>
<li>
<p>Vite est supporté grâce à un plugin</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Tu devrais te sentir prêt à internationaliser ton application maintenant&#160;!</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Practice"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pour commencer avec l&#8217;internationalisation et apprendre quelques astuces de plus,
essaye notre exercice
<a href="https://vue-exercises.ninja-squad.com/exercises/31/i18n">Internationalisation</a> <span class="image"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIgAAACACAMAAADnN9ENAAACSVBMVEVMaXH7whr7whr7whr7whr7whr7whr7whr7whr7whr7whr7whp4o614o614o614o637whr7whp4o614o614o614o614o614o614o614o62EoKN4o614o637whqFXFKFXFKQnZm4kni0k3vA1Njr8fLd5+myytB/qLGFXFKFXFKcmY98oqp4o63V4uWFXFKFXFKoloWgmIx4o62Hpqu+nofCpI/b08yFXFKAoaaMnpzYzcSFXFKFXFKUnJaYm5O7mIDl5eOGrbaFXFKGk5Kfd2WSalyYcGClfmqhlIZ6lpx+hIWDaWOFXFKFXFJ/gICkl4nFqpeFXFKFXFKCamSDZV2EYFiDaWOCbmne2dTk7O77whqOZE6Ad3TIsJ6jwMflryWbb0h/gIDo6+rH2dz0vB58jZGIn6Cxgj17kZbOvK2FXFL7whq5iTqVt75/e3rPnC/eqSiMYk+FXFKjdkS4p6Ll6OjLtqbSwrXFubacu8PstSGynZiOsrqLZVzauj/013mrlI56mqLCtFrt69fY1dSApaTrvizz2oafgXqSb2aqxcuhrX/11GvO3uGQeHG5z9T20V7e3t7s7uX4y0P6xSjv5byYeHC+sKyli4TSzMrIzc28wcGwtLVHR0c8OztIR0c1NTWNkJEvLy+NioqTkJCHhISlqKnU2dpCQUGBhIRnZmZeYGBqbGyZnJ07Ozvf5ebLwsCmqapfYGFiYmLAw8Tw9fXs8vNqjZVBTE9PYmY4Pj9deH5mho5GU1Y9RUdhf4ZznKVKW140Njdz5u6AAAAAf3RSTlMAMIBQ7/+fEI/PYL8QcIBAIK+v/7+fz+8wUP/fYEAgEP//////////32D//yD//7///4//////UP///zDv///////P//////////+vj3Ag//+fQJ/////////fz///////////////////gHD///////+v//////////////9AWHP9fwAABxxJREFUeAHs1IVy5DAQBNBZ0DJ3mJUonGiPmZmZmZmZPv6ssb2oFFqHeYUq7LJ7mlatWhWVWDxBf4SkEHH6EwhPKk2/X0Z4sn9AknRSeJIx+u0SguXot8sLliG7QrFUKtOvUEkKVrUXpQZPT6EZrBdAX7FA0YsLX7ZCFv0w+gco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" alt="Pro" width="18"></span>!
Il fait partie de notre Pack Pro,
et tu apprendras comment internationaliser une application entière.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="under-the-hood">29. Sous le capot</h2>
<div class="sectionbody">
<div class="paragraph">
<p>J&#8217;ai une confession à te faire&#160;:
J&#8217;aime particulièrement apprendre comment les choses marchent <em>vraiment</em>.
Il y a de nombreux frameworks JavaScript,
mais peu de gens connaissent vraiment les différences entre eux, sous le capot.</p>
</div>
<div class="paragraph">
<p>Si toi aussi tu es curieux de savoir comment Vue fonctionne <em>vraiment</em>,
suis moi&#160;! 🤓</p>
</div>
<div class="sect2">
<h3 id="_les_changements_de_rendu">29.1. Les changements de rendu</h3>
<div class="paragraph">
<p>Tous les frameworks JavaScripts sont confrontés au même problème&#160;:
lorsque l&#8217;état de l&#8217;application change,
le framework doit appliquer ces changements au rendu de la page.
Il ne peut pas simplement regénérer toute la page cependant&#160;:
ce serait un gaspillage de ressources énorme parce que, la plupart du temps,
seuls quelques nœuds du DOM doivent être mis à jour.</p>
</div>
<div class="paragraph">
<p>Il y a actuellement deux solutions classiques à ce problème.
Les frameworks populaires que tu connais utilisent l&#8217;une ou l&#8217;autre.</p>
</div>
<div class="paragraph">
<p>La première solution est de compiler les templates HTML
en code JavaScript qui crée et modifie les éléments du DOM quand l&#8217;état du composant change.</p>
</div>
<div class="paragraph">
<p>En pseudo-code, cela signifie que le template d&#8217;un composant
<code>Greetings</code> tel que celui-ci&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Greetings.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;Hello {{ user.name }}&lt;/div&gt;
&lt;input type="checkbox" :value="user.isAdmin" @change="updateAdminRights()"&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>serait transformé par le framework en code tel que celui-ci pour afficher le composant&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const root = document.createElement('div');
const elements = [];
function createGreetings(component: Greetings) {
  const div = document.createElement('div');
  root.appendChild(div);
  elements.push(div);
  const input = document.createElement('input');
  input.type = 'checkbox';
  input.addEventListener('change', () =&gt; component.updateAdminRights());
  elements.push(input);
  root.appendChild(input);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il faut aussi une fonction qui modifie le DOM lorsque l&#8217;état est modifié&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function updateGreetings(component: Greetings, previousState: Greetings) {
  if (component.user.name !== previousState.user.name) {
    const div = elements[0];
    previousState.user.name = component.user.name;
    div.innerText = 'Hello ' + component.user.name;
  }
  if (component.user.isAdmin !== previousState.user.isAdmin) {
    const input = elements[1];
    previousState.user.isAdmin = component.user.isAdmin;
    input.value = component.user.isAdmin;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>C&#8217;est en gros ce que tu devrais écrire toi-même si tu étais forcé
d&#8217;écrire une application en utilisant <em>uniquement</em> du JavaScript, et pas de HTML.</p>
</div>
<div class="paragraph">
<p>Et c&#8217;est ce que des frameworks comme Angular ou Svelte font&#160;:
ils génèrent du code JavaScript contenant des instructions
de génération et de modification du DOM, et c&#8217;est cette version compilée des
composants qui est livrée aux utilisateurs.</p>
</div>
<div class="paragraph">
<p>Vue a une approche différente,
popularisée par React&#160;:
le DOM virtuel (<em>Virtual DOM</em>).</p>
</div>
<div class="paragraph">
<p>L&#8217;idée est assez similaire, mais avec une différence&#160;:
le framework convertit également le template en code JavaScript,
mais ce code JavaScript agit comme s&#8217;il devait regénérer toute la page à chaque fois.
En réalité, il ne le fait pas bien sûr&#160;: les changements génèrent un DOM virtuel,
une représentation en mémoire du DOM.
Le framework compare ensuite ce nouvel arbre DOM virtuel avec la version précédente,
et applique uniquement les différences au DOM réel.</p>
</div>
<div class="paragraph">
<p>Commençons par voir comment Vue compile nos templates.</p>
</div>
</div>
<div class="sect2">
<h3 id="_la_compilation_des_templates">29.2. La compilation des templates</h3>
<div class="paragraph">
<p>Quand Vue compile le template d&#8217;un composant,
il génère une fonction <code>render</code> pour le composant.
Cette fonction <code>render</code> est appelée quand Vue doit regénérer le DOM après un changement d&#8217;état.</p>
</div>
<div class="paragraph">
<p>Donc, un composant <code>Greetings</code> comme celui-ci&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Greetings.vue</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;div&gt;
   &lt;span&gt;Hello {{ user.name }}&lt;/span&gt;
   &lt;small v-if="user.isAdmin"&gt;admin&lt;/small&gt;
&lt;/div&gt;
&lt;input type="checkbox" :value="user.isAdmin" @change="updateAdminRights()" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>résulterait en une fonction <code>render</code> ajoutée au composant.</p>
</div>
<div class="paragraph">
<p>Le compilateur Vue est constitué de 3 parties pour arriver au résultat&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>un <em>parser</em></p>
</li>
<li>
<p>plusieurs <em>transformers</em></p>
</li>
<li>
<p>un générateur de code qui produit la fonction <code>render</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>La responsabilité du <em>parser</em> est de lire le template, caractère par caractère,
et d&#8217;en déduire la structure du template.</p>
</div>
<div class="paragraph">
<p>En gros, ça fonctionne comme ça&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&lt;</code>&#160;: Oh&#160;! Le début d&#8217;un élément&#160;! Analysons-le&#160;!</p>
</li>
<li>
<p><code>d</code>&#160;: OK le nom de l&#8217;élément commence par <code>d</code></p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
<li>
<p><code>&gt;</code>&#160;: OK l&#8217;élément est un <code>div</code> et n&#8217;a aucun attribut.
Examinons maintenant ses enfants.</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
<li>
<p><code>{</code>&#160;: Serait-ce le début d&#8217;une interpolation&#160;?</p>
</li>
<li>
<p><code>{</code>&#160;: Oui&#160;! C&#8217;est une interpolation&#160;! Analysons-la&#160;!</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
<li>
<p><code>v</code>&#160;: Voilà le début d&#8217;un attribut</p>
</li>
<li>
<p><code>-</code>&#160;: Oh c&#8217;est en fait une directive Vue&#160;!</p>
</li>
<li>
<p>&#8230;&#8203;</p>
</li>
<li>
<p>':'&#160;: Ah, c&#8217;est un binding Vue</p>
</li>
<li>
<p>etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>(Oui, dans mon imaginaire, un <em>parser</em> est extrêmement joyeux et toujours surpris)</p>
</div>
<div class="paragraph">
<p>Si le <em>parser</em> rencontre quelque chose d&#8217;inattendu,
il lève une exception.
Lorsqu&#8217;il est arrivé au bout du template,
il génère un <em>AST</em>, un <em>Abstract Syntax Tree</em>,
représentant la structure du template&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Greetings AST</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const greetingsAST = {
  type: 'ELEMENT',
  tag: 'div',
  props: [],
  children: [
    {
      type: 'ELEMENT',
      tag: 'span',
      props: [],
      children: [
        { type: 'TEXT', content: 'Hello ' },
        { type: 'INTERPOLATION', content: 'user.name' }
      ]
    },
    {
      type: 'ELEMENT',
      tag: 'small',
      props: [{ type: 'DIRECTIVE', name: 'if', exp: 'user.isAdmin' }],
      children: [{ type: 'TEXT', content: 'admin' }]
    }
    // etc.
  ]
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le compilateur Vue applique ensuite des transformations sur cet <em>AST</em>.
Les <em>transformers</em> modifie l'<em>AST</em> avant que la génération de code ne soit lancée,
et le font davantage ressembler à la structure d&#8217;un programme,
avec des appels de fonctions et des arguments.
C&#8217;est aussi la phase pendant laquelle chaque directive est branchée&#160;:
la transformation de <code>v-if</code> change l'<em>AST</em>
afin qu&#8217;il contienne un <code>if</code>.</p>
</div>
<div class="paragraph">
<p>Lorsque les transformations ont été appliquées,
le compilateur n&#8217;a plus qu&#8217;à générer le code.
C&#8217;est la phase <em>"codegen"</em>, qui transforme l&#8217;arbre
en une fonction JavaScript <code>render</code> contenant les instructions.</p>
</div>
<div class="paragraph">
<p>Et cette fonction <code>render</code>
est appelée à chaque fois que Vue veut regénérer
le DOM virtuel pour notre composant.</p>
</div>
</div>
<div class="sect2">
<h3 id="_le_dom_virtuel">29.3. Le DOM virtuel</h3>
<div class="paragraph">
<p>Implémentons un DOM virtuel nous-mêmes pour avoir une idée de ce en quoi ça consiste.</p>
</div>
<div class="paragraph">
<p>Il nous faut une structure de données représentant le DOM à générer,
très similaire à la structure de l&#8217;AST produite par le <em>parser</em>.</p>
</div>
<div class="paragraph">
<p>Dans notre version simplifiée, un nœud textuel sera un simple objet
tel que <code>{ type: 'text', text: 'Hello' }</code>,
et un <code>HTMLElement</code> sera représenté par un objet à peine plus complexe&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const input = {
  type: 'input',
  properties: { type: 'checkbox' },
  children: []
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>children</code> est un tableau qui peut contenir d&#8217;autres éléments.
Les deux types d&#8217;éléments seront appelés <code>VNode</code> dans les exemples qui suivent.
Mais nous faisons une distinction entre ces deux types de nœuds
parce que, pour générer un élément HTML dans le DOM, il faudra appeler
<code>document.createElement</code>
alors que pour générer un nœud textuel il faudra appeler
<code>document.createTextNode</code>.</p>
</div>
<div class="paragraph">
<p>Commençons par écrire deux fonctions utilitaires pour créer ces VNodes&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function createVirtualElement(type: string, properties: { [key: string]: any }, children: Array&lt;VNode | null&gt;): VNode {
  return { type, properties, children };
}

function createVirtualText(text: string): VNode {
  return { type: 'text', text };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>La fonction <code>render</code>, de notre composant,
générée par le compilateur Vue,
utilise ces fonctions et ressemble à ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">/**
 * &lt;div&gt;
 *   &lt;div&gt;
 *      &lt;span&gt;Hello {{ user.name }}&lt;/span&gt;
 *      &lt;small v-if="user.isAdmin"&gt;admin&lt;/small&gt;
 *   &lt;/div&gt;
 *   &lt;input type="checkbox" :value="user.isAdmin" @change="updateAdminRights()" /&gt;
 * &lt;/div&gt;
 */
function render(component: Greetings): VNode {
  // div
  return createVirtualElement('div', {}, [
    // div
    createVirtualElement('div', {}, [
      // span
      createVirtualElement('span', {}, [
        // text: Hello {{ user.name }}
        createVirtualText('Hello ' + component.user.name)
      ]),
      // small only if v-if is true
      component.user.isAdmin
        ? createVirtualElement('small', {}, [
            // text: admin
            createVirtualText('admin')
          ])
        : null
    ]),
    // input
    createVirtualElement(
      'input',
      {
        type: 'checkbox',
        value: component.user.isAdmin,
        onChange: () =&gt; component.updateAdminRights()
      },
      []
    )
  ]);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Elle retourne donc une structure de données représentant le DOM tel que l&#8217;on le désire&#160;:
le DOM virtuel.</p>
</div>
<div class="paragraph">
<p>À l&#8217;exécution, Vue examine cette structure et la compare
avec la version précédente, gardée en mémoire, qui correspond au DOM réellement affiché.
Cette comparaison permet de détecter les changements dans cette structure, qui doivent
ensuite être appliqués au DOM réel.</p>
</div>
<div class="paragraph">
<p>Voici ce que notre implémentation simple réalise&#160;:
elle reçoit l&#8217;élément racine de l&#8217;application
(celui où l&#8217;application est "montée"),
le <code>VNode</code> précédent (celui qui est donc réellement affiché),
et le nouveau VNode,
qui vient d&#8217;être généré par la fonction <code>render</code> ci-dessus.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function applyChanges(parent: ChildNode, index: number, previousNode: VNode | null, newNode: VNode | null) {
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Premier cas de figure&#160;: le nouveau VNode est null, indiquant que l&#8217;élément correspondant du DOM
doit être supprimé.
Nous pourrions l&#8217;enlever du DOM
mais, afin de simplifier la suite,
gardons le même nombre d&#8217;éléments,
(et donc des indices cohérents)
et remplaçons-le par un commentaire&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function applyChanges(parent: ChildNode, index: number, previousNode: VNode | null, newNode: VNode | null) {
  // no new element
  const oldChild = parent.childNodes[index];
  if (!newNode) {
    // we replace the old node with a comment
    const comment = document.createComment('removed element');
    parent.replaceChild(comment, oldChild);
    return;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cas de figure inverse&#160;: le VNode précédent est null, indiquant qu&#8217;un nouvel élément
doit être créé et ajouté au DOM.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function applyChanges(parent: ChildNode, index: number, previousNode: VNode | null, newNode: VNode | null) {
  // no new element
  const oldChild = parent.childNodes[index];
  if (!newNode) {
    // we replace the old node with a comment
    const comment = document.createComment('removed element');
    parent.replaceChild(comment, oldChild);
    return;
  }
  // no element previously
  else if (!previousNode) {
    const child = createChildElement(newNode);
    // if there was a comment we replace it
    if (oldChild) {
      parent.replaceChild(child, oldChild);
    } else {
      // otherwise we create a new child
      parent.appendChild(child);
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>avec <code>createChildElement</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function createChildElement(vNode: VNode): Text | HTMLElement {
  // if it is a text VNode
  if (isTextNode(vNode)) {
    return document.createTextNode(vNode.text);
  }
  // otherwise, we create a DOM element fo the correct type
  const child = document.createElement(vNode.type);
  // and we set its properties
  for (const prop in vNode.properties) {
    (child as any)[prop] = vNode.properties[prop];
  }
  return child;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Autre cas de figure que nous devons gérer&#160;: le type de l&#8217;élément a changé.
Dans ce cas, nous créons un nouvel élément et remplaçons l&#8217;ancien par le nouveau&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function applyChanges(parent: ChildNode, index: number, previousNode: VNode | null, newNode: VNode | null) {
  // no new element
  const oldChild = parent.childNodes[index];
  if (!newNode) {
    // we replace the old node with a comment
    const comment = document.createComment('removed element');
    parent.replaceChild(comment, oldChild);
    return;
  }
  // no element previously
  else if (!previousNode) {
    const child = createChildElement(newNode);
    // if there was a comment we replace it
    if (oldChild) {
      parent.replaceChild(child, oldChild);
    } else {
      // otherwise we create a new child
      parent.appendChild(child);
    }
  }
  // type changed?
  else if (previousNode.type !== newNode.type) {
    const child = createChildElement(newNode);
    parent.replaceChild(child, oldChild);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Nous pouvons aussi rencontrer un nœud textuel dont la valeur
a changé. Dans ce cas, on doit remplacer le <code>textContent</code> par la nouvelle valeur&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function applyChanges(parent: ChildNode, index: number, previousNode: VNode | null, newNode: VNode | null) {
  // no new element
  const oldChild = parent.childNodes[index];
  if (!newNode) {
    // we replace the old node with a comment
    const comment = document.createComment('removed element');
    parent.replaceChild(comment, oldChild);
    return;
  }
  // no element previously
  else if (!previousNode) {
    const child = createChildElement(newNode);
    // if there was a comment we replace it
    if (oldChild) {
      parent.replaceChild(child, oldChild);
    } else {
      // otherwise we create a new child
      parent.appendChild(child);
    }
  }
  // type changed?
  else if (previousNode.type !== newNode.type) {
    const child = createChildElement(newNode);
    parent.replaceChild(child, oldChild);
  }
  // text changes
  else if (isTextNode(previousNode) &amp;&amp; isTextNode(newNode)) {
    // the previous node exists
    if (oldChild) {
      // update the text only if necessary
      if (previousNode.text !== newNode.text) {
        oldChild.textContent = newNode.text;
      }
    } else {
      // create a new text node
      const newTextNode = createChildElement(newNode);
      parent.appendChild(newTextNode);
    }
    return;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il nous faut évidemment gérer les changements de propriétés&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function applyChanges(parent: ChildNode, index: number, previousNode: VNode | null, newNode: VNode | null) {
  // no new element
  const oldChild = parent.childNodes[index];
  if (!newNode) {
    // we replace the old node with a comment
    const comment = document.createComment('removed element');
    parent.replaceChild(comment, oldChild);
    return;
  }
  // no element previously
  else if (!previousNode) {
    const child = createChildElement(newNode);
    // if there was a comment we replace it
    if (oldChild) {
      parent.replaceChild(child, oldChild);
    } else {
      // otherwise we create a new child
      parent.appendChild(child);
    }
  }
  // type changed?
  else if (previousNode.type !== newNode.type) {
    const child = createChildElement(newNode);
    parent.replaceChild(child, oldChild);
  }
  // text changes
  else if (isTextNode(previousNode) &amp;&amp; isTextNode(newNode)) {
    // the previous node exists
    if (oldChild) {
      // update the text only if necessary
      if (previousNode.text !== newNode.text) {
        oldChild.textContent = newNode.text;
      }
    } else {
      // create a new text node
      const newTextNode = createChildElement(newNode);
      parent.appendChild(newTextNode);
    }
    return;
  }
  // properties changed?
  else if (!isTextNode(previousNode) &amp;&amp; !isTextNode(newNode)) {
    for (const prop in newNode.properties) {
      (oldChild as any)[prop] = newNode.properties[prop];
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dernier cas de figure de notre implémentation&#160;:
que faire si les enfants ont changé&#160;?
Et bien c&#8217;est assez simple&#160;:
on itère dessus et on appelle notre fonction <code>applyChanges</code> récursivement&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function applyChanges(parent: ChildNode, index: number, previousNode: VNode | null, newNode: VNode | null) {
  // no new element
  const oldChild = parent.childNodes[index];
  if (!newNode) {
    // we replace the old node with a comment
    const comment = document.createComment('removed element');
    parent.replaceChild(comment, oldChild);
    return;
  }
  // no element previously
  else if (!previousNode) {
    const child = createChildElement(newNode);
    // if there was a comment we replace it
    if (oldChild) {
      parent.replaceChild(child, oldChild);
    } else {
      // otherwise we create a new child
      parent.appendChild(child);
    }
  }
  // type changed?
  else if (previousNode.type !== newNode.type) {
    const child = createChildElement(newNode);
    parent.replaceChild(child, oldChild);
  }
  // text changes
  else if (isTextNode(previousNode) &amp;&amp; isTextNode(newNode)) {
    // the previous node exists
    if (oldChild) {
      // update the text only if necessary
      if (previousNode.text !== newNode.text) {
        oldChild.textContent = newNode.text;
      }
    } else {
      // create a new text node
      const newTextNode = createChildElement(newNode);
      parent.appendChild(newTextNode);
    }
    return;
  }
  // properties changed?
  else if (!isTextNode(previousNode) &amp;&amp; !isTextNode(newNode)) {
    for (const prop in newNode.properties) {
      (oldChild as any)[prop] = newNode.properties[prop];
    }
  }
  // children changed?
  if (!isTextNode(newNode)) {
    const maxLength = Math.max(
      newNode.children.length,
      previousNode &amp;&amp; !isTextNode(previousNode) ? previousNode.children.length : 0
    );
    for (let i = 0; i &lt; maxLength; i++) {
      applyChanges(
        parent.childNodes[index],
        i,
        previousNode &amp;&amp; !isTextNode(previousNode) ? previousNode.children[i] : null,
        newNode.children[i]
      );
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cette implémentation est loin d&#8217;être parfaite et optimale,
mais en à peu près 50 lignes de code, elle permet de comprendre le principe
du DOM virtuel&#160;!</p>
</div>
<div class="paragraph">
<p>Lorsque Vue détecte que l&#8217;état de l&#8217;application change,
il appelle la fonction <code>render</code> de notre composant,
puis appelle <code>applyChanges</code> avec le DOM virtuel précédent et le nouveau DOM virtuel.
<code>applyChanges</code> modifie le DOM réel
et Vue stocke ensuite le résultat de <code>render</code> pour la prochaine fois&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// first render
let previousRender = greetings.render();
// state update
greetings.user.isAdmin = true;

// Vue calls render again to get the new Virtual DOM
const newRender = greetings.render();
// and diff the changes to apply them on the real DOM
applyChanges(root, 0, previousRender, newRender);
// and store the new Virtual DOM as the reference
previousRender = newRender;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour récapituler, Vue a donc, au cœur de son fonctionnement,
deux éléments essentiels&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>un compilateur de templates (pour générer la fonction <code>render</code>)</p>
</li>
<li>
<p>une implémentation de DOM virtuel qui permet de détecter et d&#8217;appliquer les changements</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>L&#8217;implémentation du DOM virtuel était à l&#8217;origine
un fork de <a href="https://github.com/snabbdom/snabbdom">snabbdom</a>
mais elle a depuis été complètement réécrite pour satisfaire au mieux
les besoins de Vue.</p>
</div>
<div class="sect3">
<h4 id="_les_fonctions_render_et_h">29.3.1. Les fonctions <code>render</code> et <code>h</code></h4>
<div class="paragraph">
<p>Pour expliquer comment le DOM virtuel fonctionne,
on a écrit une version simplifiée de la fonction <code>render</code>.
Tu peux en fait jouer avec de compilateur Vue en ligne sur le
<a href="https://template-explorer.vuejs.org/">Vue Template Explorer</a>
pour voir à quoi ressemble une vraie fonction <code>render</code>.</p>
</div>
<div class="paragraph">
<p>La vraie fonction <code>render</code> est assez proche de la nôtre.
Et Vue te permet d&#8217;ailleurs, si vraiment tu le veux, de fournir ta propre fonction <code>render</code>.
Pour l&#8217;écrire, il te faudra utiliser une fonction utilitaire,
nommée <code>h</code> (c&#8217;est le même nom que celui qu&#8217;avait choisi <code>snabbdom</code>),
qui génère des nœuds du DOM virtuel.</p>
</div>
<div class="paragraph">
<p>Dans tes composants, au lieu d&#8217;écrire un template,
tu peux directement ajouter une fonction <code>render</code>
qui utilise <code>h</code>.
Ou, si tu utilises l&#8217;API Composition,
tu peux directement retourner cette fonction comme résultat de
la fonction <code>setup</code>.</p>
</div>
<div class="paragraph">
<p>Notre composant <code>Greetings</code> peut donc être écrit comme ceci&#160;:</p>
</div>
<div class="listingblock">
<div class="title">Greetings.ts</div>
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">import { defineComponent, h, reactive } from 'vue';

export default defineComponent({
  name: 'Greetings',

  setup() {
    const user = reactive({
      name: 'Cyril',
      isAdmin: true
    });

    function updateAdminRights() {
      user.isAdmin = !user.isAdmin;
    }

    return () =&gt;
      h(
        'div',
        /* children */ [
          h(
            'div',
            /* children */ [
              h('span', 'Hello ' + user.name),
              /* v-if becomes a simple condition */
              user.isAdmin ? h('small', 'admin') : null
            ]
          ),
          h(
            'input',
            /* props */ {
              type: 'checkbox',
              value: user.isAdmin,
              onChange: () =&gt; updateAdminRights()
            }
          )
        ]
      );
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir, c&#8217;est assez compréhensible,
mais pas aussi agréable à écrire ni à lire qu&#8217;un template HTML.
Néanmoins, c&#8217;est une alternative valide et puissante puisqu&#8217;elle permet
d&#8217;écrire le code que tu veux.</p>
</div>
<div class="paragraph">
<p>Il y a encore une <em>autre</em> alternative&#160;: JSX&#160;!</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_jsx">29.4. JSX</h3>
<div class="paragraph">
<p><em>Bientôt&#8230;&#8203;</em></p>
</div>
</div>
<div class="sect2">
<h3 id="_réactivité">29.5. Réactivité</h3>
<div class="paragraph">
<p>Nous avons vu comment Vue <em>applique</em> les changements d&#8217;état.
Voyons maintenant comment Vue <em>détecte</em> les changements d&#8217;état.</p>
</div>
<div class="paragraph">
<p>À nouveau, pour vraiment comprendre comment ça se passe,
j&#8217;aimerais réécrire les différentes fonctions réactives
que Vue propose&#160;:
<code>reactive</code>, <code>ref</code>, <code>computed</code> et <code>watchEffect</code>.</p>
</div>
<div class="paragraph">
<p>Commençons par un exemple simple pour
illustrer comment <code>watchEffect</code> fonctionne&#160;:
nous avons un prix et une quantité,
et nous voulons ajouter une ligne dans les logs
chaque fois que l&#8217;un ou l&#8217;autre change.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const state = reactive({
  price: 10,
  quantity: 1
});

watchEffect(() =&gt; console.log(state.price * state.quantity));
// logs '10' right away
// update the price and quantity
state.price = 9;
state.quantity = 3;
// wait for Vue to have run the watcher again
await nextTick();
// logs '27'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comment réécrire <code>reactive</code> et <code>watchEffect</code> pour faire fonctionner cet exemple&#160;?
D&#8217;abord, il nous faut savoir quand le prix et la quantité sont modifiés.
A-t-on un moyen d'<em>intercepter</em> une mise à jour de ces valeurs en JavaScript&#160;?
Oui, nous en avons un&#160;: avec des getters et des setters&#160;!</p>
</div>
<div class="sect3">
<h4 id="_gettersetter">29.5.1. getter/setter</h4>
<div class="paragraph">
<p>JavaScript a toujours eu quelques fonctionnalités de "meta-programmation".
L&#8217;usage de <code>get</code> et <code>set</code> en est un exemple.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony = { name: 'Rainbow Dash' };
console.log(pony.name);
// logs 'Rainbow Dash'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Même si cela ressemble à une simple lecture de propriété,
tu peux définir un getter pour accéder à cette propriété,
et faire faire quelque chose à ce getter chaque fois qu&#8217;il est invoqué&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony = {
  get name() {
    console.log('get name');
    return 'Rainbow Dash';
  }
};
console.log(pony.name);
// logs 'get name'
// logs 'Rainbow Dash'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Mais comment faire pour permettre le même genre d&#8217;interception sur
un objet existant, que tu n&#8217;as pas écrit toi-même, et qui n&#8217;utilise pas de getter&#160;?
Et bien depuis 2011 environ, JavaScript dispose d&#8217;une méthode <code>Object.defineProperty</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const pony = { name: 'Rainbow Dash' };
const value = pony.name;
Object.defineProperty(pony, 'name', {
  get() {
    console.log('get name');
    return value;
  }
});
console.log(pony.name);
// logs 'get name'
// logs 'Rainbow Dash'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Cet exemple est simpliste, mais c&#8217;est sur ce genre de technique que
de nombreux frameworks et librairies s&#8217;appuient.
Vue 2.x, par exemple, utilisait ce mécanisme pour savoir
quand l&#8217;état des composants est modifié, et donc déclencher une mise à jour du DOM&#160;:
il réécrivait chaque propriété en utilisant un setter,
qui change la valeur de la propriété bien sûr,
mais qui, en plus, notifie le framework que la propriété a changé.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">Object.defineProperty(component, 'user', {
  set() {
    this.user = user;
    heyVue2APropertyChanged(); // 🔥
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et il faisait cela pour chaque propriété du composant, au moment de son initialisation.
C&#8217;était efficace, mais ne couvrait pas certains cas assez communs.
Par exemple, ajouter une propriété à un objet après son initialisation ne déclenche
pas de changement&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">component.newProperty = 'hello';
// won't call heyVue2APropertyChanged() 😢</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour supporter ce cas d&#8217;utilisation,
Vue 2.x imposait l&#8217;usage de <code>Vue.set(component.newProperty, 'hello')</code>.
Ça fait le job, mais ce n&#8217;est pas très intuitif.</p>
</div>
<div class="paragraph">
<p><code>Object.defineProperty</code>, comme son nom l&#8217;indique, fonctionne sur des objets.
Mais sur d&#8217;autres types, comme les tableaux, ça ne fonctionne pas.
Donc là encore, dans Vue 2.x, on ne pouvait pas utiliser <code>myArray[3] = 'hello'</code>,
parce que Vue ne détectait pas le changement 😭
(voir la <a href="https://vuejs.org/v2/guide/list.html#Caveats">documentation officielle</a>).</p>
</div>
</div>
<div class="sect3">
<h4 id="_les_proxies_à_la_rescousse">29.5.2. Les <em>proxies</em> à la rescousse</h4>
<div class="paragraph">
<p>C&#8217;est là que les <em>proxies</em>,
une nouvelle fonctionnalité de JavaScript introduite dans la spécification ES2015,
peuvent être très utiles. 🌈</p>
</div>
<div class="paragraph">
<p>Le concept de <em>proxy</em> est assez connu en programmation en général.
Il décrit un intermédiaire entre un appelant et un appelé.
En ES2015, un proxy peut cibler des objets,
mais aussi des tableaux, fonctions, ou&#8230;&#8203; d&#8217;autres proxies
(mais pas les types prédéfinis comme <code>Date</code>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const user: UserModel = { name: 'Cédric' };
const handler: ProxyHandler&lt;UserModel&gt; = {};
const uselessProxy: UserModel = new Proxy(user, handler);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Le <em>handler</em> peut faire plein de choses, par exemple, du <em>trapping</em> de propriétés&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const handler = {
  get(obj: any, prop: any) {
    console.log(`${prop} was accessed`);
    return obj[prop];
  }
};
const user = { name: 'Cédric' };
const proxy = new Proxy(user, handler);
console.log(proxy.name);
// logs 'name was accessed'
// logs 'Cédric'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Il y a de nombreux <em>traps</em> disponibles&#160;:
<code>get</code> et <code>set</code> bien sûr, mais aussi <code>has</code>, <code>apply</code>, <code>construct</code>, <code>defineProperty</code>,
<code>deleteProperty</code>, etc.</p>
</div>
<div class="paragraph">
<p>Pour Vue 3.x, cela représente une opportunité très intéressante,
puisque les proxies résolvent le problème des propriétés ajoutées dynamiquement&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const handler: ProxyHandler&lt;any&gt; = {
  set(obj: any, prop: string | number | symbol, value: any): boolean {
    obj[prop] = value;
    console.log(`${String(prop)} was updated with ${value}`);
    return true;
  }
};
const user = {};
const proxy = new Proxy(user, handler);
proxy.name = 'Cédric';
// logs 'name was updated with Cédric'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Vue 3 utilise donc les proxies au lieu de <code>Object.defineProperty</code>, et n&#8217;a plus besoin de <code>Vue.set</code>.
Et comme les proxies permettent aussi d&#8217;intercepter les modifications
sur les tableaux, <code>myArray[3] = 'hello'</code> est bien détecté par Vue 3.</p>
</div>
<div class="paragraph">
<p>Note que les proxies impliquent un coût additionnel en termes de performance.
Ce n&#8217;est pas facile à mesurer, mais c&#8217;est plus lent que d&#8217;utiliser
<code>defineProperty</code> pour détecter une modification de propriété par exemple.
Vue fait tout ce qu&#8217;il peut pour être aussi performant que possible, et
n&#8217;utilise donc les proxies que lorsqu&#8217;ils sont nécessaires.</p>
</div>
<div class="paragraph">
<p>Revenons à notre préoccupation du moment,
et réimplémentons les fonctions réactives à l&#8217;aide des proxies.</p>
</div>
</div>
<div class="sect3">
<h4 id="_réimplémenter_les_fonctions_reactive_and_watcheffect">29.5.3. Réimplémenter les fonctions <code>reactive</code> and <code>watchEffect</code></h4>
<div class="paragraph">
<p>Pour rappel&#160;: nous voulons invoquer l&#8217;effet
suivant chaque fois que le prix ou la quantité est modifié.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const state = reactive({
  price: 10,
  quantity: 1
});

watchEffect(() =&gt; console.log(state.price * state.quantity));
// logs '10' right away
// update the price and quantity
state.price = 9;
state.quantity = 3;
// wait for Vue to have run the watcher again
await nextTick();
// logs '27'</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut commencer par mettre en place un mécanisme basique,
qui stocke tous les effets, et les appelle chaque fois
qu&#8217;une valeur réactive quelconque est modifiée.</p>
</div>
<div class="paragraph">
<p>Implémentons donc la fonction <code>watchEffect</code>.
Elle ne fait qu&#8217;invoquer l&#8217;effet et le stocker dans un tableau&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">type Effect = () =&gt; void;
const effects: Array&lt;Effect&gt; = [];
export function watchEffect(effect: Effect): void {
  effects.push(effect);
  effect();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Maintenant, réinvoquons tous les effets
lorsqu&#8217;une valeur réactive change.
Il faut pour cela que la fonction <code>reactive</code>
retourne un proxy qui enveloppe l&#8217;objet original.
Ce proxy intercepte les modifications,
et déclenche l&#8217;appel des <em>watchers</em>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export function reactive&lt;T extends object&gt;(object: T): T {
  return new Proxy(object, {
    set(obj: T, key: string, value: unknown): boolean {
      // set the value
      (obj as any)[key] = value;
      // recompute all effects
      effects.forEach(effect =&gt; effect());
      return true;
    },
    get(obj: T, key: string | number | symbol) {
      return (obj as any)[key];
    }
  });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et notre exemple fonctionne&#160;!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const state = reactive({
  price: 10,
  quantity: 1
});

watchEffect(() =&gt; console.log(state.price * state.quantity));
// logs '10' right away

// update the price and quantity
state.price = 9;
// logs '9'
state.quantity = 3;
// logs '27'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour être plus proche de la réalité,
on aimerait aussi détecter les mises à jour d&#8217;objets
imbriqués, comme Vue le fait&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const state = reactive({
  order: {
    price: 10,
    quantity: 1
  }
});

watchEffect(() =&gt; console.log(state.order.price * state.order.quantity));
// logs '10' right away

// update the price and quantity
state.order.price = 9;
// logs '9'
state.order.quantity = 3;
// logs '27'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour cela, on peut transformer récursivement les objets imbriqués
en objets réactifs, s&#8217;ils ne le sont pas encore, au moment où on y accède&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">function isObject(value: unknown): boolean {
  return !!value &amp;&amp; typeof value === 'object';
}
function isReactive(value: any): boolean {
  return value['_reactive'];
}

export function reactive&lt;T extends object&gt;(object: T): T {
  const proxy = new Proxy(object, {
    set(obj: T, key: string, value: unknown): boolean {
      // set the value
      (obj as any)[key] = value;
      // recompute all effects
      if (key !== '_reactive') {
        effects.forEach(effect =&gt; effect());
      }
      return true;
    },
    get(obj: T, key: string | number | symbol) {
      const value = (obj as any)[key];
      // convert the value to its reactive version if it is an object and not already reactive
      const newValue = isObject(value) &amp;&amp; !isReactive(value) ? reactive(value) : value;
      (obj as any)[key] = newValue;
      return newValue;
    }
  });
  (proxy as { _reactive: boolean })['_reactive'] = true;
  return proxy;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note que l&#8217;on exécute l&#8217;effet immédiatement, dès qu&#8217;on détecte un changement.
Vue ne fait pas cela&#160;: il retient qu&#8217;il doit appeler l&#8217;effet en le poussant dans une queue,
et il n&#8217;exécute les effets qu&#8217;au prochain "cycle"
pour éviter d&#8217;appeler le même effet plusieurs fois.
C&#8217;est la raison pour laquelle, dans l&#8217;exemple initial, je faisais
appel à <code>await nextTick()</code>&#160;: c&#8217;est ce qui déclenche le vidage de la queue et l&#8217;exécution
unique de chaque <em>effet</em>.</p>
</div>
<div class="paragraph">
<p>On peut réimplémenter cela relativement simplement,
en ajoutant un tableau d&#8217;effets à notre solution, et en n&#8217;y ajoutant
un effet que s&#8217;il ne s&#8217;y trouve pas déjà.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const jobQueue: Array&lt;Effect&gt; = [];
export function reactive&lt;T extends object&gt;(object: T): T {
  const proxy = new Proxy(object, {
    set(obj: T, key: string | number | symbol, value: unknown): boolean {
      // set the value
      (obj as any)[key] = value;
      if (key !== '_reactive') {
        // recompute all effects by adding them to the job queue
        effects.forEach(effect =&gt; {
          // but only if not already in there
          if (!jobQueue.includes(effect)) {
            jobQueue.push(effect);
          }
        });
      }
      return true;
    },
    get(obj: T, key: string | number | symbol) {
      const value = (obj as any)[key];
      // convert the value to its reactive version if it is an object and not already reactive
      const newValue = isObject(value) &amp;&amp; !isReactive(value) ? reactive(value) : value;
      (obj as any)[key] = newValue;
      return newValue;
    }
  });
  (proxy as { _reactive: boolean })['_reactive'] = true;
  return proxy;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>On peut ensuite vider la queue,
depuis la fonction <code>nextTick</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export async function nextTick() {
  // execute all the jobs in the queue
  jobQueue.forEach(effect =&gt; effect());
  // empty the job queue
  jobQueue.length = 0;
  return Promise.resolve();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et voilà, ça marche&#160;!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const state = reactive({
  price: 10,
  quantity: 1
});

watchEffect(() =&gt; console.log(state.price * state.quantity));
// logs '10' right away

// update the price and quantity
state.price = 9;
// does not log '9'
// as we have a job queue
state.quantity = 3;
// does not log '27' right away
// we need to call `nextTick` to drain the job queue
await nextTick();
// log '27'!</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notre implémentation a un problème majeur cependant&#160;:
elle déclenche l&#8217;appel de <em>tous</em> les effets,
chaque fois que l&#8217;on modifie une <em>quelconque</em> valeur,
même si cette nouvelle valeur n&#8217;a aucun intérêt pour un effet&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// update unrelated reactive value
(state as any).discount = 0.2;
await nextTick();
// logs '27' again!</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si Vue faisait cela,
les performances de l&#8217;application s&#8217;écrouleraient rapidement&#160;!
On doit donc faire mieux, et ne déclencher l&#8217;exécution d&#8217;un effet
que si son résultat dépend des valeurs modifiées.
Et pour accomplir cela, on va tracer les dépendances de l&#8217;effet.</p>
</div>
</div>
<div class="sect3">
<h4 id="_traçage_des_dépendances">29.5.4. Traçage des dépendances</h4>
<div class="paragraph">
<p>Le plan est donc de n&#8217;ajouter à la queue que les effets qui ont besoin d&#8217;être
exécutés parce qu&#8217;une de leur dépendance a été modifiée.
Notre effet trace les valeurs de <code>price</code> et <code>quantity</code>.
Nous devons donc ne l&#8217;exécuter que si l&#8217;une de ces deux
valeurs a été modifiée.</p>
</div>
<div class="paragraph">
<p>Lorsque <code>watchEffect</code> est appelé, nous allons donc&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stocker l&#8217;effet en tant qu'<em>effet courant</em></p>
</li>
<li>
<p>l&#8217;exécuter, pour tracer ses dépendances</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">let currentEffect: Effect | null = null;
export function watchEffect(effect: Effect): void {
  currentEffect = effect;
  effect();
  currentEffect = null;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>On veut à présent, pour chaque propriété dont dépend l&#8217;effet courant,
ajouter cet effet au tableau d&#8217;effets qui dépendent de cette propriété.
Lorsque l&#8217;effet est exécuté pour la première fois, il accède aux propriétés
des objets réactifs qu&#8217;il utilise.
On peut donc modifier la fonction <code>reactive</code>,
afin que chaque appel à <code>get</code> sur le proxy
trace la dépendance&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export function reactive&lt;T extends object&gt;(object: T): T {
  const effectsDependingOnKey = new Map&lt;string | number | symbol, Array&lt;Effect&gt;&gt;();
  const proxy = new Proxy(object, {
    set(obj: T, key: string | number | symbol, value: unknown): boolean {
      // set the value
    },
    get(obj: T, key: string | number | symbol) {
      // if we are in the process of tracking dependency for an effect
      if (currentEffect) {
        // get the effect currently depending on this property
        const effects = effectsDependingOnKey.get(key) ?? [];
        // and add the current one
        effectsDependingOnKey.set(key, [...effects, currentEffect]);
      }
      const value = (obj as any)[key];
      // convert the value to its reactive version if it is an object and not already reactive
      const newValue = isObject(value) &amp;&amp; !isReactive(value) ? reactive(value) : value;
      (obj as any)[key] = newValue;
      return newValue;
    }
  });
  (proxy as { _reactive: boolean })['_reactive'] = true;
  return proxy;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>L&#8217;implémentation de <code>set</code> est similaire à la version précédente,
mais peut cette fois n&#8217;exécuter que les effets nécessaires&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">// for all effects depending on this property
const effects = effectsDependingOnKey.get(key) ?? [];
// re-evaluate them by adding them to the job queue
effects.forEach(effect =&gt; {
  // but only if not already in there
  if (!jobQueue.includes(effect)) {
    jobQueue.push(effect);
  }
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et tout fonctionne&#160;!</p>
</div>
</div>
<div class="sect3">
<h4 id="_réimplémenter_les_fonctions_ref_et_computed">29.5.5. Réimplémenter les fonctions <code>ref</code> et <code>computed</code></h4>
<div class="paragraph">
<p>Notre petit exemple fonctionne, mais
tout s&#8217;écroule si on utilise une valeur primitive dans l&#8217;effet&#160;:
si cette valeur primitive est modifiée,
le <em>watcher</em> ne réexécutera pas l&#8217;effet,
parce qu&#8217;il n&#8217;est capable que de tracer les
changements effectués sur des objets réactifs.</p>
</div>
<div class="paragraph">
<p>C&#8217;est la raison pour laquelle <code>ref</code> existe&#160;:
elle enveloppe une valeur primitive dans un objet réactif,
dont Vue peut tracer les modifications.</p>
</div>
<div class="paragraph">
<p>Réimplémenter <code>ref</code> est donc très simple&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export interface Ref&lt;T&gt; {
  value: T;
}

export function ref&lt;T&gt;(value: T): Ref&lt;T&gt; {
  return reactive({ value });
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme tu peux le voir, une <code>ref</code> n&#8217;est rien d&#8217;autre qu&#8217;un objet <code>reactive</code>,
avec une propriété unique&#160;: <code>value</code>.</p>
</div>
<div class="paragraph">
<p>Qu&#8217;en est-il de <code>computed</code>&#160;?
<code>computed</code> est une espèce de <code>ref</code> "intelligente" (et en lecture seule).
On doit réexécuter sa fonction <em>getter</em>
chaque fois qu&#8217;on lit sa valeur&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">export function computed&lt;T&gt;(getter: () =&gt; T): Ref&lt;T&gt; {
  return {
    get value() {
      return getter();
    }
  };
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Et on peut donc à présent accomplir, bon an mal an, tout ce que Vue accomplit&#160;! 🚀</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="javascript">const state = reactive({
  price: 10,
  quantity: 1
});

const total = computed(() =&gt; state.price * state.quantity);
const discount = ref(0.1);
const totalWithDiscount = computed(() =&gt; total.value * (1 - discount.value));
console.log(totalWithDiscount.value);
// logs '9'
// update the quantity and discount
state.quantity = 2;
discount.value = 0.2;
await nextTick();
console.log(totalWithDiscount.value);
// logs '16'</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bien sûr, Vue va bien plus loin (pour gérer les cas à la marge, être plus performant, etc.)
mais tu devrais à présent avoir une idée plus précise de ce qui se passe sous son capot&#160;!</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="performances">30. Performances</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Attention"></i>
</td>
<td class="content">
Attention à ne pas optimiser prématurément.
Il faut toujours mesurer avant et après.
Fais attention également aux benchmarks que l&#8217;on trouve sur les internets&#160;:
il est assez facile de leur faire dire ce que l&#8217;on veut.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Le terme performance peut vouloir dire beaucoup de choses&#160;:
vitesse, utilisation du CPU (et donc consommation de la batterie), pression sur la mémoire&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>Tout n&#8217;est pas important pour tout le monde&#160;:
on peut avoir des besoins différents selon que l&#8217;on développe un site mobile,
une plate-forme e-commerce, ou une application de gestion classique.</p>
</div>
<div class="paragraph">
<p>Les performances peuvent être découpées en plusieurs catégories,
qui, une fois de plus, peuvent ne pas être aussi importantes les unes que les autres pour toi&#160;:
premier chargement, rechargement, et performances durant la vie de l&#8217;application,
ce que l&#8217;on appelle le <em>runtime</em>.</p>
</div>
<div class="paragraph">
<p>Le premier chargement se produit lorsqu&#8217;un utilisateur charge l&#8217;application pour la première fois.
Le rechargement se produit quand il ou elle revient consulter l&#8217;application.
Les performances au <em>runtime</em> concernent quant à elles ce qui se passe quand l&#8217;application est utilisée.
Certains des conseils suivants sont très génériques,
et pourraient être appliqués à n&#8217;importe quel framework.
Nous en parlons quand même parce que l&#8217;on pense que c&#8217;est intéressant et important à savoir.
Et aussi parce que, lorsque l&#8217;on parle de performances,
le framework est parfois le goulot d&#8217;étranglement,
mais très (très) souvent, ce n&#8217;est pas le cas.</p>
</div>
<div class="sect2">
<h3 id="_premier_chargement">30.1. Premier chargement</h3>
<div class="paragraph">
<p>Quand tu charges une application web moderne dans ton navigateur,
un certain nombre de choses se passent.
Premièrement, le fichier <code>index.html</code> est chargé et interprété par le navigateur.
Puis les scripts JS et les autres ressources référencées sont téléchargés.
Quand une des ressources demandées est reçue,
le navigateur l&#8217;analyse,
et l&#8217;exécute si c&#8217;est un fichier JS.</p>
</div>
</div>
<div class="sect2">
<h3 id="_taille_des_ressources">30.2. Taille des ressources</h3>
<div class="paragraph">
<p>La première astuce est relativement évidente&#160;:
fais attention à la taille des ressources chargées&#160;!</p>
</div>
<div class="paragraph">
<p>La phase de chargement des ressources dépend du nombre de ressources que tu veux charger.
Beaucoup de ressources veut dire que ce sera long.
Des ressources volumineuses également.
Particulièrement si le réseau n&#8217;est pas très bon,
ce qui arrive plus souvent que tu ne le penses&#160;:
tu testes peut-être l&#8217;application sur une bonne connection fibre,
mais certains utilisateurs sont peut-être au milieu de nulle part,
contraints d&#8217;utiliser une 3G lente.
Voici ce que tu peux faire pour les aider.</p>
</div>
</div>
<div class="sect2">
<h3 id="_faire_un_beau_paquet_le_bundle">30.3. Faire un beau paquet&#160;: le <em>bundle</em></h3>
<div class="paragraph">
<p>Quand on écrit une application Vue,
on a des imports un peu partout,
et notre code est réparti dans des dizaines, centaines, voire milliers de fichiers.
Mais on ne veut pas que nos utilisateurs chargent des milliers de fichiers&#160;!
Donc avant de livrer notre application,
nous allons faire ce que l&#8217;on appelle un "bundle"&#160;:
un seul fichier contenant tous les fichiers JavaScript.</p>
</div>
<div class="paragraph">
<p>C&#8217;est le travail de <a href="https://rollupjs.org/guide/en">Rollup</a> (pour Vite) ou <a href="https://webpack.js.org/">Webpack</a> (pour la CLI)
de prendre tous nos fichiers JavaScript
(et CSS, et les fichiers de template HTML) et de construire ces <em>bundles</em>.</p>
</div>
<div class="paragraph">
<p>Ce ne sont pas des outils simples à maîtriser pour être honnête,
mais Vite et la CLI font un assez bon travail pour cacher cette complexité.
Si tu n&#8217;utilises pas Vite ou la CLI, tu peux quand même construire ton application avec Rollup ou Webpack,
ou tu peux choisir un autre outil qui produira des résultats peut-être même encore meilleurs
(comme <a href="https://rollupjs.org/guide/en">Rollup</a> par exemple).
Mais attention, cela demande pas mal d&#8217;expertise (et de travail)
pour ne pas tout casser, et souvent juste pour gagner quelques kilobytes supplémentaires.
J&#8217;aurais tendance à te recommander de rester avec Vite (idéalement) ou la CLI.
Les équipes travaillant dessus font un très bon travail pour être à jour
avec les dernières versions de Vue, de TypeScript et des bundlers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tree_shaking">30.4. <em>Tree-shaking</em></h3>
<div class="paragraph">
<p>Rollup ou Webpack (ou l&#8217;outil que tu utilises) commence par le point d&#8217;entrée de ton application
(le fichier <code>main.ts</code> généré pour toi),
et résout ensuite l&#8217;arbre des imports, puis produit le <em>bundle</em>.
C&#8217;est assez cool parce que le bundle ne contient ainsi que les fichiers
de ta base de code et des bibliothèques tierces que tu as importés.
Le reste n&#8217;est pas embarqué.
Donc même si tu as des dépendances dans ton <code>package.json</code> que tu n&#8217;utilises plus
(et donc que tu n&#8217;importes plus),
elles ne seront pas dans le <em>bundle</em> final.</p>
</div>
<div class="paragraph">
<p>Les bundlers sont même un petit peu plus malin que ça.
Si tu as un fichier <code>models</code> qui exporte deux classes,
disons <code>PonyModel</code> et <code>RaceModel</code>,
et que tu n&#8217;importes que <code>PonyModel</code> dans le reste de l&#8217;application,
mais jamais <code>RaceModel</code>, alors le bundler mettra seulement <code>PonyModel</code> dans le <em>bundle</em> final,
et pas <code>RaceModel</code>.
Ce procédé est appelé <strong>tree-shaking</strong>.
Et tous les frameworks et bibliothèques dans l&#8217;éco-système font de leur mieux
pour être "tree-shakable".
En théorie, cela veut dire que ton bundle final ne contient que ce qui est réellement nécessaire.
En pratique, les bundlers sont sensiblement plus conservateurs,
et ne sont pas capables de comprendre deux ou trois choses à l&#8217;heure actuelle.
Par exemple, si tu as une classe <code>Pony</code> avec deux méthodes <code>eat</code> et <code>run</code>,
mais que tu n&#8217;utilise que <code>run</code>, le code de la méthode <code>eat</code> sera quand même dans le <em>bundle</em> final.
Donc ce n&#8217;est pas parfait, mais cela fait déjà un bon boulot.</p>
</div>
</div>
<div class="sect2">
<h3 id="_minification_et_élimination_de_code_mort">30.5. Minification et élimination de code mort</h3>
<div class="paragraph">
<p>Quand le <em>bundle</em> est construit,
le code est généralement minifié et le code mort est éliminé.
Cela veut dire que toutes les variables, noms de méthodes, noms de classes&#8230;&#8203;
sont renommés pour n&#8217;utiliser qu&#8217;un ou deux caractères à travers toute la base de code.
C&#8217;est un peu effrayant au premier abord et laisse penser que cela pourrait casser des choses,
mais ESBuild ou Terser fait un bon travail.
Ils vont aussi éliminer le code mort qu&#8217;ils vont trouver.</p>
</div>
</div>
<div class="sect2">
<h3 id="_autres_types_de_ressources">30.6. Autres types de ressources</h3>
<div class="paragraph">
<p>Alors que les sections précédentes concernent spécifiquement le JavaScript,
une application contient aussi souvent d&#8217;autres types de ressources, comme des styles, des images, des polices de caractères&#8230;&#8203;
Tu devrais avoir le même souci d&#8217;efficacité à leurs propos,
et faire de ton mieux pour les garder à une taille raisonnable.
Appliquer toutes sortes de techniques dingues pour optimiser la taille des <em>bundles</em> JS,
mais charger des images de plusieurs Mo serait contre-productif sur le temps de chargement et la bande passante&#160;!
Comme ce n&#8217;est pas réellement le sujet de cet ebook,
je ne vais pas creuser ce sujet,
mais cette ressource en ligne de Addy Osmani à propos de l&#8217;optimisation des images est vraiment excellente&#160;:
<a href="https://web.dev/learn/images/">Essential Image Optimization</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_compression">30.7. Compression</h3>
<div class="paragraph">
<p>Tous les navigateurs modernes supportent la compression des ressources,
et indiquent au serveur, via un header de la requête HTTP,
que le serveur peut compresser la ressource demandée avant de l&#8217;envoyer.
Cela veut dire que tu peux servir une version compressée à tes utilisateurs,
et le navigateur se chargera de la décompresser avant de l&#8217;interpréter.
C&#8217;est vraiment obligatoire car cela sauve une tonne de bande passante et de temps de chargement&#160;!</p>
</div>
<div class="paragraph">
<p>Tous les serveurs du marché ont une option qui permet d&#8217;activer la compression des ressources.
Généralement le premier utilisateur qui demandera la ressource payera le coût de la compression à la volée,
et ensuite les suivants recevront la ressource compressée directement.</p>
</div>
<div class="paragraph">
<p>L&#8217;algorithme de compression le plus courant est GZIP,
mais d&#8217;autres comme <a href="https://github.com/google/brotli">Brotli</a> sont également populaires.</p>
</div>
</div>
<div class="sect2">
<h3 id="_chargement_fainéant_le_lazy_loading">30.8. Chargement fainéant&#160;: le <em>lazy-loading</em></h3>
<div class="paragraph">
<p>Parfois, en dépit de nos efforts pour garder le <em>bundle</em> JS le plus petit possible,
on finit avec un gros fichier parce que notre application contient plusieurs dizaines de composants,
et utilise plusieurs bibliothèques tierces.
Et non seulement ce gros <em>bundle</em> va augmenter le temps nécessaire pour télécharger ce JavaScript,
mais il va aussi augmenter le temps nécessaire à l&#8217;analyse du code JavaScript qu&#8217;il contient.</p>
</div>
<div class="paragraph">
<p>Une solution courante à ce problème est d&#8217;utiliser un chargement différé ou <em>lazy-loading</em>.
Cela veut dire que plutôt que d&#8217;avoir un seul gros <em>bundle</em>,
tu découpes ton application en plusieurs parties et demande au bundler de construire plusieurs <em>bundles</em>.</p>
</div>
<div class="paragraph">
<p>La bonne nouvelle est que Vue (et son routeur)
rend cette tâche assez facile à accomplir.
Tu peux lire le
<a href="#lazy-loading">chapitre</a>
sur le lazy-loading pour en apprendre plus à ce sujet.</p>
</div>
<div class="paragraph">
<p>Le <em>lazy-loading</em> peut améliorer radicalement le temps de chargement&#160;:
tu peux rendre le premier bundle chargé très petit,
avec seulement le code nécessaire pour afficher la page d&#8217;accueil,
et laisser Vue charger le reste à la demande quand ton utilisateur navigue vers une autre partie de l&#8217;application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_rendu_côté_serveur">30.9. Rendu côté serveur</h3>
<div class="paragraph">
<p>J&#8217;aimerais commencer par préciser que cette technique n&#8217;est sans doute destinée qu&#8217;à 0.0001% d&#8217;entre vous.
Le rendu côté serveur (<em>server side rendering</em> ou <em>universal rendering</em>) est une technique qui consiste
à pré-rendre l&#8217;application sur le serveur avant de la servir à tes utilisateurs.
Avec cette technique, quand une utilisatrice demande <code>/dashboard</code>,
elle recevra une version pré-rendue du tableau de bord,
plutôt que de recevoir <code>index.html</code> et ensuite laisser le routeur faire son travail une fois que Vue aura fini de démarrer.</p>
</div>
<div class="paragraph">
<p>Vue offre un support natif qui permet de lancer une application dans un environnement différent du navigateur
comme par exemple un serveur.
Tu peux pré-rendre les pages et les servir à tes utilisateurs.
La page va alors s&#8217;afficher très vite, puis Vue prendra le relais et fera son travail habituel.</p>
</div>
<div class="paragraph">
<p>C&#8217;est aussi un gros avantage si tu veux que ton site soit découvrable
par les moteurs de recherche qui n&#8217;exécutent pas le JavaScript,
puisque tu peux leur servir une page pré-rendue, plutôt qu&#8217;une page blanche.</p>
</div>
<div class="paragraph">
<p>C&#8217;est également une façon de permettre aux réseaux sociaux comme Twitter et Facebook
d&#8217;afficher un aperçu de ton site.
Ces réseaux sociaux vont essayer de faire une capture d&#8217;écran d&#8217;une URL partagée,
mais comme ils n&#8217;exécutent pas le JavaScript,
ils ne verront rien de ta page générée dynamiquement,
à moins que tu ne leur serves une page pré-rendue par le serveur.
Donc si tu veux être sûr que l&#8217;aperçu soit parfait,
par exemple si ton application est un site médiatique,
ou un site e-commerce,
tu auras peut-être besoin de rendu côté serveur.</p>
</div>
<div class="paragraph">
<p>La mauvaise nouvelle est que cela augmente la complexité de ton application.
Il faudra mettre en place le serveur et réfléchir à la stratégie à adopter.
Veux-tu pré-rendre toutes les pages ou seulement quelques-unes&#160;?
Veux-tu pré-rendre toute la page, avec les données déjà récupérées et les vérifications de sécurité nécessaires,
ou juste des parties critiques de la page&#160;?
Veux-tu pré-rendre les pages au build, ou les pré-rendre à la demande et les mettre en cache&#160;?
Veux-tu faire cela pour tous les profils d&#8217;utilisateur et toutes les langues supportées ou juste pour certaines combinaisons&#160;?
Toutes ces questions dépendent du type d&#8217;application que tu construis,
et l&#8217;effort peut beaucoup varier pour atteindre ces objectifs.</p>
</div>
<div class="paragraph">
<p>Donc, encore une fois, je te conseille de te pencher sur cette technique
uniquement si c&#8217;est critique pour ton application,
et non pas seulement pour la hype&#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="_cache_pour_rechargement">30.10. Cache pour rechargement</h3>
<div class="paragraph">
<p>Une fois que les utilisateurs ont ouvert l&#8217;application une première fois,
il est possible d&#8217;accélérer les chargements suivants.</p>
</div>
<div class="paragraph">
<p>Tu devrais toujours mettre en cache les ressources statiques de ton application (images, styles, <em>bundles</em> JS&#8230;&#8203;).
Tu peux facilement le faire en configurant ton serveur et en utilisant les headers HTTP <code>Cache-Control</code> et <code>ETag</code>.
Tous les serveurs du marché permettent de faire cela,
ou tu peux aussi utiliser un CDN.
Si tu actives le cache, la prochaine fois que tes utilisateurs chargeront l&#8217;application,
leur navigateur n&#8217;aura même pas à faire de requête HTTP pour récupérer ces ressources car il les aura déjà en cache&#160;!</p>
</div>
<div class="paragraph">
<p>Mais un cache est toujours un peu traître&#160;:
tu peux avoir besoin de dire au navigateur
"Hé&#160;! J&#8217;ai déployé une nouvelle version en production, merci de récupérer les nouvelles ressources&#160;!".</p>
</div>
<div class="paragraph">
<p>La façon la plus simple de faire ceci est d&#8217;avoir un nom différent pour la ressource mise à jour.
Cela veut dire qu&#8217;au lieu de déployer une ressource <code>main.js</code>, tu déploies <code>main.xxxx.js</code>
où <code>xxxx</code> est un identifiant unique.
Cette technique est appelée du <em>cache busting</em>, ce qui pourrait se traduire approximativement par "faire péter le cache".
Et, encore une fois, Vite et la CLI sont là pour toi&#160;: en mode production,
ils vont automatiquement nommer les ressources avec un <em>hash</em> unique,
calculé grâce au contenu du fichier.
Ils mettent également automatiquement à jour les sources des scripts dans <code>index.html</code> pour refléter ces noms uniques,
les sources des polices de caractères, les sources des fichiers de style, etc.</p>
</div>
<div class="paragraph">
<p>Si tu utilises Vite ou la CLI, tu peux donc déployer en toute sécurité une nouvelle version et tout mettre en cache,
à l&#8217;exception du <code>index.html</code> (puisqu&#8217;il contiendra les liens vers les nouvelles ressources déployées)&#160;!</p>
</div>
</div>
<div class="sect2">
<h3 id="_performances_à_lexécution">30.11. Performances à l&#8217;exécution</h3>
<div class="paragraph">
<p>La magie de Vue réside dans son mécanisme de réactivité et son rendu VDOM&#160;:
le framework détecte les changements de l&#8217;état de l&#8217;application et modifie le DOM en conséquence.
C&#8217;est le principal travail de Vue, et donc, en règle générale, le meilleur moyen
de rendre l&#8217;application performante est de limiter le nombre et la taille des détections
de changements et la quantité de modifications à apporter au DOM (créations, modifications, suppressions).</p>
</div>
<div class="paragraph">
<p>Pour être honnête, la plupart des applications Vue n&#8217;auront aucun problème de
performance, sans avoir à appliquer une quelconque optimisation.
Lis le
<a href="#under-the-hood">chapitre</a>
sur la magie de Vue pour savoir pourquoi Vue est performant.</p>
</div>
<div class="paragraph">
<p>Malheureusement, certains d&#8217;entre nous vont devoir recréer Excel dans le navigateur
pour leur entreprise, ou ne vont pas échapper à un arbre devant absolument afficher
10&#160;000 clients, ou vont être confrontés à une quelconque autre demande déraisonnable
pour une application web.
C&#8217;est là que, quel que soit le framework utilisé, les choses deviennent plus compliquées.
Ces fonctionnalités nécessitent un nombre énorme d&#8217;éléments dans le DOM, et de composants Vue dans l&#8217;arbre de composants.
Les trucs et astuces qui suivent peuvent être efficaces dans ce genre de situation.</p>
</div>
</div>
<div class="sect2">
<h3 id="_key_dans_v_for">30.12. <code>key</code> dans <code>v-for</code></h3>
<div class="paragraph">
<p>Cette astuce peut réellement améliorer les performances de <code>v-for</code>&#160;:
ajouter une <code>key</code>.
Pour que tu comprennes le principe, laisse-moi d&#8217;abord t&#8217;expliquer
comment les frameworks JavaScript modernes (du moins, les plus populaires d&#8217;entre eux) gèrent les collections.
Suppose que l&#8217;on veuille afficher une liste de 3 courses. Le code devrait ressembler à ça&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li v-for="race in races"&gt;{{ race.name }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si tu ajoutes une course, Vue va insérer un nouvel élément DOM à la bonne position.
Si tu modifies le nom de l&#8217;une des courses, Vue modifiera le texte de l&#8217;élément <code>li</code> correspondant.</p>
</div>
<div class="paragraph">
<p>Mais comment fait-il cela&#160;?
En créant un lien entre les éléments du DOM et les objets contenus dans le tableau.
Vue utilise une table de correspondances qui ressemble à ça&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">node li 1 -&gt; race #e435 // { id: 3, name: London }
node li 2 -&gt; race #8fa4 // { id: 4, name: Paris }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ça fonctionne très bien. Si tu remplaces un objet par un autre dans le tableau, Vue
détruira l&#8217;élément du DOM correspondant et en créera un nouveau.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">node li 1 (recreated) -&gt; race #c1ea // { id: 1, name: Berlin }
node li 2 -&gt; race #8fa4 // { id: 4, name: Paris }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si tous les éléments du tableau sont remplacés par de nouveaux objets,
tous les éléments <code>li</code> du DOM seront détruits et recréés.
Tout cela ne pose pas de problème en général, excepté lorsque le but est simplement de
rafraîchir la liste avec un contenu qui sera pratiquement identique.
Dans ce cas, il serait bien plus efficace de garder les éléments du DOM existants,
et de faire les quelques modifications nécessaires.
Le problème, c&#8217;est que si tu vas rechercher cette même liste de courses sur le serveur
pour la rafraîchir, même si l&#8217;état des objets sera sensiblement identique à l&#8217;état précédent,
les objets, eux (i.e. leur référence) seront tous différents.</p>
</div>
<div class="paragraph">
<p>La solution est d&#8217;aider Vue à maintenir cette table de correspondances sans tout détruire
à chaque rafraîchissement, en lui disant d&#8217;identifier les objets non plus
par leur référence, mais plutôt par une propriété fonctionnelle qui permet de les identifier,
typiquement un ID de base de données.</p>
</div>
<div class="paragraph">
<p>C&#8217;est ce que permet de faire <code>key</code>&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li v-for="race in races" :key="race.id"&gt;{{ race.name }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dans l&#8217;exemple ci-dessus, Vue ne créera un nouvel élément dans le DOM que si l&#8217;identifiant
de la course change.
Sur des longues listes dont le contenu change peu, cela permet d&#8217;économiser des tas
de suppressions et de créations d&#8217;éléments.
Cette optimisation est plutôt simple à mettre en oeuvre et n&#8217;a pas d&#8217;inconvénient,
donc il ne faut pas hésiter à l&#8217;utiliser.
Il ne s&#8217;agit d&#8217;ailleurs pas que d&#8217;une optimisation.
<code>key</code> est aussi nécessaire en cas d&#8217;utilisation d&#8217;animations.
Si le style d&#8217;un élément est supposé s&#8217;animer
(en transitionnant progressivement de la valeur précédente à la nouvelle valeur),
et que la liste de courses est remplacée par une nouvelle liste à chaque rafraîchissement,
alors <code>key</code> est indispensable. Sans elle, l&#8217;animation ne va jamais se déclencher,
puisque le style des éléments ne change jamais&#160;: l&#8217;élément lui-même est remplacé par un autre.</p>
</div>
</div>
<div class="sect2">
<h3 id="_v_memo">30.13. <code>v-memo</code></h3>
<div class="paragraph">
<p>Vue 3.2 offre une astuce pour les performances&#160;:la directive <code>v-memo</code>,
qui permet d&#8217;optimiser agressivement les templates dans certains cas limites.
Tu peux penser à <code>v-memo</code> comme un équivalent de <code>shouldComponentUpdate</code> en React,
mais disponible pour les éléments ou composants dans Vue.</p>
</div>
<div class="paragraph">
<p>Supposons que nous avons un template comme celui-ci&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li v-for="race in races" :key="race.id" v-memo="[race.name]"&gt;{{ race.name }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sans <code>v-memo</code>, un changement dans l&#8217;une des propriétés d&#8217;une course,
même si elle n&#8217;est pas affichée à l&#8217;écran comme son pays,
entraîne la création d&#8217;un nouvel élément <code>li</code> virtuel qui sera comparé par l&#8217;algorithme de DOM virtuel à la version précédente
(relis le
<a href="#under-the-hood">chapitre</a>
sur le fonctionnement de Vue sous le capot pour en apprendre plus à ce sujet).</p>
</div>
<div class="paragraph">
<p>Avec <code>v-memo</code>, l&#8217;élément virtuel n&#8217;est pas recréé et le précédent est réutilisé,
sauf quand les conditions de <code>v-memo</code> (ici, le nom de la course) changent.
Cela peut avoir l&#8217;air d&#8217;une toute petite amélioration,
mais c&#8217;est en fait un gros gain de performances
si tu affiches de grandes listes d&#8217;éléments.
le populaire (bien que discutable) <a href="https://github.com/krausest/js-framework-benchmark">benchmark des performances des frameworks JS</a>
a un benchmark testant exactement ce cas-là,
et Vue v3.2 a parmi les meilleurs résultats avec cette fonctionnalité,
sans avoir besoin de créer un composant dédié pour chaque ligne
et d&#8217;astuces pour améliorer les performances
(comme <code>shouldComponentUpdate</code> en React).</p>
</div>
<div class="paragraph">
<p>Tu peux voir que <code>v-memo</code> accepte un tableau de conditions,
donc tu peux écrire quelque chose comme ça&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li v-for="race in races" :key="race.id" v-memo="[race.name, selectedRaceId === race.id]"&gt;
    &lt;span :class="{ selected: selectedRaceId === race.id }"&gt;{{ race.name }}&lt;/span&gt;
  &lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alors le <code>li</code> ne sera mis à jour que si le nom de la course change,
ou le test de la course sélectionnée a un résultat différent.</p>
</div>
<div class="paragraph">
<p>Note que si la liste affiche une propriété non listée dans les conditions de <code>v-memo</code>,
alors la liste ne sera pas mise à jour quand la propriété change&#160;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code data-lang="html">&lt;ul&gt;
  &lt;li v-for="race in races" :key="race.id" v-memo="[race.name]"&gt;{{ race.name }} - {{ race.country }}&lt;/li&gt;
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Si le pays de la course change, la liste n&#8217;est pas mise à jour.
Si le nom de la course change, alors la liste sera mise à jour,
et affichera le nouveau nom et le nouveau pays.</p>
</div>
<div class="paragraph">
<p>Cette astuce n&#8217;est réellement utile que pour afficher des très grandes listes,
et ne sera pas nécessaire dans la plupart des cas.</p>
</div>
</div>
<div class="sect2">
<h3 id="_conclusion_2">30.14. Conclusion</h3>
<div class="paragraph">
<p>Ce chapitre, j&#8217;espère, t&#8217;as appris quelques techniques permettant de résoudre
d&#8217;éventuels problèmes de performance. Mais avant tout, retiens les règles d&#8217;or de l&#8217;optimisation
des performances (en anglais dans le texte)&#160;:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>don&#8217;t</p>
</li>
<li>
<p>don&#8217;t&#8230;&#8203; yet</p>
</li>
<li>
<p>profile before optimizing.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Comme l&#8217;a dit un célèbre informaticien&#160;:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>l&#8217;optimisation prématurée est la source de tous les maux.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Donald Knuth
</div>
</div>
<div class="paragraph">
<p>Alors pense d&#8217;abord à écrire du code aussi simple, correct et lisible que possible, et ne pense
à profiler l&#8217;application, puis à l&#8217;optimiser, que si tu as réellement un problème de performance.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ending">31. Ce n&#8217;est qu&#8217;un au revoir</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Merci d&#8217;avoir lu ce livre&#160;!</p>
</div>
<div class="paragraph">
<p>Quelques chapitres seront ajoutés dans des versions ultérieures
sur des sujets avancés, et d&#8217;autres surprises.
Ils ont encore besoin d&#8217;être fignolés, mais je pense que tu les apprécieras.
Bien sûr, nous tiendrons à jour ce contenu
avec les nouvelles versions du framework et des différentes bibliothèques,
pour que tu ne rates pas les nouvelles fonctionnalités à venir.
Et toutes ces révisions du livres seront gratuites, bien évidemment&#160;!</p>
</div>
<div class="paragraph">
<p>Si tu as aimé cette lecture, parles-en à tes amis&#160;!</p>
</div>
<div class="paragraph">
<p>Et si tu ne l&#8217;as pas déjà, sache que l&#8217;on propose
<a href="https://vue-exercises.ninja-squad.com">un cours en ligne, le Pack Pro</a>, avec cet ebook.
Ce cours te donne accès à toute une série d&#8217;exercices
qui permettent de construire un projet complet pas à pas, en partant de zéro.
Pour chaque étape on fournit les tests unitaires
et de bout-en-bout nécessaires à une couverture de code de 100%,
des instructions détaillées (qui ne sont pas un simple copier/coller,
elles te feront réfléchir et comprendre ce que tu utilises)
et une solution (qui sans trop se vanter est probablement la plus élégante,
ou en tout cas celle conforme à l&#8217;état de l&#8217;art).
Un outil maison calcule ton score pour l&#8217;exercice,
et ta progression est visible sur un tableau de bord.
Si tu cherches des exemples de code concrets, toujours à jour,
qui peuvent te faire gagner des heures de développement,
cette version pro est là pour toi&#160;!
Tu peux même <a href="https://vue-exercises.ninja-squad.com">essayer gratuitement les premiers exercices</a>,
pour te faire une idée concrète.
Et vu que tu es déjà le possesseur de cet ebook,
on te remercie de ton soutien
avec un généreux code de réduction pour le pack pro
que tu peux aller chercher <a href="https://books.ninja-squad.com/discount?propack=VueProPack">à cette adresse</a>.</p>
</div>
<div class="paragraph">
<p>On a essayé de te donner toutes les clés,
mais l&#8217;apprentissage du web se passe souvent comme ça&#160;:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<a class="image" href="http://oktop.tumblr.com/post/15352780846"><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gxYSUNDX1BST0ZJTEUAAQEAAAxITGlubwIQAABtbnRyUkdCIFhZWiAHzgACAAkABgAxAABhY3NwTVNGVAAAAABJRUMgc1JHQgAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLUhQICAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABFjcHJ0AAABUAAAADNkZXNjAAABhAAAAGx3dHB0AAAB8AAAABRia3B0AAACBAAAABRyWFlaAAACGAAAABRnWFlaAAACLAAAABRiWFlaAAACQAAAABRkbW5kAAACVAAAAHBkbWRkAAACxAAAAIh2dWVkAAADTAAAAIZ2aWV3AAAD1AAAACRsdW1pAAAD+AAAABRtZWFzAAAEDAAAACR0ZWNoAAAEMAAAAAxyVFJDAAAEPAAACAxnVFJDAAAEPAAACAxiVFJDAAAEPAAACAx0ZXh0AAAAAENvcHlyaWdodCAoYykgMTk5OCBIZXdsZXR0LVBhY2thcmQgQ29tcGFueQAAZGVzYwAAAAAAAAASc1JHQiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAABJzUkdCIElFQzYxOTY2LTIuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWFlaIAAAAAAAAPNRAAEAAAABFsxYWVogAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z2Rlc2MAAAAAAAAAFklFQyBodHRwOi8vd3d3LmllYy5jaAAAAAAAAAAAAAAAFklFQyBodHRwOi8vd3d3LmllYy5jaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABkZXNjAAAAAAAAAC5JRUMgNjE5NjYtMi4xIERlZmF1bHQgUkdCIGNvbG91ciBzcGFjZSAtIHNSR0IAAAAAAAAAAAAAAC5JRUMgNjE5NjYtMi4xIERlZmF1bHQgUkdCIGNvbG91ciBzcGFjZSAtIHNSR0IAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZGVzYwAAAAAAAAAsUmVmZXJlbmNlIFZpZXdpbmcgQ29uZGl0aW9uIGluIElFQzYxOTY2LTIuMQAAAAAAAAAAAAAALFJlZmVyZW5jZSBWaWV3aW5nIENvbmRpdGlvbiBpbiBJRUM2MTk2Ni0yLjEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHZpZXcAAAAAABOk/gAUXy4AEM8UAAPtzAAEEwsAA1yeAAAAAVhZWiAAAAAAAEwJVgBQAAAAVx/nbWVhcwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAo8AAAACc2lnIAAAAABDUlQgY3VydgAAAAAAAAQAAAAABQAKAA8AFAAZAB4AIwAoAC0AMgA3ADsAQABFAEoATwBUAFkAXgBjAGgAbQByAHcAfACBAIYAiwCQAJUAmgCfAKQAqQCuALIAtwC8AMEAxgDLANAA1QDbAOAA5QDrAPAA9gD7AQEBBwENARMBGQEfASUBKwEyATgBPgFFAUwBUgFZAWABZwFuAXUBfAGDAYsBkgGaAaEBqQGxAbkBwQHJAdEB2QHhAekB8gH6AgMCDAIUAh0CJgIvAjgCQQJLAlQCXQJnAnECegKEAo4CmAKiAqwCtgLBAssC1QLgAusC9QMAAwsDFgMhAy0DOANDA08DWgNmA3IDfgOKA5YDogOuA7oDxwPTA+AD7AP5BAYEEwQgBC0EOwRIBFUEYwRxBH4EjASaBKgEtgTEBNME4QTwBP4FDQUcBSsFOgVJBVgFZwV3BYYFlgWmBbUFxQXVBeUF9gYGBhYGJwY3BkgGWQZqBnsGjAadBq8GwAbRBuMG9QcHBxkHKwc9B08HYQd0B4YHmQesB78H0gflB/gICwgfCDIIRghaCG4IggiWCKoIvgjSCOcI+wkQCSUJOglPCWQJeQmPCaQJugnPCeUJ+woRCicKPQpUCmoKgQqYCq4KxQrcCvMLCwsiCzkLUQtpC4ALmAuwC8gL4Qv5DBIMKgxDDFwMdQyODKcMwAzZDPMNDQ0mDUANWg10DY4NqQ3DDd4N+A4TDi4OSQ5kDn8Omw62DtIO7g8JDyUPQQ9eD3oPlg+zD88P7BAJECYQQxBhEH4QmxC5ENcQ9RETETERTxFtEYwRqhHJEegSBxImEkUSZBKEEqMSwxLjEwMTIxNDE2MTgxOkE8UT5RQGFCcUSRRqFIsUrRTOFPAVEhU0FVYVeBWbFb0V4BYDFiYWSRZsFo8WshbWFvoXHRdBF2UXiReuF9IX9xgbGEAYZRiKGK8Y1Rj6GSAZRRlrGZEZtxndGgQaKhpRGncanhrFGuwbFBs7G2MbihuyG9ocAhwqHFIcexyjHMwc9R0eHUcdcB2ZHcMd7B4WHkAeah6UHr4e6R8THz4faR+UH78f6iAVIEEgbCCYIMQg8CEcIUghdSGhIc4h+yInIlUigiKvIt0jCiM4I2YjlCPCI/AkHyRNJHwkqyTaJQklOCVoJZclxyX3JicmVyaHJrcm6CcYJ0kneierJ9woDSg/KHEooijUKQYpOClrKZ0p0CoCKjUqaCqbKs8rAis2K2krnSvRLAUsOSxuLKIs1y0MLUEtdi2rLeEuFi5MLoIuty7uLyQvWi+RL8cv/jA1MGwwpDDbMRIxSjGCMbox8jIqMmMymzLUMw0zRjN/M7gz8TQrNGU0njTYNRM1TTWHNcI1/TY3NnI2rjbpNyQ3YDecN9c4FDhQOIw4yDkFOUI5fzm8Ofk6Njp0OrI67zstO2s7qjvoPCc8ZTykPOM9Ij1hPaE94D4gPmA+oD7gPyE/YT+iP+JAI0BkQKZA50EpQWpBrEHuQjBCckK1QvdDOkN9Q8BEA0RHRIpEzkUSRVVFmkXeRiJGZ0arRvBHNUd7R8BIBUhLSJFI10kdSWNJqUnwSjdKfUrESwxLU0uaS+JMKkxyTLpNAk1KTZNN3E4lTm5Ot08AT0lPk0/dUCdQcVC7UQZRUFGbUeZSMVJ8UsdTE1NfU6pT9lRCVI9U21UoVXVVwlYPVlxWqVb3V0RXklfgWC9YfVjLWRpZaVm4WgdaVlqmWvVbRVuVW+VcNVyGXNZdJ114XcleGl5sXr1fD19hX7NgBWBXYKpg/GFPYaJh9WJJYpxi8GNDY5dj62RAZJRk6WU9ZZJl52Y9ZpJm6Gc9Z5Nn6Wg/aJZo7GlDaZpp8WpIap9q92tPa6dr/2xXbK9tCG1gbbluEm5rbsRvHm94b9FwK3CGcOBxOnGVcfByS3KmcwFzXXO4dBR0cHTMdSh1hXXhdj52m3b4d1Z3s3gReG54zHkqeYl553pGeqV7BHtje8J8IXyBfOF9QX2hfgF+Yn7CfyN/hH/lgEeAqIEKgWuBzYIwgpKC9INXg7qEHYSAhOOFR4Wrhg6GcobXhzuHn4gEiGmIzokziZmJ/opkisqLMIuWi/yMY4zKjTGNmI3/jmaOzo82j56QBpBukNaRP5GokhGSepLjk02TtpQglIqU9JVflcmWNJaflwqXdZfgmEyYuJkkmZCZ/JpomtWbQpuvnByciZz3nWSd0p5Anq6fHZ+Ln/qgaaDYoUehtqImopajBqN2o+akVqTHpTilqaYapoum/adup+CoUqjEqTepqaocqo+rAqt1q+msXKzQrUStuK4trqGvFq+LsACwdbDqsWCx1rJLssKzOLOutCW0nLUTtYq2AbZ5tvC3aLfguFm40blKucK6O7q1uy67p7whvJu9Fb2Pvgq+hL7/v3q/9cBwwOzBZ8Hjwl/C28NYw9TEUcTOxUvFyMZGxsPHQce/yD3IvMk6ybnKOMq3yzbLtsw1zLXNNc21zjbOts83z7jQOdC60TzRvtI/0sHTRNPG1EnUy9VO1dHWVdbY11zX4Nhk2OjZbNnx2nba+9uA3AXcit0Q3ZbeHN6i3ynfr+A24L3hROHM4lPi2+Nj4+vkc+T85YTmDeaW5x/nqegy6LzpRunQ6lvq5etw6/vshu0R7ZzuKO6070DvzPBY8OXxcvH/8ozzGfOn9DT0wvVQ9d72bfb794r4Gfio+Tj5x/pX+uf7d/wH/Jj9Kf26/kv+3P9t////2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx7/2wBDAQUFBQcGBw4ICA4eFBEUHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh7/wAARCAK8AYUDASIAAhEBAxEB/8QAHQABAAIDAQEBAQAAAAAAAAAAAAYHBAUIAwIBCf/EAFoQAAEDBAADAwgGBQYKBggHAQIAAwQBBQYSBxEiEyEyCBQxQUJSYoIVI1FhcpIWcYGRoiQzlqGywjRDU1djc6Oxs9IXJYOTwdE1N0RkdeHi8EdUVXbD0/Hy/8QAFwEBAQEBAAAAAAAAAAAAAAAAAAIBA//EABwRAQEBAQEBAQEBAAAAAAAAAAACEiJCMgNiUv/aAAwDAQACEQMRAD8A7LREQEREBERAREQEREBERAREQEREBERARebhi22RuFQRGnOta+ii+WXW3WgdacEwMeYmJc6Vp9qD2REQEREBFiXCZFt8J6dMfbYjMATjrp11EBHxVqsawXm1X+0s3Wyz2J8J+mzTzJ7CX/39iDaIiICL59Hetd9PWPtux+mLf2vuedBt+7mg2aKLcScvgYPiEvI58d+QzHqA9kzy2MiKgjQefd61GeGXGvDs8mUtcU5VtuhCVQiTRESd5enQhqQl+HxfcmTSz0WNMkx4UV2VKfBmOyFTccMtRAR9Na1X5AlxZsVuXBkMSY7o7A8y5QwOn2iQ+lBlIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiIC464k5/kuM+UndJkO8Shix5kdl2KLpdk6wIBsBB4faLq8S7FXA/HzZ7jflDZF4p4h/AC6fmmnRflQZ1brfwznWez32AdznmEY2GJQk6LJfzhaiWw01pr8yjPkrZS3Y+DeU3C5yHDhWSSTwtbc9Q7IS0H7Ni/tKCcW+BrXDvAvp88hK5SPOmmCbCH2LY0Pbq8RF4v962PAiyTsi4F8RrPbQI5jxNdgFPE4YDv2fza6/Ms5yz00sHOOM2dXm9ZBjVzuTYQA84dhw3Ro1Ha9kRAuky5CXskRakrc8nzi1c+IUS4YxfH2Y18bikcedHbpSroeGrmnh3EipXu6S+xUz5P/E2Hw0cyGtxgSJNZjLdGmWx5F24EXSe3hp1lt7XT4Vv/JFtlxu/FibkwsdnEisvduYjyDd3wtj/ABFy+FVUslicLc+yjhRxFfxTLJr7trGXVme2/XYWDL0SGql4R7xrqPSQl7y+uPHFXJC4tvFjd9lwYdlLzeL2DvQ6ftmQ+ExqXT37dwqeeWFgLtwgRM4tMWrj8MfN7iLTfMiZ9hzp9wudK/CXwqkeBWMRsy4nWyzzm+2gmLrsrUvYEC9r8Wq3n6P5WDxL4wHmvAJiC+QR707cwjXNlnuF1oAI+0GnukVA6ftElOvIiJ2uDX4S59kN16Of+qDmueeKmBXjh5kx2e6kLzTuzsOSBdMhrbXbX2S94fe+HVdTeSFbig8HI8lxvsynzX5H6x20p/YU18k/S4kRFzdHMXlT8O8rlTLjnMW9g7ZmmAJ+CTptkxQB12EedRPb5f2qmOFHDO58R7pLg2l+2xKwwF185O3hItekREuZflXWvlRTfMuCF+L2nuwZH5nw/u81U/kORtrvlEz3WGGvzEZf3V0muXPPTXeUVOueD4Zi/CyHdn34zcLtp7x+KR1loH4KVE+n7h91QjM+HtxwTBMay2RcXGLtcZe7TbNdaxQ7PtALb3+7+ui6F8qDhjJzmxMXixtdrerWBUpH5/4UwXeQU+MfEP6yH2lzXlGRZ1xDullxi4MOPzoADEiwWmCaPbpEiMfe6R2Lp119lbJTqGI1J40eTqyxLk+Y3C5Rhobwj0ecNOekhH2CIO8fdJRvyVcQzvDrjkNuyKE9EtZaebUJ8TaJ4SLY2xpX0FQh6u7b5Vts+x7KsN8nNiwYe4+5c4LIUmOxOdHagVSJ8mvXz2r6urkvnyTb3mN2xG4NZVW5PtR3w8wlzQLd0CHvESLxiPLxfEo8q9LtREUqEREBERAREQEREBERAREQEREBERAREQEREBEXL/lc5XmNgy+1Q7VkMu22+RC7UWYp1AiMTLYjL2vZ6fQqmdJqnUCLmDhJ5R7vnDVo4hgAifKjd2ZDTX/XBT2fjH8vtLphl1t9oXmTE2zGhAYlzoVK+uiVOSa090VH8UPKCt2F5ZLxtrHJdxlRNaOuE+LIcyES6ekiLxD7K0+NeVDYp12Zi3zHZNniulqUsJVJAtU94x0EuX4dkzRqXRCLFiyWJcZuTGeB5l0BNt1othMa+itK09NFDOOGcSeH+EFfodubnPVkAxRt09Qptz6q/uUqT1FEOFOYxs7weDkTDQsG9sEhnbbsnRLkQ8/4qfcQqtPLHev0DDLLcrRPlwmGbhpJrGdJotiAtC2Hv5dJD81FWU6X0oLkXCvBMiyhvJLrYWnrk3USJzcqC7y8O4c9S/bRRryWs1mZfgTjF2muzLnbX+yeedLY3ALqAiL2vaH5VWHEfjNmWMcdLjFauIlZIEhqOUAmhqBNaiRl72/UXft7qZrRp0tlNhteS2OTZr3EblQZA6utlT9xUr6ip9qwsEwzHsJtBWvHIPmrJnu4VTqZmXvERelZ2N3u25HY4l9tEgZMGUG7TnKo7U/UXorz7lXnlCcV3+GzNoat0CPOnzzM6g84QiDQctvR7RVIRH5k/kSbJOGOA5HOO4XjFLe/Ld6nHxCrTh1+Ig1Iv2rf2Gx2iwWtu2WW3xoENrwssN0Aaff+v71i4Df/ANKMNtOQ9hSN5/GF6rW22la+rmt+pULV2uyWe2POv2202+E6/XZ048cGycr8VRp3raLAk3K3RpkeHKnxWJEkq0jtOu0Fx0qemgDXxfsQaHiBgWM53b2IeRwfOKRzqbDwHUHWi9epD9uvfRbnHLPbsfssWzWmP5vBiN9my3zqWo/rqtoiAiLDhzIs1ursKSxJbE6gRtHQ6UKniHu9aD4vNrt95tj9susNiZCkBo6w8OwGP6loeHuB43gsaXGxyEcYJbnavbukZfcOxdWo9Wv66rIvWaYvZcggWO63yJDuNwrWkdlw9d6/+HP1c/T6lJUBYvmkfzusukdrzio61d7Om/L7Oayl5uGIBUzKgiNOda19SD0Xzy5dwqqbr5QPDGBdHIB3qRJJquhPRojjrW33GNOr5VOsTyrHstt1Z2N3eNcY411Imi6gL7CGvUNf10TI3yItXfL3a7DbHLnerjGt8Nr+cekOUAf/APfuQbRFFsMzrEsxrJHG72xcDj8u3AKEBhQvXqVBLX71l5jlNhxK0Fc8iujVvjc9RI+dSMvdER6ir+pBvkVKS/KX4cNlyZC9yae81DoP9shU24bcSMW4gRpDmPynTei1Ht477ejobegtfWPxUTKdJqiIihERAREQEREBERAREQEREBERAXLnlv2tzz7Gbxu32Oj0aoc+rbYT2/V6V1GucvLhCv6P4y9T0UmPh+YBr/dVT9Jr5afC+H0fiX5NVvFgGRyC1uyhgP8AhKvJ0iqwZe6XP5S1Ja/yeOL7+KPsYDl7MhuMMzzeO87XU4BF09kYl6t+X4di9lTXyPb1GjcJr2c18WmLbcXXnXT8IN9kBEX9RKgOKecyeIGcVvQW6PD1MQig20PakAl0bl4jL+z4VX1yxLPK/geZ8ZHpI/8AttvYf+Ydg/uCojxO/wCj9sLO1g7EvtSii9c3nnyMRdMR+qES93q2IenqU88s7evEu1EY9X0K1t+LtXVVONwrY3kNpHLRnRLJKIXXXY4dZMbEOw/DsJCRD1dJa9S2flNfTsPyU6zi4JWek2h6i6+Efan+Ko6Wv7PSsXyvxGvBaVt6p0fl+dWhYGbWxYoDNmFgLYDAeaCx/N9ly6dfu5KmvLPuLbHDODb9w7WXcwrpz6iAAMiry/Fp+9RP0vyo/gNxYncOrvWNL3l45Ld2mR6dRMF4e1a+LXXYfaEfeXVHFS2w864OXdm2OszGpkDzuC6HeLhj9Y3Uf11Gn71x3BjWU+DVyffuEJu9he2jixyMe3NjstT1H3djEvkV/eRdlT1wxe54pLc2K0ui9F2L/Eu8+Y/KYl+dVU+kz/lWvkgZFS1cTvox0xGPd4pM9Xvj1h/eH5lD+PZ9pxnysv8A38qflER/urM4lWyVw242S/MdmhiTwnwSEv8AFEW4j8vUHyrT8TJrF/4m3q4QS2ZuM4nWiL3T8K31pi9vIsysnYN1w2Q71MF57DGvLwl0uD+/kXzVUR8tOZ23E+3xKeiPaQ/MTjhf3RVecM8ilYBxJg3V8HGyhSCYnM+1p4DH/wC/aFS/yuZLUvi2Mlg6Gy7aYpgdPCQl2hCSejy6i4FUoPB3FKU//TGv7KmqhHAmvPg9iv8A8Oa/sqbrkuRcK+Uze5l44z3lt93otphEi8u7QRES6fi3IiXdS/nlxYlfSHFLKJIlsJ3aQI/hEyEf7K6fmU6h8lTiHMy3FpVnvckpF2tJDTt3C5m+yXPUq/aQ61Gtf1K7FxB5Kl++huMUGM4ZUj3Ro4R+7sQ7B/EAj8y7fU1JLVZNEeuGN3KDGcJt+REdaaMK8iEiAqDWi5I8kHK5Nm4iDjjrpDBvLRBVsirqMgB2EvxEIkP5V2Yv5+YXJG08a7a+OrYRchEC9kRAX9S/hVSUsjy2YwhxEs8n/L2nT8jp/wDOrmw3PXGvJzjZvOLzuTCtRk7uX8681sHV+Ihp+ZUt5ZF6sl6yWwFZ7tBuDkWO+1JpGfF3siJwNaFr835Vn47M08iq+ALm1W5vYfh2ktFr/Gs8s9K8tmRcXsvv8m92W55JOnMEJu+YOHowJbaj2Q9Ij4unVXFwu4tyOJliufDrJahBvlwtz8eHcGegJBEBD1Up4T9rp6S1Lw+FeXkOAHmOUn/jO1i0L9WrqqG17Yl5Q7Ql4YWTE18hP6/2SVDD4YYdbMi4i/obkNzk2p6pux2jYbE9pDZdTZbeHwl+X4lLc+sN28n/AD20T8YyA5ZTGCMgeDQXQbIRq06Il1CW3i6dfZ8Kj3FSS7jXlAXu4RR0dhXvz0ORa7FsLv8AeWqzPJck4n5zSY9HOTPlkMeFDjiRCAbdIAPzERF+IkS7jwDKYeXYTbsnit1jsTGtzBwu9ohrUTEq/CQl3rjDifmN/wCK/EAGItH34pSewtFubLpEdtRLX3y8RF/dFdg8JcUriHDa041Kq24+0zWsrl3jVwyqR0/VzLkuZ79iOU8CuIDWXW61tXmzMOOebSCEqgAHQh0d5dQHQa+Lw/2VktpcHBXgXFwi4xciuN1fk3ujBAYMlowG3ip7x/N0/Con5coHWLiR0/mhcmUL8WrWv+4lZvCbjBi3EGlIsUyt95oNSct0guuoj4ibL0GP6ur3hFV75cQ8sZxkqenz92n+y/8Akk/TfKvuDHA5niDiv6Qu5KUFoZBxyZCHuWw6+1sPve6r64R8GLBw8uj11jXCdcLg61VsXXq0AQCvpEQH8I+LmuW+H/FvLcGxt6xY8UFpl6UUo3XmO1MSIRHUerXXpH2VLuHvGPjFe8whwIMn6eJ18e1h+ZtUpQPXzMBppTl7XNbU0yal2Si+R2IaVrTWvrovpcnQREQEREBERAREQEREBERAREQFQfltMifDq0P+tu7iP5mXf+VX4qt8o7Bbzn+ER7dY5DAS4cykkWXq6i9yAh129mvWqn6TTjy25Xc7fg9zxSGVWol0lA9KMS7zEBIdPwl0kX4RU88l/AHctzdq8zGv+p7MYvu1r6HX/EAf3i+H8S8cO4C53d8lj2+92p+yQOo5Mt2oFqIlqQhqRbEXs/mXYWG43Z8Sx6NY7FFpHhRx6aekjL2jKvtFX7VdUmZc1eW9GIMwx6Zr0vwDa2/A5t/fWfYMDY4leTDZvo5kP0gs1ZVIZ+Gp8nTrVgi90hKnzcvvW58tu1yH8ZsN2ZiuONQpDoPuCPS0JiOtS+weYUWX5EtxN/ALzbnP/ZbnuH4TaD+8JKfLfSCeT/xpbwuFTDcvYl+ZtyqNx3+XfC5lyJsxLv1Eu/4epbvy3W7e4xiswCE5TvnAgYnzEmvq6/h9NfEp5x14MQ88cZuln81tt7EtX5NQ6X2/jEfEQ+yXpVYeVfit/g2rEXhYfnWq0WukJ+YFNtXekdjH2RLUeRLZzo8opwv4H3vPMWHIot4gworhugAGBk4ZB3fqpTb2ua+PJjv7mL8ZYkOZsw1cd7ZJCvsOkXRt8W4CPzLp3yeLU/ZuDtghSor0ST2JuutOhqYkbhF1U+Zc/eU/w8udl4hHk2Pw5T0S5l52XmrREUaSPiLp94uvb3tk1rlmU58tDESmWO3ZnFa2dtxeazK0/wAiZdBV/Cfd865XEyExISISH2l/Qq3R3cs4cMRcotxMPXK30anxjoPOhkGp/d6e+n7FyJaOAvEe4X6TbCtIwWI5kHn0t0aNHqXiDXqLb4R/Ktmipe3lG2DsbhY84i0EoWTW5qQ6Q06RlC2O/wCYdS/Xuq6v14l3gbf54WxwoIQgL2iACLT8u2vyrtLiPw1auvBCmGQyJ+Ta4oHb3T7iJ5oen81Nh+ZcNlQgIhcEhIekhIdSEkmmU794C/8AqcxX/wCHApwoPwF1rwcxXXw/RwKcLlTrIv5ySpgxs5kXB+N52AXM3zZIte1+tIiH5l/Rtfz3xevZcYbfqXgyEB/LJ1XT83Omig3Z+1ZGxfLYHYPRZQyowEW2hCewj8Xur+jFok+eWuJM2CvbsA7sHh6hpXu+5cr+WfijkDLLfl8dovNbk0MWQQ+y8Hh/MH9hWz5LGVjknCuHDedrWbZi8yf5+5Tvar+TWny1Sup0Std7tOyPsqDVzl08/RzX847xGuD+VzokuMLFydnug6z4dHSMth/Mv6QrgXjvFds3GzJqN00Ok/zpv5xF3+0SfmU/OJfDC/8ADy3WqTf34fbXInRBmOZGTWmviLXX2/ZU+w1spXkdZe03QebN1F0vioJxiLb5VJPLKfG4YZhd1GndIcMqf9o0Bf8AgvryS7bHyLhRmONzv8HlySaP7hcYEdv4VuuTLF8huUNJ+VQfaJqK6P4RJ0f7yrPyigG28ecgdgn1jKYkCQ+yZNNEX8SyccuGWcBOIUs7pZ6uk5Hdit0OpAxLHxAYHr1U2Gha+LxD0rx4UY3euK3FcrhcBJ5kpnn12k66gI7bdn+IvCI+7+FPWmfy9PKfjk1xgnSnA7Mp8OLK1/E0IF/EBL3itZLwXu+PZpZXWLlZ73BadAzapqYmIkcY/FoY+yQ+L8wqZeW7bCZyXHLwIDQJEN2KRfEB7CP+1JTvgta7ZxH8m2Hjt4b2aa7WJvSnU0YGVWjH4hEhTXLc9LN4e5VaM1xiNkFne3Ye6TAvGydPE2fxD/8AP1qQOALoVAxEgKnIhrTnStFxtiF2yfyfeIkm2ZFCfkWed0u1Y8EoR8D7HPu3H2hr72peySnPFR7ifk8mNnHC/ILhcMdlxwBuLb3uzdjnTx7td2xc/wARU9CjKtI35U2CxsJyG15pitStQS5OtQjfV0jyh6hca18O1BLp94fiWJxxzUs74J4ZeJIiM4bi+zNoI6j2oNdRDT3SEqF8yiF6sPGPLZbUe9WfMLkbRFpSZHd7MC+HcdRW24wYjNwPhnhthuToFcJUqbOltgWwslUWAEBr7XIafv5q0Jv5IeHYvkmO3udf7JBuL0ecIMFIa30HsxL+8ulrTarZamas222w4Qe7HYFqn8K5K8nTixjPDvHLtDvUa5vvy5lHwpEaAqai2I95EY+6rNb8qLBydoJWPIhD3+yY/wD7VlTWlzUr4RQ7h1xExXO4r72O3AnnI+vbx3Wyada29HMa+r4qdymK5qEREBERAREQEREBERAREQEREBERAREQeLzTbrRtOtiYGPIgIedK0+xYVjstqscHzGz26Lb425H2MdoQDYq8y6RWzRAXwYiYVExpUa+mlV9ogJyREBERAVAcU/J1iZLkf0xjlyjWPzgjOa0bBO0Nwi23CglTl+pX+iayZaHBMfjYtiVsx6K6461AYo1Q3C2I6+sv381vkRAVYM8E+H7eaDlTVqfbmBIKVVjzgiYJ4urtNK+vbq7q8uas9EGnyjH7Lk1pra77bmrhCIxcJp3nrUh8Ne5fOL47ZsXtTdqsFuagwwKpUab9HOvpKta99VukQFzb5RHBfKsszksmxvzF9qQw02+y692ZiQd2/h5EOuvr27l0D9K26l7pY/PmPpKsfzmkXfr7LbXfl7u3ctiqmsn0508qHH5kLgJjoTnWn5VkkRmpLzY1EKj2RNVL82i1PkPXEaS8mtBF3k3Hkh8pGJf2hXTUlliSwbL7QOtHTkQGO1K/sWvsdgslho/9C2iDbvOD3dpFYFqhl71dU1zlOemVc7fAukQolygxpkcvE1IaEwr+wl52W0Wuyw/M7RbYdvj8+fZRWRaHn+oVsUUqaXJ8csmTWsrZfrXHuMUu/R4eetftGvpGv30XxiOMWTE7O3aLDb24UUa8+Q051IveIvSVfvqvcr9Yxu42U7xbxuhdQw6yQ7etPT4Oey2yDU5BYbNkFuK3Xy1xLlEKvOrMhoTHb7e/1r3stqt9mtbNstcRqJEYHRppoeQjRZ6ICq7jjwojcS4MN2lyct11gA4MVzTdoqHrtQ6eL2adVK933q0UQcu475LchyBvf8oGNMIi5txGO1AR/EVR/srbU8ley0Hry66c/gjNj/5roxFWqTmVUcIuC1k4d3yRd412uFwlutdg3V3UBAK151HUfF4R8Xuq10RSoREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQc2cbcrzXEuItyCz5NkDpnbmbjbbczBafjV+sIHQdppvQBENtttur8KlOZ3C928A4tYpKDIbRKsHm9xiMSC1bbHYxlR9vdIi3EurX71veKOCZDfcigZJiWQs2a7MwXra4chmrg1YdqJEQ8q9xjrzH1LZFgzNs4MS+H9ic58rO/CjOv1583HALrP8AWZbKkvTge5cHuEWLP3WU7Kmu2xo3X3S2M9h2Eq19fTyU3Wjwe1vWTC7HZpFWyfgW9iM6QV6dgbES5fdzot4pUKvuI+X3HCsls9zuFWf0SlgcSYevXFlF1NOEXuFqQfiIVYK0mY2C3ZRjc/H7s0TkOc1VpzSvIqfZUa+ohryKn30Qc75XxDziJ5N+G5F9OPt365XQqm+IiBOtAT5CJa0111ANveFT7jNndzj8GLLmuITasyJUyE61SmpC6J+Jo9vZ9RevuXhmvCpqXc+Gdkh2xy5WCxk6zcHJDg69gLY67t9wluY+yP8ACt3XhFazxCdiB3mcNkO7BcrdHboNSt+rgnVoCLbYN9/F4dlXKekfxzJYuS8b8OyiABttXfGJsV1k/Gw6w+BGBfEJEQq8VC7dw5xm38Q382hsSWrm+BiYUc+o3PXd2geoy1psXrU0U0Kn4oZnmls4hWzGcMg2yc79FSLrMjzKODV0AIREAMfCRdVKdJd/JQ9rjIzByO75BV2XLhXzHYE2w2siIiKURutEwA+otx6tfd2VmcQsFkZFdoV+smRSccv0SO7EGYwwD1DjueJswL76bDXn01Vc3Hg5dbHl2CUxG5T4zVutz8J+6UaaeKOY7GB1ad6dTI3RLXq8P4lU5G64mDxStnDZnLomVnButttjbl2t0WCw606Q12fMCMSqJCNa/D0KE5BOy+x5JDnQuJFxuDUPF3MiiHcSBqNdPrKbx6gGo8uy118RCRUJXpa7bkVww+ZZ8ykWx+ZIadjE/b2zFt1oh1odQP0F3948yFae08L8fd4d2LEctiQ8kGzsC0y9IY5d49Ow9XMe7lTlz9lNGVFcRbMNz4lNXay4y5eJWd46E21sk/Rh23TNW/rxd9WgiJdPvF7K6gxVm6MYzbGL4+2/dWojQTHQ8LjoiO5U+bmtVf8ACrXdr5i92Enob2Nvk5DGPyoFQJvQmqj7uvL0e6pYlUTIiIpUIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiLGlVeCM6TDQuvCBVbCpa0IvVTn6kGSiq39L+Mev/AKn4nP8A/czH/In6X8Yv8z8T+kzH/ImU6Wkiq39L+Mn+aCH/AElY/wCVP0u4y/5oYP8ASZn/AJEyaWkiqosu4z+zwgg/0kY/5V5Fl/G7n08ILf8A0iYRWltIqj/S7jh/mit39IGl+/pdxx/zRW3+kLKrKdLbRVJ+l3HH/NFbf6Qsp+l3HH/NFbf6Qspk0ttFUX6Xcc/80Vs/pC0v39LuOf8Amjtn9IWkyaW4iqP9LuOf+aO2f0haQMv44+1wgt37MiZTKtLcRVKOX8bva4QQf6RML6HMONftcH4P9JGP+VTlOlsIqp/TDjT/AJnYX9JGP+VfDmacZx//AAajF+rJGP8AlVZNLZRebRVJqhGOhVHnWn2L0UqEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQERYN2uEK0WyTc7jJbjQorROvvGXIWwHvIqoF2uMG0WyRcrnLYhw44bvPPHqAD9taqqbjL4g8TZAjiVwexDD/VdnGK+fXEfeZAupoPdItSr4vhWdj1ln8RLlHy7MIrzVjbco7Y7E9TlSg+zKkD7TpekQr3BT4layr5SryJwzONEAWuIWeecj6ZB3ftalX8BiQfwr9i3bIsPu8S35fcG7vZ57wxol57CjDrD5eBqQA9Gp16RcHXq1Eh6qErCWoyezw8gsM6yXBveNNZq05T1jQvap9hU9NK/bRSpt0UT4S3aXfOGuPXW4H2suRAaJ93/KHryI/m5bftUsQEREBERAREQEREBERAREQFiXGZFgQnZs6S1GjMhu688dAbClPWVa+he7hi2FXHCoIjTnWtfUqptURzizdvpy7UKuDwn/8Aqm318N1dAv8ACnqe01z8AegvEXsoPi6zst4pjSPh1wl4xiNalR291b1lXEfsjAXUDf8ApS1qXs93i2Vk4I8PbXDo0dsl3CT4jmy5rpSTL7dxIdfl1VkiIiNBGnKlPRRfSrRlWtyx6+YTHrdsQn3W7QI3XKsc6UcntWh9Pm7p8zB2g07hIiEvD016lOrJc4V6s8S7W2QMmHMaF5hyntCVOdFsFWHBG7A7OzXHK9gw5acjkUaiNO7iwy7q4PLpHpI6ulr7PePsqUrPRERQiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICrfiWFMoy+wcPx6oRl9L3ofejMOD2TRfc47r+wCVkKv7LRuPxzyUJVKDInWeA7CrX22mjfF2g/hMw2/GKJpYCIiKFA+Ld6kxLM3jFjKpZFkO8K3hT/EjUfrZJfYDQFt+LUfaWbmmZ2+wSWbSxHkXi/yh5xLVC5Vfc+M6+Fprn6XD5D+v0LHwLGrhFnS8qyd5qVk1zAW3aM97UJgS5jGZ29mniIvbLq+xEpLj9ri2WyW+ywh1iwIzcdka+oAGgj/uWyWBd7pbbREKXdLjEgRx9Lkl8Wg/MSh1eKdinO9lituveVuc9alaYREyJfe+5o1/GilgIqZLjvF+lZFuYwPK50mLXV8bY2zNo0Xu1Jpwh2+Hmt7C4xYu6xRy42zK7M562puPyuY/MAEP9aZTpZKKLYxxAwzJZNYtlyKDIl09MYnOzfp/2R8j/qUpRQiIgIiICIiAiIgr/jRKlO2ODiNsdcan5RMpbRcDxMx9SOQ78rQn8xCppbIUW326LbobIsxorYssNh4QAR1Gn7lCeIhhbeIeEZBM5Dbmn5UB16vhYdkgFGir7okQVDn7xirCQERRPMMytuNOsW6jMm6XuYNawrVDpvIf5e1r6ACnrMuQig/eIOXRsWs9XGg8/u8ghYttubL62U+deQDy931kXsiJVVeSsdk8MLbj+bk/SVJiOEzljwU/wlqU7u6/X7eydPanwbLMuOFZnLuQ8R3pcOmaQqfyC2t98MIvVzhkdabEblKls73anryHXxSKRnODXzh4U6/3SHbrdcmXYcqNcHRadA+oHWSAu/cS2HVUlPhISHahc6L6VGcKOJc93F2cWtWPXbKb1Z9orkgCCMwbAkQsPmbpCQ7gIl4Sr4llz+KmdBfXrLa+HkO/TY9dZTdsu5uhEL3HXSYFsT+HbmmTS6EVX2niHm3I/p7hBkcQh5a1gy40oS/MYcv61nDxUsUUueQ2jJMaa25dtdLW4DH7XQ2AfmJTlWlhIsK2XCBcoTcy2zo02MdOh6O6LgF+oh7lmoCIiAiIgIiICIiAiIgIiICIiAiIgIiICimd4zW/sw5sCcVtvlsdJ63TKBuIFUdSAw9tsx7iH8PrGilaIIGzkubwQ7G98Ppcx0O6sizT2HWHfipR82jH8NRr+Kq8SDiTlFajXzbBrcXd3EE24nT/AIDX+1r+FWEiCN4hiFlxZl6ttZdclyi3mTpLlXZUo/eddLqL9Xhp6qUURLJskz6W9CwN4LTYGnCak5I+xvV8hLkQRGi6T+ztS6fdoSlnFOY/A4Z5ROic+2j2eU63y94WirRe3D6BGtWB2G2w6CMePbmAb5e7Rse9EtNZuGGG2+SNwl2077c6em4Xpwpr9S96lXOYh8lBopn2TXYdh2Y9lrrrr3cvsXsiKYFnttus9vat9rgxoMRoeTTMdoQAP1DRZ6Ig0WTYvj+TRfNb9ZYVyb9nt2RIg+8S9I1+8VE52L3/ABJgrhhV0uVyjs97thuUopAPN+sWXT5uNOcvDzIgr6CH2lZKINLi19t2S2aPeLW+TsZ7nTkdNTaMS1Jsx9ImJcxIa+itFulXuP8AOycaL7aRpQIt9tzV3aCncPbtF2D9eXvVEo9aqwkBERAREQEREGqyO0wL9ZpVnukUJMKY0TLzZU586V/3V+yvqqooxB4kY9yiQJlqyu3hyoyV1fOJNEfdN0AMHfxaDX7dvErARBXz8HiTkL/Zz7pbsSt3PrbtZ+dzHfu7Z0BBr9gFVb3EMRsuNUdctsMqy5Vdpc6Q8T8qQX2m6fMi/Dz1p6lJEQVresgyTKr9cMXwZwbdEtzvm92v74dp2LuokTEcPbdoJDzIukfvqsrCeFmN4rkU2+Re3nTJbQUdeuHJ9+rokVSd7UqbUI9qbCOo9I9y+OAgjXBpD7n+Fv3u6HL29Pa+eOjXn+wRVhqksAbfBbuDtxCFGCY63RtyQLVO1MB9AkXprT7llgABzqAiOxcy5euq9EUqF8kIkNRIdqV9NF9Iggl44Z449KdudiZcxq816wn2n6kt/jAeh2n2iYlssnBMjnT35WP5Ey3DyW10Hzttv+alNFtpJZ94D1Lp8QEJCXxTJV7xFGtpz3CMnDnRus12zyqjTxNSg6Of3Udaa/eiVhIiIoREQEREBERAREQEREBERAREQEREBERAREQYl0iMXK2S7dJpzZlMGy5T4SHWv+9Q/gfNekcOLZb5lf8ArGy7WicPrF6OXZV/MIif6iop2q2yiPMwjKJWb2qI/LtE8QpkUFkKkYVCnIZjVPWQj0mNPEI0r6R6gslFh2u4Qrrbo9xt8pqVEkN0dZeaLYHBL0FSqzEBERARF8GQgNSKtBGneVaoIDej864+Y5FaoNCgWGfIfr8LrsYA/ibL9ysFVnwrd/SXM8nz8KUK3TCatdpcr/jY8bfd0fhN0z5fcCsxAREQEREBERAREQEREFeYAX0LxAy/FH+nzmX9OwP9Iy+Ii7y/C+B7f60ftVhqHZ7jc27BCvNjeaiZHZzJ23vO/wA25QvGw7y/xTg91fdrQSp4VkYVlsPJWX2iact93glQLha3y+viH8XvBX0idOkhQSlERAREQFXnGFwnJWF2drqfm5PDOlPgY2fOv5Wv61Yaqmz3OFnnGt2db5TT9qwyOcYTAqF2s2R0nWnwgAVHn7xF7qJpayIiKEREBERAREQEREBERAREQEREBERAREQEREBERBA5eA1hS352FX6TjD77lXX4gtDIgunWvOpEwfgKvrq0Qbe1svz6Q4qW2vKXj2OZA179vnnEd/7t0SH/AGinqIIIHEJ6NWoXfA8ygmPp7K3UmB+wo5GhcTbP7FizNwvdHGpnP/hKdoggFc3yedTWw8M789/pbo8zAb/iIj/gWHKxHMsvGjGc32JBs51+ts1j3oMgfcekHyMh+0QFvZWWiJYduhxoEJiDDYbjxo4C0002OoAA05UGlPsWYiIoREQEREBERAREQEREBUxneNwrtxvMnqSWZj2JG7Dlw5BsPsvMSPFQwIfU9TpLpryVzqu8np5vx4wuTtr51abpFL79SjOD/ZJVIg0G+cRrZwLicRIuYMXXS1tTpEK52oCr6B7URdaqFfe8QkSkt5znPLJOsMadiNpubd3lEyw9bLr1PfUOOjQRfAKCXRz7y5L04RW1q4cJLzhMnXs4U66WU/X0dq5r/AYqLWy5PzeFfCO7S+VZNvyGJBlVr6jEX4ZbfNyRKZ33iTc7DZZN0vHDjJ4saKOzrvbwibCm2vio/wDf9iwr5nPEJm/2O0RcHg2o7u+6w0d2uYlsYNE7/wCz78ukC/F8Km/ES0jf8Ev1kqNC8+t77A/iICpT+vkq1nXal4w/g3lhc9yu0Kj1fdq/FdaL+MhFB5ZzbMzO8Yqxm2VNuWS73X6Om26yNnCDrZcqFKu7k6YkYUEuofEt9i1st2NccZdltMNqDb5WLR3WmGQ0bEmJJh6Pt1dBbPj3Cfk8MLnOgiRT7OTV2i6+LeM4Lv8AEIEP7Vrsmmxi4mcNsril/JLq1Kt/ae8L7AvtfxMfxILPREUqEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAVecS6Ui57w5u3LpC8Pwir/r4bvL+IBVhqtvKGerb8IhZCLfaVsd7gXAh5+yL4gX8JkklPvhtzgcS+Itl517P6Ri3QKfdJjCJfxskq7uQDB4UZswNKiWOZ152NB9kPPGJG35HSVhkI23yixIh1C+Y1WlK+87Ff/wCSR/CtPc8Vl3DJ+KGNnCfG35LaWJMWTQPqqSOyNgx297mDRclSVvrniYBQOAeRwR22w3KTNjXp5NMTgkD/ALI1bXCe/Fk3DqyXd2hDKcii3KAvEEgOh0a/qMSUM+jGpmbcVMFdGghf7cxcI4F4S7Vgo7hfnaD96SLYksszYjjDo0Nl4KgVPeEqKg4sh2JwNxx18q+d4Rk8aJLpUvDRiV5uX+ydEv2q0uDN9/SHhfj1yIqk/wCZAzLpXxA+0Ojo1+/cSWnn8NnrhTP7c7cQj2rKeyeYFoKkcWR2Qg651dxbVAC/YgspF4RwNtgG3DJ0wGlKnWnir9q91KhERAREQEREBERAREQEREBFosxyCDi+MTr9ce0JmK3zFtvvN069wNh9pERCNPvqoNb8y4jWZit4z/DYEeyl9Y67aZZPP24PeebLxiPTsTfo6q6oLWRYsKSxNisSojwPMPAJtugWwmNac6FSvrospAREQEREBERAREQEREBERAREQERanJbm3ZMfuN4fqxRqFHN8u2d7JvkNOfUffr+vkg2yKoMdyjjTkNqi3eNhuLWyJKqJNMz7i/R8Wy9BkIt9P6vF9ykNnzG9xL3EsmdWFmzyJ7lWoM6HL84hSneW3ZbEIk24Q0LUSHq1LlXn0plOk+RERQiIgIiIC1GUWO25Lj82xXdgn4M1qrTzYmQ1IfxU76Lbog1b1nt71zgXJ6KBzLcBtxXzpzJoToND1/FqP7ltERBp7FY7XY25bdqiUjBLmOzH6CVdSecLYy7/AEc6/Yvb6Itn6QfpB5o19Jea+Z+c+12O2+n4du9bJEGssdotlkiFEtcRmFHN9x8m2h1EnHCIzL9pEVVs0WHPmxYEJ2bNktRozAEbrzx0AAGnpIir6EGYi02MZHYsmglcMfuka5RQPsidYPYaFy58v4qLcoCIiAiIgIiICIiAiIgIiIK94mtDOzPh9aHq8ojt5dmOh75R4zrrf8epfKvWU64fHmBHI61aaxiUfZ7d3MpTA8+X6hWVxOtlxkw7VfbJFOXdbBPGcxGGtKFIDUmn2qVLu2Jpw9fioKit9y+TkU0YuBYvd2smkM1huXW5Wh2K1amSLmZGTojuQkO1AHbYlSW74P0ZjHlllt9a1s9qv7kWAPstDVppxxofhB0zGn2eH2VDpV6y7C8pzSc9kr95s9kKPPegXEA3rCfEiImXREdTAgdERLYSERHpKuytPB8bg4hjESw26rhtRxrVx52vNx50i2N06+siKtSqtLlvDTGcoyRu+Xrz+RUWAYfhDJKkWSLZEbfatU8etTKtB8PV30qmhArdxSyaFxldxLIZFjciPyxaitRGHR0aNhx1p0nzLWpdACQa+I+nwrU4Dxhv7mPRHbrPiXWTDaaulyIIhA4cA66v0EeQiLsepAZa8xIOXtbK3p+D2e4X653G5N0nRblbmbe/AeASY1aNwgOlNfF9aX6vUshnDceYjWOMFuCjNiGoW4dq/VBUKtVH4qVCtaVpXnz7k1Iq64cRrhcxvuJx7vVu80yyHDtz7OoEcJ59s9g18YiAuiVfd129KvhRix4RiVmKPW241bYxRX3ZEcm49ObBueOoV9jb7BUnUqVZmPEXIbReXii4mFLHCuMe3vTJ0qrTst11wB1itUGu+u/PYiGldS91WmofxEw6mXR7dUbvPtMq2yvOo0mIIEQHoQeExIfCZcq+zXvW8x22BZrNFtYTJ84WB184nSCffc9exnXxVQam4ZHIZzq14rBg+cuyYz02W+Tmgx44VoFK0p7RE4QjQfs2rzWHk2YuQjyu2wofO4WixfSkcnC5hI2o/SlOXwmzyL8SzMuxJu/SYlwjXa4Wa7QwNti4QSDtaNny3bITEgMK6jXkQ9xCNaclg4/w4sNkjC1EdmG59FO2x5157cpAuOE6Zn7x7m4W3xkiVc4zmGdU4WX/ACV25zJrcgYTFlnXGGDNSffMWnXQaAR+oE3QqG3eWherkrIza5XfFsPthR5nn0+txt0J2VIbHm6LslpozIR1pStaEXoWDjHCuxWfEa445KuEyDItoQ5bBSTow6YjQavgFSLsjLlz6K0ovn/oyCWzObv+W5JeTfpHCO85JFk4gsOC6BB2QiPabiJEdR2rqqGi403S4M5vZbRDuWYAw/bZj8mJY+yaI9Ca0Mn3R1Aeo9i3HXp9G3Vh8QbnfGMcsL91hX6JiDFsKTdq2W4tPSa6a6NuyCMC7LTYiMOoq923vS248JcLuEK1QJ0efKj22joiLk90vORdMTd7fq+t2MaEWy3GQYVZL9ItX0k28dttfexahKgwzIddCNqlOvTl0jXpp9iDd2UoZ2eGcGh0i1YCrO+22mvTz26vR9qz0RSoUC46gB8PH6SOXmlLjbqy6ersfPGO02+HXnt8Knq199tkK92abaLi1R6JNYOO+HvAQ6kgi/GV60x+HlyevUSXOY6BahxpJsuSnycEWmaEBCXWdRH9SgBDbYfkx3a1Vug3CbYGjBx9oiIWbiB0dBtoy8XZumADyrX0ar2zKFen8VYwzNrTllwZhyWnYV/x1sX3ZAtF0E4Hjad17i6ajt1UJbDFsclZIVntjeOTMUwSwk29GtksKBJuT4FsBOhzro0JdepdRn1F6FSWdxwtjUqXhst243K21K9DCdfhTzZIBdad1LpLWtRdFou8S8OvhIlVmdcS8jcg4pLcvM5th9m5RHJVrlDFalS4zotBK3Iaj2BdxkPhESLxaroLOMPsWaWtm2ZHEclw2pIyKM0fMBIx58ttSpsPf6F+SsPsD9xx6YEEYzmPGZW5uP8AVNtCYaEOo92uvq+5NGVZ5bxWuOLO4qT92x24wztPnt5lNH0ydXWmj81IS1ItjM9eXeIKSZ/xNC02KLLsMUJLl0tz8i1vyqG20b4G0ANkFaCfV2u3q6QJSGRg2PP5XGv5wGCciwnYTMarIdgFHT3cOg69x17x2+wi95eL/D7GpmM2fH7lGkTodmeaegVfeLtWiar0dY8qlQadPKvpH07JydNHiOeTMozKz2qILUerFpkvX+JXvciyhdBoWq+sesX/AMQ8i+xWcsJmDCZmvTGobDcmRr2zwNDQ3dfDtX0lyWapUrbNclzy1Z3arJZ7Vjj0C6k63FelzHhOpg12pb0FuuvhPXltt8K0PFTivIxS53u0k6xHnQIEGfFEI5u+cETrnbtV7vDoA9fTrsrLvVgh3a8WS6vm+EizSTkR+zLpIjaNoqF9tNTJYGTYRZcguFxl3Gsuv0laK2iSAO6iTO9TEqfYY1IuRfeqShNy4gXmXk9ytjV9xjFLVbo8aW7LuTbhyibfEiESaMmqNH094ltXqHp71bUd9qRHbfZMXWnAoYGPoKlfWq5zrhVFyTLYuQxruVsltxwjSHQgMvPuAB7UIHTps074h3pzryVliPIaU+xSInk12nW/O8UgNGNLfdClx5Aa07zFrtQLn+pt396iHGrIMpt2UY9Z7I/emYd0akC/9GRo9XzcAdhAHX+kO7epFWnSI7KwMpxy0ZRb24F7iG+w07R5rR9xowcpQh2EwISGupFTur7VVgHgGKPY3+jc62FcrVR/zijNwkuyqif20N0iL+L2iVCq7jxLvj0XFcetrr5vz23X33rKYXeYbDDnZaCeotdqZCe7pdA6lrsppk0iNxK4T+f2U2mWSlA+Ue6fVNO1jSNnI7xDtQRImqiRU2p+Jb7IOHuH3puI3NsbLdIbPm8c4jhxTba/yQk0Ql2fweFbI8Yx48Zaxg7NBOyg2LQwTYoTWg+Eda/qQanhnmttzezSZcCMcZ2FIrElM7g6FHRoNfq3WyqBh391Rr+5TJYsCJGhRW4kOO1GjtDqDTLdAAKfYI09CylKhERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQFH8Yymy5FIu7Npldu5aJxwZg68tHR9P66ff91VlZHfbPj1pdu17uMaBCY8bzzmo0+776/cucuEuUMW+6W3JLLZsllRZ781nInYtofdYMDkOvR3xqAlsYb6Fy79T+FVlOnSc65QIEqHEmTmGZE5wmorbp0EnjoO1RCntV1EqrYLnHKspt2Yca8ausCeXmWP3OFEajutk08bsoXe1cJo6CYiOrAeHxES6OUqEREBERAREQEREBERAREQEREHm44DQVNyoiAU51rX1LS4Zk9nzDHY9/sMrzmDI2oB1HUuYlUSpWlfR3itNxhyizYtgd0lXW5x4bsiG8zDF0up50gLURH017+X6lyPnVyuFjtVknYlLymzWWXbmmZGzT8Jg5QtADpAXSJiYtAX4hIlUzpNU7fK5W+l3paKzWBuBM1kUi1cp2pNULXfX068+7mtguTfJslPyM2x/IbzfRmvO224W/wCtkbnHYY7Aw3Ii2Hbd0ur2RXT1jvlnvsc5FmusO4stnUDcivi6IlT2a6pU5JptERFKhERAREQEREBERAREQEREBERAREQEREBERARE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" alt="How to draw a horse by Van Oktop" width="400"></a>
</div>
<div class="title">How to draw a horse. Credit to Van Oktop.</div>
</div>
<div class="paragraph">
<p>Alors on propose aussi <a href="http://ninja-squad.fr/training/vue">une formation</a>,
en France et en Europe essentiellement,
mais pourquoi pas dans le monde entier
(et c&#8217;est aussi possible à distance).
On peut aussi faire du conseil pour aider ton équipe,
ou même travailler avec toi pour t&#8217;aider à construire ton produit.
Envoie un email à <a href="mailto:hello@ninja-squad.com">hello@ninja-squad.com</a> et on en discutera&#160;!</p>
</div>
<div class="paragraph">
<p>Mais, surtout, j&#8217;adorerais avoir ton retour sur ce que tu as aimé, adoré, ou détesté dans ce livre.
Cela peut être une petite faute de frappe, une grosse erreur,
ou juste pour nous raconter comment tu as trouvé le job de tes rêves grâce à ce livre (on ne sait jamais&#8230;&#8203;).</p>
</div>
<div class="paragraph">
<p>Je ne peux pas conclure sans remercier quelques personnes.
Ma compagne tout d&#8217;abord, qui a été d&#8217;un soutien formidable,
même quand je passais mon dimanche sur la dixième réécriture d&#8217;un chapitre dans une humeur détestable.
Mes collègues ninjas, pour leur travail et retours sans relâche,
leur gentillesse et encouragements, et pour m&#8217;avoir laissé le temps nécessaire à cette folle idée.
Et mes amis et ma famille, pour les petits mots qui redonnent l&#8217;énergie au bon moment.</p>
</div>
<div class="paragraph">
<p>Et merci surtout à toi, pour avoir acheté ce livre,
et l&#8217;avoir lu jusqu&#8217;à cette toute dernière ligne ❤️.</p>
</div>
<div class="paragraph">
<p>À très bientôt.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="changelog">Annexe A: Historique des versions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Voici ci-dessous les changements que nous avons apportés à cet ebook
depuis sa première version.
C&#8217;est en anglais, mais ça devrait t&#8217;aider à voir les nouveautés depuis ta dernière lecture&#160;!</p>
</div>
<div class="paragraph">
<p>N&#8217;oublie pas qu&#8217;acheter cet ebook te donne droit à toutes ses mises à jour ultérieures, gratuitement.
Rends-toi sur la page <a href="https://books.ninja-squad.com/claim" class="bare">https://books.ninja-squad.com/claim</a> pour obtenir la toute dernière version.</p>
</div>
<div class="paragraph">
<p>Current versions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Vue: <code>3.4.34</code></p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_changes_since_last_release_2024_07_26">A.1. Changes since last release - 2024-07-26</h3>
<div class="paragraph">
<p><strong>The templating syntax</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add the shorter <code>v-bind</code> syntax introduced in Vue v3.4. <span class="small">(2024-01-11)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Slots</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a section about <code>v-slot</code> destructuration. <span class="small">(2024-07-26)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_4_0_2023_12_29">A.2. v3.4.0 - 2023-12-29</h3>
<div class="paragraph">
<p><strong>How to build components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add an example of a <code>validator</code> using other props, as introduced in Vue v3.4. <span class="small">(2023-12-29)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Update the <code>defineModel</code> section with the new features from Vue v3.4. <span class="small">(2023-12-29)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_3_0_2023_05_12">A.3. v3.3.0 - 2023-05-12</h3>
<div class="paragraph">
<p><strong>The many ways to define components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The "sugar ref" syntax has been removed as it is now deprecated as of Vue v3.3. <span class="small">(2023-05-11)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Script setup</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use the shorter <code>defineEmits</code> syntax introduced in Vue v3.3. <span class="small">(2023-05-11)</span></p>
</li>
<li>
<p>Add a section about the <code>defineOptions</code> macro introduced in Vue v3.3. <span class="small">(2023-05-11)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a section about the <code>defineModel</code> macro introduced in Vue v3.3. <span class="small">(2023-05-12)</span></p>
</li>
<li>
<p>Add a section about how to build custom form components. <span class="small">(2023-05-12)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Slots</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a section about the <code>defineSlots</code> macro introduced in Vue v3.3. <span class="small">(2023-05-11)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_2_45_2023_01_05">A.4. v3.2.45 - 2023-01-05</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reorder the chapters so that the composition API chapter is before the script setup one (as in the Pro Pack exercises). <span class="small">(2022-09-01)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Style your components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a section about <code>v-bind</code> in CSS <span class="small">(2022-07-07)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a section about the route meta field and its usage with guards <span class="small">(2022-12-01)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Advanced component patterns</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter about advanced component patterns! First sections are about template and component refs. <span class="small">(2022-09-02)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Custom directives</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter about custom directives! <span class="small">(2023-01-05)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_2_37_2022_07_06">A.5. v3.2.37 - 2022-07-06</h3>
<div class="paragraph">
<p><strong>State Management</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add some details about Pinia (SSR, plugins, HMR, etc.), and add a section about "Why use a store" <span class="small">(2022-03-11)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Internationalization</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter about vue-i18n! <span class="small">(2022-07-06)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_2_30_2022_02_10">A.6. v3.2.30 - 2022-02-10</h3>
<div class="paragraph">
<p><strong>From zero to something</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The getting started section now uses Vite and create-vue! <span class="small">(2022-02-10)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Style your components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Explain the differences between Vite and the CLI for styles handling <span class="small">(2022-02-10)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Testing your app</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Section about Vitest and the differences with Jest <span class="small">(2022-02-10)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Lazy-loading</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add a section about lazy-loading with Vite <span class="small">(2022-02-10)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Performances</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mention Rollup and Vite <span class="small">(2022-02-10)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_2_26_2021_12_17">A.7. v3.2.26 - 2021-12-17</h3>
<div class="paragraph">
<p><strong>The templating syntax</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Section about Templates and TypeScript support in Vue 3.2 <span class="small">(2021-10-01)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Script setup</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Section about <code>defineProps</code> destructuration and default value feature, introduced in Vue&#160;3.2.20 <span class="small">(2021-12-01)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Composition API</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Section about the awesome VueUse library <span class="small">(2021-10-01)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>State Management</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>As Pinia is the new official recommandation for state management library in Vue 3 (instead of Vuex), the chapter now goes deeper into the details of how to use Pinia, and how to test it. <span class="small">(2021-12-17)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Section on how to use <code>vue-router-mock</code> for tests <span class="small">(2021-10-01)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_2_19_2021_09_30">A.8. v3.2.19 - 2021-09-30</h3>
<div class="paragraph">
<p><strong>The many ways to define components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Update to sugar ref RFC take 2 <span class="small">(2021-08-30)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Script setup</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter about the <code>script setup</code> syntax! All examples of the ebook and exercises have been migrated to this new recommended syntax, introduced in Vue 3.2. <span class="small">(2021-09-29)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Suspense</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Section about <code>script setup</code> and <code>await</code> <span class="small">(2021-09-29)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_2_0_2021_08_10">A.9. v3.2.0 - 2021-08-10</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Add links to our quizzes! <span class="small">(2021-07-29)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>The many ways to define components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter about the various ways to define a component in Vue 3 <span class="small">(2021-08-10)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Performances</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter! Includes a section about the new <code>v-memo</code> directive introduced in Vue 3.2. <span class="small">(2021-08-10)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_1_0_2021_06_07">A.10. v3.1.0 - 2021-06-07</h3>
<div class="paragraph">
<p><strong>The templating syntax</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Mention the projects that can be used to have template type-checking at compile time.
The ebook now uses Volar to check the examples. <span class="small">(2021-05-05)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>VeeValidate v4.3.0 introduced a new <code>url</code> validator. <span class="small">(2021-05-05)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_0_11_2021_04_02">A.11. v3.0.11 - 2021-04-02</h3>

</div>
<div class="sect2">
<h3 id="_v3_0_6_2021_02_26">A.12. v3.0.6 - 2021-02-26</h3>
<div class="paragraph">
<p><strong>Style your components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter about styles! <span class="small">(2021-01-07)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Provide/inject</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter about provide/inject! <span class="small">(2021-02-03)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>State Management</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter about the Store pattern, Flux libraries, Vuex, and Pinia! <span class="small">(2021-02-25)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Animations and transition effects</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter about animations and transitions! <span class="small">(2021-01-20)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_0_4_2020_12_10">A.13. v3.0.4 - 2020-12-10</h3>
<div class="paragraph">
<p><strong>How to build components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds a section on how to choose between <code>ref</code> and <code>reactive</code>. <span class="small">(2020-11-06)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds a section about custom validators with VeeValidate <span class="small">(2020-12-10)</span></p>
</li>
<li>
<p>Adds a section on VeeValidate configuration (how to validate on input) <span class="small">(2020-12-09)</span></p>
</li>
<li>
<p>VeeValidate now offers only some of the previous meta-flags. <span class="small">(2020-10-13)</span></p>
</li>
<li>
<p>It is now possible to rename a field with VeeValidate to have nicer error messages. <span class="small">(2020-10-07)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Suspense</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds a section on the differences between using <code>Suspense</code> or <code>onMounted</code> <span class="small">(2020-11-20)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adds a section about using the router with Suspense <span class="small">(2020-12-04)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_0_0_2020_09_18">A.14. v3.0.0 - 2020-09-18</h3>
<div class="paragraph">
<p><strong>Forms</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Update VeeValidate to v4, which supports Vue 3 <span class="small">(2020-08-07)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Slots</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The chapter now comes earlier in the book, before the Suspense chapter. <span class="small">(2020-08-07)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_0_0_rc_4_2020_07_24">A.15. v3.0.0-rc.4 - 2020-07-24</h3>
<div class="paragraph">
<p><strong>Directives</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Clarify that <code>v-for</code> can be used with <code>in</code> or <code>of</code> <span class="small">(2020-07-16)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Router</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Guards can now return a value instead of having to call <code>next()</code>. <span class="small">(2020-07-24)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Slots</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter about Slots! <span class="small">(2020-07-24)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_0_0_beta_19_2020_07_08">A.16. v3.0.0-beta.19 - 2020-07-08</h3>
<div class="paragraph">
<p><strong>The wonderful world of Web Components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <code>customElements.define</code> instead of the deprecated <code>document.registerElement</code>. <span class="small">(2020-06-17)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>How to build components</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Explain the <code>emits</code> option and how it can be used to validate the emitted event. <span class="small">(2020-06-12)</span></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Under the hood</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>New chapter! Learn how Vue works under the hood (parsing, VDOM, etc.) <span class="small">(2020-07-08)</span></p>
</li>
<li>
<p>Add a section about building the reactivity functions from scratch <span class="small">(2020-07-06)</span></p>
</li>
<li>
<p>Add a section about reactivity with getter/setter and proxies <span class="small">(2020-07-06)</span></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_v3_0_0_beta_10_2020_05_11">A.17. v3.0.0-beta.10 - 2020-05-11</h3>
<div class="paragraph">
<p><strong>Global</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>First public release of the ebook! <span class="small">(2020-05-11)</span></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Dernière mise à jour le 2024-07-29 06:55:45
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.min.js"></script>
</body>
</html>